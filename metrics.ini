[ThemeInfo]
DisplayName=CyberiaStyle LAST APPROACH
Author=CyberiaStyle PROJECT

[Common]
InitialScreen=Branch.InitSet()
#InitialScreen="ScreenCompany2"
AutoSetStyle=true
StepsTypesToHide="lights-cabinet"
DefaultModifiers="1x"
DefaultNoteSkinName="default"
CourseDifficultiesToShow="medium,hard"
FirstAttractScreen="ScreenCompany2"
MaxCourseEntriesBeforeShowVarious=1
SelectMusicScreen=""
OverlayScreens="ScreenSystemLayer,ScreenSyncOverlay,ScreenStatsOverlay,ScreenDebugOverlay,ScreenInstallOverlay"
# 画面サイズが変わる
#ScreenWidth=854
#ScreenHeight=480

[Gameplay]
ComboIsPerRow=tobool(CSComboPerRow())
MissComboIsPerRow=true
MinScoreToContinueCombo=ComboContinue()
MinScoreToMaintainCombo=ComboMaintain()
MaxScoreToIncrementMissCombo='TapNoteScore_Miss'
MineHitIncrementsMissCombo=true
AvoidMineIncrementsCombo=false
ToastyTriggersAt=250
UseInternalScoring=GAMESTATE:IsCourseMode() or GetAdhocPref("CSScoringMode")=="Hybrid" or (not PREFSMAN:GetPreference("PercentageScoring"))
#UseInternalScoring=true

[GameState]
# booleanだと流動的に変更できる
AllowLateJoin=false
DisablePremiumInEventMode=false
DefaultSort="Preferred"
DefaultSong="Songs/Beginner's Package/Dilemma"
#GradeTierForExtra1=GradeTierForEx()
#GradeTierForExtra2=GradeTierForEx()
GradeTierForExtra1="Grade_Tier07"
GradeTierForExtra2="Grade_Tier07"
LockExtraStageSelection=StageSelection
MinDifficultyForExtra="Difficulty_Beginner"
AllowExtra2=GoToEX2

[HighScore]
EmptyName="CSLA"


[CodeDetector]
PrevSteps1="Up,Up"
PrevSteps2="MenuUp,MenuUp"
NextSteps1="Down,Down"
NextSteps2="MenuDown,MenuDown"
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
ModeMenu1=""
ModeMenu2=""
Mirror=""
Left=""
Right=""
Shuffle=""
SuperShuffle=""
NextTransform=""
NextScrollSpeed=""
PreviousScrollSpeed=""
NextAccel=""
NextEffect=""
NextAppearance=""
NextTurn=""
Reverse=""
HoldNotes=""
Mines=""
Dark=""
CancelAll=""
NextGroup=""
PrevGroup=""
NextTheme=""
NextTheme2=""
NextAnnouncer=""
NextAnnouncer2=""
Hidden=""
RandomVanish=""
SaveScreenshot1=""
SaveScreenshot2=""
CancelAllPlayerOptions=""
BackInEventMode=""
CloseCurrentFolder="Up-Down"

[CSCodeDetector]
PrevSteps1="Up,Up"
PrevSteps2="MenuUp,MenuUp"
NextSteps1="Down,Down"
NextSteps2="MenuDown,MenuDown"
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
ModeMenu1=""
ModeMenu2=""
Mirror=""
Left=""
Right=""
Shuffle=""
SuperShuffle=""
NextTransform=""
NextScrollSpeed=""
PreviousScrollSpeed=""
NextAccel=""
NextEffect=""
NextAppearance=""
NextTurn=""
Reverse=""
HoldNotes=""
Mines=""
Dark=""
CancelAll=""
NextGroup=""
PrevGroup=""
NextTheme=""
NextTheme2=""
NextAnnouncer=""
NextAnnouncer2=""
Hidden=""
RandomVanish=""
SaveScreenshot1=""
SaveScreenshot2=""
CancelAllPlayerOptions=""
BackInEventMode=""
CloseCurrentFolder=""
Backwards=""

[PlayerStageStats]
#この情報を編集した場合スコアグラフの情報が取得できなくなります。
# SM_AAAA
GradePercentTier01=1.000000
# SM_AAA
GradePercentTier02=1.000000
# SM_AA
GradePercentTier03=0.930000
# SM_A
GradePercentTier04=0.800000
# SM_B
GradePercentTier05=0.650000
# SM_C
GradePercentTier06=0.450000
# SM_D
GradePercentTier07=-99999.000000

# AAA
GradePercentCSTier01=0.980000
# AA
GradePercentCSTier02=0.930000
# A+
GradePercentCSTier03=0.880000
# A-
GradePercentCSTier04=0.800000
# B
GradePercentCSTier05=0.700000
# C
GradePercentCSTier06=0.600000
# D
GradePercentCSTier07=-99999.000000
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=true
GradeTier02IsFullCombo=false
NumGradeTiersUsed=7

# [PlayerStageStats]
# AAA
# GradePercentTier01=1.000000
# AA
# GradePercentTier02=0.980000
# A+
# GradePercentTier03=0.930000
# A-
# GradePercentTier04=0.850000
# B
# GradePercentTier05=0.750000
# C
# GradePercentTier06=0.600000
# D
# GradePercentTier07=-99999.000000
# GradeTier01IsAllW2s=false
# GradeTier02IsAllW2s=false
# GradeTier02IsFullCombo=false
# NumGradeTiersUsed=7

# [PlayerStageStats]
# AAA
# GradePercentTier01=1.000000
# AA
# GradePercentTier02=1.000000
# A+
# GradePercentTier03=0.930000
# A-
# GradePercentTier04=0.800000
# B
# GradePercentTier05=0.650000
# C
# GradePercentTier06=0.450000
# D
# GradePercentTier07=-99999.000000
# GradeTier01IsAllW2s=false
# GradeTier02IsAllW2s=true
# GradeTier02IsFullCombo=false
# NumGradeTiersUsed=7

[ScoreKeeperNormal]
PercentScoreWeightMissedHold=0
GradeWeightMissedHold=0

[Player]
DrawDistanceBeforeTargetsPixels=SCREEN_HEIGHT-30
DrawDistanceAfterTargetsPixels=-170
ComboUnderField=ComboUnderField()
RollBodyIncrementsCombo=GetGamePref("UserPrefComboOnRolls")
ScoreMissedHoldsAndRolls=ScoreMissedHoldsAndRolls()
PercentUntilColorCombo=0.000001
ComboStoppedAt=50
ComboBreakOnImmediateHoldLetGo=GetAdhocPref("HoldAllowComboBreak")

[NoteField]
ShowBoard=false
ShowBeatBars=false
#BarMeasureAlpha=
#Bar4thAlpha=
Bar8thAlpha=tostring(getenv("playmusictextentry")) == "false" and 1 or 0
Bar16thAlpha=tostring(getenv("playmusictextentry")) == "false" and 1 or 0


[SongManager]
ExtraStagePlayerModifiers="default"
ExtraStageStageModifiers="failimmediate,4 lives,battery"
OMESPlayerModifiers="default"
OMESStageModifiers="failimmediate,1 lives,battery"
UsePreferredSortColor=false
NumSongGroupColors=1
SongGroupColor1=color("1,1,1,1")

NumCourseGroupColors=10
CourseGroupColor1=color("1,0.6,0,1")
CourseGroupColor2=color("0.3,0.8,1,1")
CourseGroupColor3=color("1,1,0,1")
CourseGroupColor4=color("0.65,1,0.65,1")
CourseGroupColor5=color("1,0.7,0.4,1")
CourseGroupColor6=color("0.75,0.65,1,1")
CourseGroupColor7=color("1,0.5,0.5,1")
CourseGroupColor8=color("0.7,1,0.2,1")
CourseGroupColor9=color("0.6,1,1,1")
CourseGroupColor10=color("1,0.7,1,1")

CourseGroupColor11=color("1,0.8,0.2,1")
CourseGroupColor12=color("0,1,1,1")
CourseGroupColor13=color("1,0.6,0.6,1")
CourseGroupColor14=color("0.4,0.9,0.4,1")
CourseGroupColor15=color("1,1,0.45,1")
CourseGroupColor16=color("0.55,0.8,1,1")
CourseGroupColor17=color("1,0.55,0.35,1")
CourseGroupColor18=color("0.2,1,0.8,1")
CourseGroupColor19=color("1,1,0.7,1")
CourseGroupColor20=color("1,0.5,0.7,1")

[Course]
SortLevel1Color=color("1,0.6,0,1")
SortLevel2Color=color("0.3,0.8,1,1")
SortLevel3Color=color("1,1,0,1")
SortLevel4Color=color("0.65,1,0.65,1")
SortLevel5Color=color("1,0.7,0.4,1")

ExtraColor=color("1,0,0,1")
ExtraColorMeter=999999

UseUnlockColor=true
UnlockColor=("1,0.5,0,1")

[BitmapText]
NumRainbowColors=1
RainbowColor1=color("1,0.1,0.4,1")

[FadingBanner]
BannerOnCommand=%function(self) if SCREENMAN:GetTopScreen() then if SCREENMAN:GetTopScreen():GetChild('MusicWheel') then (cmd(diffusealpha,0.5;fadeleft,0.1;faderight,0.375))(self) end; end; end;
BannerFadeFromCachedCommand=%function(self) (cmd(diffusealpha,1))(self) if SCREENMAN:GetTopScreen() then if SCREENMAN:GetTopScreen():GetChild('MusicWheel') then (cmd(diffusealpha,0.5))(self) end; end; (cmd(stoptweening;linear,0.05;diffusealpha,0))(self) end;
BannerFadeOffCommand=%function(self) (cmd(diffusealpha,1))(self) if SCREENMAN:GetTopScreen() then if SCREENMAN:GetTopScreen():GetChild('MusicWheel') then (cmd(diffusealpha,0.5))(self) end; end; (cmd(stoptweening;linear,0.05;diffusealpha,0))(self) end;
BannerResetFadeCommand=%function(self) (cmd(diffusealpha,1))(self) if SCREENMAN:GetTopScreen() then if SCREENMAN:GetTopScreen():GetChild('MusicWheel') then (cmd(diffusealpha,0.5))(self) end; end; end;


## overlay screens ##
[ScreenDebugOverlay]
Class="ScreenDebugOverlay"
Fallback="Screen"

LineOnColor=color("1,1,1,1")
LineOffColor=color("0.6,0.6,0.6,1")
LineStartY=SCREEN_TOP+50
LineSpacing=18
LineButtonX=SCREEN_CENTER_X-120
LineFunctionX=SCREEN_CENTER_X-100

ButtonTextOnCommand=strokecolor,color("0,0,0,0.9");zoom,0.8
FunctionTextOnCommand=strokecolor,color("0,0,0,0.9");zoom,0.8

PageStartX=SCREEN_CENTER_X-100
PageSpacingX=120
PageTextOnCommand=strokecolor,color("0,0,0,0.9");zoom,0.75
PageTextGainFocusCommand=diffuse,color("1,1,1,1")
PageTextLoseFocusCommand=diffuse,color("0.6,0.6,0.6,1")

DebugMenuHeaderX=SCREEN_LEFT+80
DebugMenuHeaderY=SCREEN_TOP+18
DebugMenuHeaderOnCommand=strokecolor,color("0,0,0,0.9")
DebugMenuHeaderOffCommand=

HeaderTextX=SCREEN_LEFT+80
HeaderTextY=SCREEN_TOP+18
HeaderTextOnCommand=strokecolor,color("0,0,0,0.9")
HeaderTextOffCommand=

LineOnCommand=zoom,0.75

[ScreenSystemLayer]
CreditsP1X=SCREEN_LEFT+140/2
CreditsP1Y=SCREEN_BOTTOM-16/2
CreditsP1RefreshCreditTextMessageCommand=queuecommand,"UpdateText";
CreditsP1CoinInsertedMessageCommand=queuecommand,"UpdateText";
CreditsP1CoinModeChangedMessageCommand=queuecommand,"UpdateText";
CreditsP1PlayerJoinedMessageCommand=queuecommand,"UpdateText";
CreditsP1NetConnectionSuccessMessageCommand=queuecommand,"UpdateText";
CreditsP1NetConnectionFailedMessageCommand=queuecommand,"UpdateText";
CreditsP1ScreenChangedMessageCommand=queuecommand,"UpdateVisible";queuecommand,"On"
CreditsP1OnCommand=horizalign,left;zoom,0.5;shadowlength,0;maxwidth,300;diffuse,color("0,1,1,1");strokecolor,Color("Black");
CreditsP1OffCommand=
#
CreditsP2X=SCREEN_RIGHT-140/2
CreditsP2Y=SCREEN_BOTTOM-16/2
CreditsP2RefreshCreditTextMessageCommand=queuecommand,"UpdateText";
CreditsP2CoinInsertedMessageCommand=queuecommand,"UpdateText";
CreditsP2CoinModeChangedMessageCommand=queuecommand,"UpdateText";
CreditsP2PlayerJoinedMessageCommand=queuecommand,"UpdateText";
CreditsP2NetConnectionSuccessMessageCommand=queuecommand,"UpdateText";
CreditsP2NetConnectionFailedMessageCommand=queuecommand,"UpdateText";
CreditsP2ScreenChangedMessageCommand=queuecommand,"UpdateVisible";queuecommand,"On"
CreditsP2OnCommand=horizalign,right;zoom,0.5;shadowlength,0;maxwidth,300;diffuse,color("0,1,1,1");strokecolor,Color("Black");
CreditsP2OffCommand=
#
CreditsCreditsX=SCREEN_CENTER_X
CreditsCreditsY=SCREEN_BOTTOM-16/2
CreditsCreditsRefreshCreditTextMessageCommand=queuecommand,"UpdateText";
CreditsCreditsCoinInsertedMessageCommand=queuecommand,"UpdateText";
CreditsCreditsCoinModeChangedMessageCommand=queuecommand,"UpdateVisible";
CreditsCreditsNetConnectionSuccessMessageCommand=queuecommand,"UpdateText";
CreditsCreditsNetConnectionFailedMessageCommand=queuecommand,"UpdateText";
CreditsCreditsScreenChangedMessageCommand=queuecommand,"UpdateText";queuecommand,"On"
CreditsCreditsOnCommand=zoom,0.5;shadowlength,0;maxwidth,300;diffuse,color("0,1,1,1");strokecolor,Color("Black");
CreditsCreditsOffCommand=

[ScreenStatsOverlay]
Class="ScreenStatsOverlay"
Fallback="Screen"
StatsX=SCREEN_RIGHT-8
StatsY=SCREEN_TOP+10
StatsOnCommand=halign,1;valign,0;shadowlength,1;strokecolor,Color("Black");zoom,0.5
ShowSkips=true
SkipX=SCREEN_RIGHT-100
SkipY=SCREEN_BOTTOM-50
SkipWidth=190
SkipSpacingY=14


## bases ##
[Screen]
ScreenInitCommand=
ScreenOnCommand=
ShowStyleIcon=false
ShowStatusbar=false
ShowIHelpunder=false
ShowInfoStatusP1=false
ShowInfoStatusP2=false
PrevScreen=""
ScreenType=0
OptionScreenType=0
VisibleA=false
HeaderTitle=false

[ScreenWithMenuElements]
# このアニメーションが終わるまで操作ホールド
ShowHeaderRight=false
ShowHeaderTimeR=false

StageDisplayNumberOffset=1

ShowHeader=true
HeaderX=
HeaderY=
HeaderOnCommand=draworder,96
HeaderOffCommand=

ShowStatusbar=false
StatusbarX=
StatusbarY=
StatusbarOnCommand=draworder,-10
StatusbarOffCommand=

ShowIHelpunder=false
IHelpunderX=
IHelpunderY=
IHelpunderOnCommand=draworder,91
IHelpunderOffCommand=

TimerX=(tobool(GetAdhocPref("CSLAEasterEggs")) == true and ((CScreen(Var("LoadingScreen")) and GetAdhocPref("FrameSet") == "Cs6") or cs6md)) and SCREEN_RIGHT-42 or SCREEN_RIGHT-52
TimerY=(tobool(GetAdhocPref("CSLAEasterEggs")) == true and ((CScreen(Var("LoadingScreen")) and GetAdhocPref("FrameSet") == "Cs6") or cs6md)) and SCREEN_TOP+32 or SCREEN_TOP+34
TimerOnCommand=draworder,98;addx,56;addy,-56;sleep,0.3;decelerate,0.2;addx,-56;addy,56
TimerOffCommand=

ShowStyleIcon=false
StyleIconX=styleicon("x")
StyleIconY=styleicon("y")
StyleIconOnCommand=draworder,98;croptop,1;sleep,0.1;decelerate,0.3;croptop,0
StyleIconOffCommand=

MemoryCardDisplayP1X=SCREEN_RIGHT-480/2
MemoryCardDisplayP1Y=SCREEN_TOP+30/2
MemoryCardDisplayP1OnCommand=draworder,98;zoomy,0;addy,-20;sleep,0.3;decelerate,0.2;zoomy,1;addy,20
MemoryCardDisplayP1OffCommand=
MemoryCardDisplayP2X=SCREEN_RIGHT-420/2
MemoryCardDisplayP2Y=SCREEN_TOP+30/2
MemoryCardDisplayP2OnCommand=draworder,98;zoomy,0;addy,-20;sleep,0.3;decelerate,0.2;zoomy,1;addy,20
MemoryCardDisplayP2OffCommand=

ShowHelp=true
HelpX=CAspect() >= 1.6 and SCREEN_WIDTH*0.25 or SCREEN_LEFT+114
HelpY=SCREEN_TOP+51
HelpOnCommand=%function(self) (cmd(horizalign,left;maxwidth,SCREEN_RIGHT*1.45-148;strokecolor,Color("Black");draworder,98))(self) if THEME:GetMetric( Var "LoadingScreen","ScreenType") == 2 then (cmd(zoom,0.55;diffuseshift;effectperiod,2.5;effectcolor1,color("1,1,0.9,1");effectcolor2,color("0.7,1,1,0.9")))(self) else (cmd(zoom,0.55;zoomy,0;addx,-6;addy,-6;sleep,0.2;accelerate,0.2;zoomy,0.55;addx,6;addy,6;diffuseshift;effectperiod,2.5;effectcolor1,color("1,1,0.9,1");effectcolor2,color("0.7,1,1,0.9")))(self) end; end;
HelpText=Screen.String("HelpTextGeneric")
ShowCoinsAndCredits=true

# This is useful
ArcadeOverlayX=
ArcadeOverlayY=
ArcadeOverlayOnCommand=draworder,100
ArcadeOverlayOffCommand=
#
ArcadeOverlay.TextX=SCREEN_CENTER_X
ArcadeOverlay.TextY=SCREEN_BOTTOM-60
ArcadeOverlay.TextOnCommand=
ArcadeOverlay.TextOffCommand=

[MenuTimer]
FrameOnCommand=visible,false
Text1OnCommand=stoptweening;shadowlength,0;x,-16;y,0
Text1FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); setenv("Timer",fSeconds-1); local digit = math.floor(fSeconds/10); return ""..digit end
Text2OnCommand=stoptweening;shadowlength,0;x,16;y,0
Text2FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.mod(fSeconds,10); return ""..digit end

[HelpDisplay]
TipShowTime=5
TipOnCommand=shadowlength,0


[ScreenAttract]
Fallback="ScreenWithMenuElementsBlank"
StartScreen=Branch.TitleMenu()
ForceTimer=true
CancelTransitionsOut=false
ShowHeader=false

[ScreenWithMenuElementsBlank]
ShowHeader=false
TimerStealth=true
TimerOnCommand=visible,false
ShowCoinsAndCredits=false

[ScreenSelectMaster]
Class="ScreenSelectMaster"
Fallback="ScreenWithMenuElements"

ShowScroller=false
ShowCursor=false
CursorP1OffsetXFromIcon=

OptionOrderBUp=
OptionOrderBDown=
OptionOrderBLeft=
OptionOrderBRight=
OptionOrderBAuto=

# options bases
[ScreenOptions]
HeaderTitle="Options"
OptionScreenType=0
NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-134)+(28*offsetFromCenter)) \
end

PageOnCommand=y,SCREEN_CENTER_Y-12
PageOffCommand=
ContainerOnCommand=draworder,-1;zoomy,0;decelerate,0.25;zoomy,1
ContainerOffCommand=zoomy,1;decelerate,0.25;zoomy,0
OptionRowNormalMetricsGroup="OptionRow"
CursorTweenSeconds=0.15
ShowExitRow=true
SeparateExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+116
MoreX=
MoreY=
MoreOnCommand=visible,false
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

LineHighlightP1OnCommand=blend,Blend.Add;diffusealpha,0.3;zoomtowidth,520;zoomtoheight,32
LineHighlightP1OffCommand=
LineHighlightP1ChangeCommand=stoptweening;linear,0.025;zoomtowidth,520;zoomtoheight,32
LineHighlightP1ChangeToExitCommand=stoptweening;linear,0.025;zoomtowidth,260;zoomtoheight,22

LineHighlightP2OnCommand=blend,Blend.Add;diffusealpha,0.2;zoomtowidth,520;zoomtoheight,32;
LineHighlightP2OffCommand=
LineHighlightP2ChangeCommand=stoptweening;linear,0.025;zoomtowidth,520;zoomtoheight,32
LineHighlightP2ChangeToExitCommand=stoptweening;linear,0.025;zoomtowidth,260;zoomtoheight,22

ExplanationTogetherX=SCREEN_CENTER_X-308
ExplanationTogetherY=SCREEN_BOTTOM-64
ExplanationP1X=(SCREEN_CENTER_X*0.575)-158
ExplanationP1Y=SCREEN_BOTTOM-84
ExplanationP2X=(SCREEN_CENTER_X*1.425)-104
ExplanationP2Y=SCREEN_BOTTOM-84
ExplanationP1OnCommand=zoom,0.55;wrapwidthpixels,494;horizalign,left;cropright,1;linear,0.4;cropright,0;diffuse,PlayerColor(PLAYER_1);strokecolor,Color("Black")
ExplanationP2OnCommand=zoom,0.55;wrapwidthpixels,494;horizalign,left;cropright,1;linear,0.4;cropright,0;diffuse,PlayerColor(PLAYER_2);strokecolor,Color("Black")
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1140;horizalign,left;cropright,1;linear,0.4;cropright,0;strokecolor,Color("Black")

#statusbar to lua
ShowStatusbar=false

ShowHeaderRight=false
ShowHeaderTimeR=false

[ModIcon]
TextX=0
TextY=0
TextOnCommand=maxwidth,40;uppercase,true;shadowlength,0
CropTextToWidth=36
StopWords="default,Overhead,Off"

[ModIconRow]
NumModIcons=6
ModIconOnCommand=
SpacingX=0
SpacingY=52
ModIconMetricsGroup="ModIcon"

[ModIconRowSelectMusic]
NumModIcons=7
SpacingX=38
SpacingY=0


[OptionRow]
## ModIcon表示挙動に問題あり？ ##
ShowModIcons=false
ShowUnderlines=true
ShowBpmInSpeedTitle=true
ModIconMetricsGroup="ModIcon"
ModIconP1X=SCREEN_CENTER_X-287
ModIconP2X=SCREEN_CENTER_X+285
ModIconOnCommand=x,-30;horizalign,right

FrameX=SCREEN_CENTER_X-200
FrameY=0
FrameOnCommand=
ItemsStartX=SCREEN_CENTER_X-170
ItemsEndX=SCREEN_CENTER_X+220
ItemsGapX=14
ItemsMinBaseZoom=0.8
ItemOnCommand=y,-2;shadowlength,0;zoom,0.485;strokecolor,color("0.1,0.1,0.1,1")
ItemGainFocusCommand=
ItemLoseFocusCommand=
TweenSeconds=0.15
TitleX=SCREEN_CENTER_X-200
TitleY=7
TitleOnCommand=shadowlength,2;horizalign,right;vertalign,bottom;zoom,0.55;maxwidth,204
TitleGainFocusCommand=stoptweening;decelerate,0.1;diffuse,color("0,0,0,1");diffusebottomedge,color("0,0.8,0.8,1");strokecolor,color("0,1,1,1")
TitleLoseFocusCommand=stoptweening;decelerate,0.1;diffuse,color("0,0.2,0.2,1");strokecolor,color("0.65,0.3,0,1");stopeffect
ColorSelected=color("1,1,1,1")
ColorNotSelected=color("0.5,0.5,0.5,1")

[OptionRowExit]
FrameOnCommand=visible,true
FrameX=SCREEN_CENTER_X
ItemOnCommand=visible,false
ItemLoseFocusCommand=zoom,1

[PlayerOptionsRowExit]
Fallback="OptionRow"
FrameOnCommand=visible,false
ItemOnCommand=visible,false
ItemsStartX=SCREEN_CENTER_X
ItemsEndX=SCREEN_CENTER_X

[ScreenOptionsSimple]
Fallback="ScreenOptions"
ShowUnderlines=false
CursorOnCommand=visible,false
ShowStatusbar=false
NumRowsShown=9
OptionRowNormalMetricsGroup="OptionRowSimple"
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-134)+(28*offsetFromCenter)) \
end

PageOnCommand=y,SCREEN_CENTER_Y-12
PageOffCommand=
ContainerOnCommand=draworder,-1;zoomy,0;decelerate,0.25;zoomy,1
ContainerOffCommand=stoptweening;zoomy,1;decelerate,0.25;zoomy,0
ShowExitRow=true
MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y+116
ExplanationTogetherX=SCREEN_CENTER_X-308
ExplanationTogetherY=SCREEN_BOTTOM-64
ExplanationTogetherOnCommand=zoom,0.675;wrapwidthpixels,1140;horizalign,left;cropright,1;linear,0.4;cropright,0;strokecolor,Color("Black")

[ScreenOptionsSimpleProfile]
Fallback="ScreenOptions"
ShowUnderlines=false
CursorOnCommand=visible,false
ShowStatusbar=false
NumRowsShown=9
OptionRowNormalMetricsGroup="OptionRowSimpleProfile"
ExplanationTogetherX=SCREEN_CENTER_X-308
ExplanationTogetherY=SCREEN_BOTTOM-64
ExplanationTogetherOnCommand=zoom,0.55;wrapwidthpixels,1140;horizalign,left;cropright,1;linear,0.4;cropright,0;strokecolor,Color("Black")

[OptionRowSimpleProfile]
Fallback="OptionRow"
FrameX=SCREEN_CENTER_X-222
TitleX=SCREEN_CENTER_X
TitleY=-2
TitleOnCommand=shadowlength,0;zoom,0.65
ColorSelected=color("1,1,1,1")
ColorNotSelected=color("1,0.5,0.7,1")

[OptionRowSimple]
Fallback="OptionRow"
FrameX=SCREEN_CENTER_X-222
TitleX=SCREEN_CENTER_X-200
TitleY=-2
TitleOnCommand=shadowlength,0;horizalign,left;zoom,0.5;strokecolor,Color("Black")
ColorSelected=color("1,1,1,1")
ColorNotSelected=color("1,0.5,0.7,1")

[OptionRowService]
Fallback="OptionRow"
TitleOnCommand=shadowlength,0;zoomx,0.825;zoomy,0.75
TitleGainFocusCommand=stoptweening;zoomx,0.825;zoomy,0.75;diffuse,color("1,0.5,0,1");diffusetopedge,BoostColor(Color("Orange"),1.5);strokecolor,color("0.3,0.3,0.3,1");
TitleLoseFocusCommand=stoptweening;zoomx,0.825;zoomy,0.75;diffuse,color("0.7,0.7,0.7,1");strokecolor,ColorDarkTone(color("0,1,1,0.5"));cropright,0;stopeffect;

[ScreenOptionsSimpleService]
NumRowsShown=9
SeparateExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+116
LineHighlightP1OnCommand=blend,Blend.Add;diffusealpha,0.3;zoomtowidth,520;zoomtoheight,32
LineHighlightP1OffCommand=
LineHighlightP1ChangeCommand=stoptweening;linear,0.025;zoomtowidth,520;zoomtoheight,32
LineHighlightP1ChangeToExitCommand=stoptweening;linear,0.025;zoomtowidth,260;zoomtoheight,22

LineHighlightP2OnCommand=blend,Blend.Add;diffusealpha,0.2;zoomtowidth,520;zoomtoheight,32;
LineHighlightP2OffCommand=
LineHighlightP2ChangeCommand=stoptweening;linear,0.025;zoomtowidth,520;zoomtoheight,32
LineHighlightP2ChangeToExitCommand=stoptweening;linear,0.025;zoomtowidth,260;zoomtoheight,22

# Export Packages
[ScreenOptionsExportPackage]
HeaderTitle="ExportPackage"
Class="ScreenOptionsExportPackage"
Fallback="ScreenOptionsSimpleService"
ShowHelp=false

[ScreenOptionsExportPackageSubPage]
HeaderTitle="ExportPackage"
ShowHelp=false
ShowHeader=false

[OptionRowSimpleService]
Fallback="OptionRowService"
FrameX=SCREEN_CENTER_X-222
TitleX=SCREEN_CENTER_X-200
TitleY=-2
TitleOnCommand=shadowlength,0;horizalign,left
ColorSelected=color("1,1,1,1")
ColorNotSelected=color("1,0.5,0.7,1")

[OptionRowSimpleExit]
Fallback="OptionRowExit"
ItemOnCommand=visible,false
ItemsLongRowSharedX=SCREEN_CENTER_X

[ScreenOptionsService]
HeaderTitle="Options"
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsSimple"
OptionRowNormalMetricsGroup="OptionRowSimpleService"
PrevScreen=Branch.ServiceOptionsBack()
NextScreen=Branch.ServiceOptionsBack()
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpTextOptionsService")
SeparateExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+116
ShowCoinsAndCredits=false

LineNames=GetOptionLines()
#LineNames="1,2,3,4,5,6,7,8,BGFit,9,10,11,12,FS,13,14"
Line1="gamecommand;screen,ScreenAppearanceOptions;name,System Options"
Line2="gamecommand;screen,ScreenCoinOptions;name,Coin Options"
Line3="gamecommand;screen,ScreenMapControllers;name,Config Key/Joy Mappings"
Line4="gamecommand;screen,ScreenSoundOptions;name,Input/Sound Options"
Line5="gamecommand;screen,ScreenGameplaySyncMachine;name,Calibrate Machine Sync"
Line6="gamecommand;screen,ScreenTestInput;name,Test Input"
Line7="gamecommand;screen,ScreenGraphicOptions;name,Display Options"
Line8="gamecommand;screen,ScreenBackgroundOptions;name,Background Options"
Line9="gamecommand;screen,ScreenGameplayOptions;name,Gameplay Options"
Line10="gamecommand;screen,ScreenMachineOptions;name,Life/Judge Options"
Line11="gamecommand;screen,ScreenSectionOptions;name,Section/Unlock Options"
Line12="gamecommand;screen,ScreenOptionsManageProfiles;name,Profile Options"
Line13="gamecommand;screen,ScreenNetworkOptions;name,Network Options"
Line14="gamecommand;screen,ScreenReloadSongs;name,Reload Songs/Courses"
LineFS="gamecommand;screen,ScreenOptionsFrameSet;name,Select Game Frame;text,Select Game Frame"
LineM="gamecommand;screen,ScreenOptionsExtended;name,More Options"
LineCS="gamecommand;screen,ScreenCSOptions;name,CS Options"
LineBGFit="gamecommand;screen,ScreenSetBGFit;name,Set BG Fit Mode"
LineIC="gamecommand;name,Key/Input/Sound Options"
LineDB="gamecommand;name,Display/Background Options"
LineGJ="gamecommand;name,Gameplay/Life/Judge/Section Options"

LineCC="gamecommand;screen,ScreenTiCredits;name,Credits"
LineSC="gamecommand;name,Credits Select"
LineMO="gamecommand;screen,ScreenOperation;name,Method Of Operation"

[ScreenOptionsServiceSubMenu]
HeaderTitle=opsubheadertitle()
TimerSeconds=-1
ShowExplanation=false
ShowCoinsAndCredits=false
Fallback="ScreenWithMenuElements"
HelpText=visible,false
PlayMusic=true
StopMusicOnBack=false
ShowCoinsAndCredits=false

ShowHeader=true
#HeaderY=140
ShowStyleIcon=false
ShowIHelpunder=false
ShowStatusbar=false
MemoryCardIcons=false
ResetGameState=false

ShowHeaderRight=false
ShowHeaderTimeR=false

PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

ScreenOnCommand=lockinput,1


[ScreenSetBGFit]
HeaderTitle="SetBG"
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
HelpText=Screen.String("HelpTextGeneric")
ShowIHelpunder=true
RepeatRate=10
RepeatDelay=.25
ShowCoinsAndCredits=false

[ScreenOptionsFrameSet]
HeaderTitle="FrameS"
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
HelpText=Screen.String("HelpTextGeneric")
ShowExplanation=false
TimerSeconds=-1
ScreenOnCommand=lockinput,0.5
ShowCoinsAndCredits=false

CodeNames="Start,Center"
CodeStart="Start"
CodeCenter="Center"

ShowHeaderRight=false
ShowHeaderTimeR=false

DefaultChoice=GetAdhocPref("FrameSet")
ChoiceNames=SelectFrameDefault()
ChoiceDefault="name,Default"
ChoiceRegular="name,Regular"
ChoiceWhite="name,White"
ChoiceBlack="name,Black"
ChoiceGold="name,Gold"
ChoiceMetal="name,Metal"
ChoiceCutie="name,Cutie"
ChoiceNonstop="name,Nonstop"
ChoiceChallenge="name,Challenge"
ChoiceEndless="name,Endless"
ChoiceRave="name,Rave"
ChoiceExtra="name,Extra"
ChoiceSpecial="name,Special"
ChoiceCyan="name,Cyan"
ChoiceCyan_Special="name,Cyan_Special"
ChoiceR7-4thMix="name,R7-4thMix"
ChoiceCs1="name,Cs1"
ChoiceCs6="name,Cs6"
ChoiceOcean="name,Ocean"

Choice15="name,15"
Choice16="name,16"
Choice17="name,17"
Choice18="name,18"
Choice19="name,19"
Choice20="name,20"
Choice21="name,21"
Choice22="name,22"
Choice23="name,23"
Choice24="name,24"
Choice25="name,25"
Choice26="name,26"
Choice27="name,27"
Choice28="name,28"
Choice29="name,29"
Choice30="name,30"
Choice31="name,31"
Choice32="name,32"
Choice33="name,33"
Choice34="name,34"
Choice35="name,35"
Choice36="name,36"
Choice37="name,37"
Choice38="name,38"
Choice39="name,39"
Choice40="name,40"
Choice41="name,41"
Choice42="name,42"
Choice43="name,43"
Choice44="name,44"
Choice45="name,45"
Choice46="name,46"
Choice47="name,47"
Choice48="name,48"
Choice49="name,49"
Choice50="name,50"

OptionOrderAuto="100:100"

ScrollerSecondsPerItem=0.05
ScrollerNumItemsToDraw=FrameSelectDraw()
ScrollerTransform=function(self,offsetFromCenter,itemIndex,numItems) \
	if offsetFromCenter>=1 then \
		y = 10 + offsetFromCenter * 28; \
	elseif offsetFromCenter<=-1 then \
		y = offsetFromCenter * 28 - 10; \
	else \
		y = offsetFromCenter * 38; \
	end; \
	self:y( y ); \
end;

AllowRepeatingInput=true
SharedSelection=true
ShowCursor=false
LoopScroller=true
WrapScroller=true
ShowScroller=true
WrapCursor=true
ScrollerX=
ScrollerY=
ScrollerOnCommand=
ScrollerOffCommand=

ShowIcon=true
UseIconMetrics=false
PerChoiceIconElement=false
PerChoiceScrollElement=false


ShowStyleIcon=false
ShowIHelpunder=true
MemoryCardIcons=false

Showstatusjoin=false
statusjoinX=
statusjoinY=
statusjoinOnCommand=draworder,90
statusjoinOffCommand=

[ScreenCSOptions]
HeaderTitle="CSO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="Use3D,SNSort,Jacket,Score,FlashyC,ComboUnderF,CJudge,CCombo,ComboRolls,HJudge,HBreak,MeterType,DAnim,CSLAEE"
LineUse3D="lua,OptionRow3DModels()"
LineJacket="lua,WheelGraphics()"
LineBGMode="lua,BGMode()"
#LineCustomSpeed="lua,UserPrefCustomSpeed()"
LineFlashyC="lua,UserPrefFlashyCombo()"
LineComboUnderF="lua,UserPrefComboUnderField()"
LineCJudge="lua,ComboJudge()"
LineCCombo="lua,CComboIsPerRow()"
LineComboRolls="lua,UserPrefComboOnRolls()"
LineHJudge="lua,HoldArrowJudge()"
LineHBreak="lua,ComboHMissBreak()"
LineMeterType="lua,MeterType()"
LineScore="lua,UserPrefScoringMode()"
LineSNSort="lua,SNSort()"
LineDAnim="lua,DiffListAnimation()"
LineCSLAEE="lua,CSLAEasterEggs()"


[ScreenInitialOptions]
CodeNames="Back"
CodeBack="+Back"
HeaderTitle="CSInitial"
Fallback="ScreenCSOptions"
NextScreen=Branch.AfterInitialOptions()
PrevScreen=Branch.AfterInitialOptions()
ShowHelp=true
ShowIHelpunder=true
CancelTransitionsOut=true
HelpText=HelpTextInitialOptions()
#LineNames="Use3D,Jacket,MeterType"
LineNames=GetInitialOptionLines()
LineDataMigration="lua,DataMigration()"

[ScreenAppearanceOptions]
HeaderTitle="AppearanceO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=AppearanceOptionsLines()
Line1="conf,Game"
Line2="conf,Language"
Line3="conf,Theme"
Line4="conf,ShowInstructions"
Line5="conf,ShowCaution"
Line6="conf,ShowNativeLanguage"
Line7="conf,AutogenSteps"
Line8="conf,AutogenGroupCourses"
Line9="conf,FastLoad"
Line32="conf,AllowSongDeletion"
LineECPT="conf,EditClearPromptThreshold"

[ScreenCoinOptions]
HeaderTitle="CoinO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=CoinOptionsLines()
Line1="conf,CoinMode"
Line2="conf,SongsPerPlay"
Line3="conf,CoinsPerCredit"
Line4="conf,Premium"
Line5="conf,EventMode"
LineCC="lua,CustomCoinMode()"

[ScreenSectionOptions]
HeaderTitle="SectionO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=SectionOptionsLines()
#LineNames="1,2,Jacket,3,15,4,6,7,OptLotsa,9,DAnim"
Line1="conf,MusicWheelSwitchSpeed"
Line2="conf,MusicWheelUsesSections"
LineJacket="lua,WheelGraphics()"
Line3="conf,CourseSortOrder"
Line15="conf,LockCourseDifficulties"
Line4="conf,MoveRandomToEnd"
#Line5="conf,PickExtraStage"
Line6="conf,UseUnlockSystem"
Line7="conf,HiddenSongs"
LineOptLotsa="lua,UserPrefShowLotsaOptions()"
Line9="conf,ShowSongOptions"
LineSNSort="lua,SNSort()"
LineDAnim="lua,DiffListAnimation()"
LineCSLAEE="lua,CSLAEasterEggs()"

[ScreenGameplayOptions]
HeaderTitle="GameplayO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=GameplayOptionsLines()
#LineNames="1,MeterType,3,4,SI,SM,FlashyC,ComboUnderF,2,8,9,10,12,16,17"
Line1="conf,MenuTimer"
LineMeterType="lua,MeterType()"
Line2="conf,AutoPlay"
Line3="conf,DefaultNoteSkin"
#LineCustomSpeed="lua,UserPrefCustomSpeed()"
Line4="conf,Center1Player"
#Line6="conf,PercentageScoring"
#Line7="conf,DancePointsForOni"
LineFlashyC="lua,UserPrefFlashyCombo()"
LineComboUnderF="lua,UserPrefComboUnderField()"
Line8="conf,AllowExtraStage"
Line9="conf,GetRankingName"
Line10="conf,AllowMultipleHighScoreWithSameName"
Line12="conf,Disqualification"
Line16="conf,MaxHighScoresPerListForMachine"
Line17="conf,MaxHighScoresPerListForPlayer"
LineSI="lua,SpeedModIncSize()"
LineSM="lua,SpeedModIncLarge()"

[ScreenMachineOptions]
HeaderTitle="MachineO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=MachineOptionsLines()
#LineNames="1,2,3,4,5,6,7,13,14,Score,CJudge,11,CCombo,ComboRolls,HJudge,HBreak"
Line1="conf,AllowW1"
Line2="conf,TimingWindowScale"
Line3="conf,LifeDifficulty"
Line4="conf,ProgressiveLifebar"
Line5="conf,ProgressiveStageLifebar"
Line6="conf,ProgressiveNonstopLifebar"
Line7="conf,DefaultFailType"
Line11="conf,ComboContinuesBetweenSongs"
Line13="conf,FailOffForFirstStageEasy"
Line14="conf,FailOffInBeginner"
LineScore="lua,UserPrefScoringMode()"
LineCJudge="lua,ComboJudge()"
LineCCombo="lua,CComboIsPerRow()"
LineComboRolls="lua,UserPrefComboOnRolls()"
LineHJudge="lua,HoldArrowJudge()"
LineHBreak="lua,ComboHMissBreak()"

[ScreenSoundOptions]
HeaderTitle="SoundO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=SoundOptionsLines()
#LineNames="1,2,3,4,5,6,8,9,10,11,12"
Line1="conf,AutoMapOnJoyChange"
Line2="conf,OnlyDedicatedMenuButtons"
Line3="conf,DelayedBack"
Line4="conf,ArcadeOptionsNavigation"
Line5="conf,ThreeKeyNavigation"
Line6="conf,SoundVolume"
Line7="conf,SoundVolumeAttract"
Line8="conf,AttractSoundFrequency"
Line9="conf,Announcer"
Line10="conf,EnableAttackSounds"
Line11="conf,EnableMineHitSound"
Line12="conf,InputDebounceTime"

[ScreenMapControllers]
HeaderTitle="MapControllers"
Class="ScreenMapControllers"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
ShowIHelpunder=false

LockInputSecs=1
AutoDismissWarningSecs=5
AutoDismissNoSetListPromptSecs=3
ShowHelp=true
HelpText=Screen.String("HelpTextMapControllers")
HelpX=SCREEN_CENTER_X-304
HelpY=SCREEN_TOP+98/2
HelpOnCommand=horizalign,left;maxwidth,SCREEN_RIGHT*1.45-320;strokecolor,Color("Black");draworder,98;zoom,0;zoomx,4;zoomy,0;accelerate,0.3;zoom,0.55;diffuseshift;effectperiod,2.5;effectcolor1,color("1,1,0.9,1");effectcolor2,color("0.7,1,1,0.9")
#ScreenOnCommand=%function(self) MESSAGEMAN:Broadcast("KeyConfigRequestStall"); self:lockinput(7); end;

DevicesX=SCREEN_CENTER_X+300
DevicesY=SCREEN_TOP+40
DevicesOnCommand=horizalign,right;zoom,0.5;draworder,5;diffuse,color("0.75,0.75,0.75,1");strokecolor,Color("Black")
DevicesOffCommand=

ButtonsToMap=""
MappedToP1S1Command=x,SCREEN_CENTER_X-270
MappedToP1S2Command=x,SCREEN_CENTER_X-195
MappedToP1S3Command=x,SCREEN_CENTER_X-120
MappedToP2S1Command=x,SCREEN_CENTER_X+120
MappedToP2S2Command=x,SCREEN_CENTER_X+195
MappedToP2S3Command=x,SCREEN_CENTER_X+270

MappedToOnCommand=diffuse,color("#808080");strokecolor,Color("Black");shadowlength,0;maxwidth,150;zoom,0.6;ztest,true
MappedToWaitingCommand=diffuse,color("#FF8080");strokecolor,Color("Black");pulse;effectperiod,0.5;effectmagnitude,0.8,1.3,0;ztest,true
MappedToMappedInputCommand=diffuse,color("#808080");strokecolor,Color("Black");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF");ztest,true
MappedToGainFocusCommand=diffuse,color("#808080");strokecolor,Color("Black");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF");ztest,true
MappedToLoseFocusCommand=diffuse,color("#808080");strokecolor,Color("Black");stopeffect;ztest,true
MappedToGainMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF8800FF")
MappedToLoseMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF880000")

LineScrollerOnCommand=%function(self) self:draworder(-1); self:setsecondsperitem(0.1); self:SetTransformFromHeight(20); self:visible(false); end
LineScrollerOffCommand=
LineHideCommand=visible,false
LineOnCommand=%function(self) self:y(0); self:visible(true); local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:addx(-SCREEN_WIDTH * LeftToRight); end
LineOffCommand=
ErrorX=SCREEN_CENTER_X
ErrorY=SCREEN_CENTER_Y
ErrorOnCommand=diffuse,color("#00FF00");zoom,0.8;ztest,true
#LabelP1OnCommand=x,SCREEN_CENTER_X-200;y,364;shadowlength,1;zoom,0.85;zoomy,0;sleep,0.2;linear,0.2;zoomy,0.85;diffuse,PlayerColor(PLAYER_1);strokecolor,Color("Black");ztest,true
LabelP1OnCommand=visible,false;
LabelP1OffCommand=linear,0.5;diffusealpha,0;ztest,true
#LabelP2OnCommand=x,SCREEN_CENTER_X+200;y,364;shadowlength,1;zoom,0.85;zoomy,0;sleep,0.2;linear,0.2;zoomy,0.85;diffuse,PlayerColor(PLAYER_2);strokecolor,Color("Black");ztest,true
LabelP2OnCommand=visible,false;
LabelP2OffCommand=linear,0.5;diffusealpha,0;ztest,true

PrimaryOnCommand=x,SCREEN_CENTER_X;zoom,0.675;shadowlength,1;strokecolor,Color("Black");ztest,true
SecondaryOnCommand=x,SCREEN_CENTER_X;y,10;zoom,0.45;shadowlength,1;strokecolor,Color("Black");ztest,true

ShowExitRow=true
ListHeaderCenterOnCommand=x,SCREEN_CENTER_X;visible,false
ListHeaderOnCommand=diffuse,color("0,1,1,1");strokecolor,Color("Black");shadowlength,0;max_dimension_use_zoom,true;zoom,0.55;maxwidth,210;ztest,true
ListHeaderGainFocusCommand=zoom,0.55;diffuse,color("0,1,1,1");strokecolor,Color("Black");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF");ztest,true
ListHeaderLoseFocusCommand=zoom,0.55;diffuse,color("0,1,1,1");strokecolor,Color("Black");stopeffect;ztest,true

[ScreenBackgroundOptions]
HeaderTitle="BackgroundO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
#LineNames="BGMode,1,2,3,5,6,7"
LineNames="1,2,3,5,6,7"
LineBGMode="lua,BGMode()"
Line1="conf,RandomBackgroundMode"
Line2="conf,NumBackgrounds"
Line3="conf,BGBrightness"
#Line4="conf,ShowDanger"
Line5="conf,ShowLyrics"
Line6="conf,ShowDancingCharacters"
Line7="conf,ShowBeginnerHelper"

[ScreenGraphicOptions]
HeaderTitle="GraphicO"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=GraphicOptionsLines()
Line1="conf,Windowed"
Line2="conf,DisplayResolution"
Line3="conf,DisplayAspectRatio"
Line4="conf,DisplayColorDepth"
Line5="conf,HighResolutionTextures"
Line6="conf,MaxTextureResolution"
LineUse3D="lua,OptionRow3DModels()"
Line7="conf,TextureColorDepth"
Line8="conf,MovieColorDepth"
Line9="conf,SmoothLines"
Line10="conf,CelShadeModels"
Line11="conf,DelayedTextureDelete"
Line12="conf,RefreshRate"
Line13="conf,Vsync"
LineFNR="conf,FastNoteRendering"
Line14="conf,VisualDelaySeconds"
Line15="conf,ShowBanners"
Line16="conf,ShowStats"
LineDM="lua,ConfDisplayMode()"
LineAR="lua,ConfAspectRatio()"
LineDR="lua,ConfDisplayResolution()"
LineRR="lua,ConfRefreshRate()"

[ScreenOptionsExtended]
Fallback="ScreenOptionsService"
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.TitleMenu()
LineNames="1,2,3,4,5,6,7,8,9,10,11,12,13,14"

[ScreenOptionsManageProfilesPLoad]
Fallback="ScreenPLoad"
NextScreen="ScreenOptionsRivalSet"
PlayMusic=true

[ScreenOptionsRFileCreate]
CodeNames="Back"
CodeBack="+Back"
Class="ScreenSplash"
Fallback="ScreenSplash"
NextScreen="ScreenOptionsCustomizeProfile"
PrevScreen="ScreenOptionsCustomizeProfile"
MinimumScreenPrepareDelaySeconds=0
TimerSeconds=1
ForceTimer=true
AllowStartToSkip=false
ShowCoinsAndCredits=false

[ScreenFavoriteSetting]
Fallback="ScreenOptionsCustomizeProfile"
PrevScreen="ScreenOptionsCustomizeProfile"
NextScreen="ScreenOptionsCustomizeProfile"
HeaderTitle="FSetting"
TimerSeconds=-1
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpFavoriteSetting")
PrepareScreens="ScreenMiniMenuContext"
GroupedScreens="ScreenMiniMenuContext"
PersistScreens="ScreenMiniMenuContext"

[ScreenFavoriteSettingSong]
HeaderTitle="CProfiles"
Fallback="ScreenOptionsServiceSubMenu"
ShowHeader=false
PrevScreen="ScreenOptionsCustomizeProfile"
NextScreen="ScreenOptionsCustomizeProfile"

ScreenOnCommand=lockinput,1

[ScreenOptionsManageProfiles]
HeaderTitle="MProfiles"
Class="ScreenOptionsManageProfiles"
Fallback="ScreenOptionsSimpleService"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
PrepareScreens="ScreenMiniMenuContext"
GroupedScreens="ScreenMiniMenuContext"
PersistScreens="ScreenMiniMenuContext"
TimerSeconds=-1
ShowHelp=false
ScreenOnCommand=lockinput,0.5
NumRowsShown=5
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-124)+(45*offsetFromCenter)) \
end

[ScreenOptionsEditProfile]
Class="ScreenOptionsEditProfile"
PageOnCommand=visible,false

[ScreenOptionsCustomizeProfile]
HeaderTitle="CProfiles"
TimerSeconds=-1
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpTextCustomizeProfile")
PlayMusic=true
ShowHeader=true
ShowHeaderRight=false
ShowHeaderTimeR=false

[ScreenSelectAvatar]
HeaderTitle="CProfiles"
Fallback="ScreenOptionsServiceSubMenu"
ShowHeader=false
PrevScreen="ScreenOptionsCustomizeProfile"
NextScreen="ScreenOptionsCustomizeProfile"

ScreenOnCommand=lockinput,1

[ScreenSCFilterCustomize]
Fallback="ScreenOptionsCustomizeProfile"
PrevScreen="ScreenOptionsCustomizeProfile"
NextScreen="ScreenOptionsCustomizeProfile"
HeaderTitle="SCFilter"
TimerSeconds=-1
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpSCFilterCustomize")

[ScreenLCoverCustomize]
Fallback="ScreenOptionsCustomizeProfile"
PrevScreen="ScreenOptionsCustomizeProfile"
NextScreen="ScreenOptionsCustomizeProfile"
HeaderTitle="LCover"
TimerSeconds=-1
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpLCoverCustomize")

[ScreenOptionsRivalSet]
Fallback="ScreenOptionsCustomizeProfile"
PrevScreen="ScreenOptionsCustomizeProfile"
NextScreen="ScreenOptionsCustomizeProfile"
HeaderTitle="RivalSet"
TimerSeconds=-1
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpTextRivalSet")

[ScreenCharacterCustomize]
Fallback="ScreenOptionsCustomizeProfile"
PrevScreen="ScreenOptionsCustomizeProfile"
NextScreen="ScreenOptionsCustomizeProfile"
HeaderTitle="CCharacter"
TimerSeconds=-1
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpCharacterCustomize")

[ScreenOperation]
Fallback="ScreenWithMenuElements"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
HeaderTitle="MOperation"
TimerSeconds=-1
ShowHelp=true
ShowIHelpunder=true
HelpText=Screen.String("HelpTextScreenOperation")

[ScreenNetworkOptions]
HeaderTitle="NetworkO"
Class="ScreenNetworkOptions"
Fallback="ScreenOptionsServiceChild"
NextScreen=Branch.Network()
PrevScreen=Branch.Network()

[OptionRowMiniMenu]
Fallback="OptionRow"
IconsP1X=
IconsP2X=
IconsOnCommand=visible,false
FrameX=
FrameOnCommand=visible,false
TitleX=SCREEN_CENTER_X-20
TitleOnCommand=y,-3;horizalign,right;zoom,0.75;shadowlength,2;maxwidth,SCREEN_WIDTH*0.575
TitleGainFocusCommand=stoptweening;decelerate,0.2;diffuse,color("0,1,1,1");strokecolor,Color("Black")
TitleLoseFocusCommand=diffuse,color("0.75,0.75,0.75,1");strokecolor,Color("Black");stopeffect
TitleDisabledCommand=diffuse,color("0.4,0.4,0.4,1");strokecolor,Color("Black");stopeffect
ItemsStartX=SCREEN_CENTER_X
ItemsEndX=SCREEN_CENTER_X
ItemsGapX=14
ItemsLongRowP1X=SCREEN_CENTER_X+20
ItemsLongRowP2X=SCREEN_CENTER_X+20
ItemsLongRowSharedX=SCREEN_CENTER_X+20
ItemOnCommand=y,-3;horizalign,left;zoom,0.75;shadowlength,2;strokecolor,Color("Black")
ColorSelected=color("0,1,1,1")
ColorNotSelected=color("0.75,0.75,0.75,1")
ColorDisabled=color("0.4,0.4,0.4,1")
TweenSeconds=0
ShowStatusbar=false

[ScreenMiniMenu]
Class="ScreenMiniMenu"
Fallback="ScreenOptions"
StopMusicOnBack=false
PrevScreen=
TimerSeconds=-1
ShowHelp=false
ShowExplanations=false
ShowExitRow=false
ShowStyleIcon=false
ShowIHelpunder=false
AllowRepeatingChangeValueInput=true
ContainerOnCommand=
ContainerOffCommand=
NumRowsShown=30
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) local indexOffset = itemIndex-(numItems-1)/2; self:y( SCREEN_CENTER_Y + indexOffset * 18 ); end
HeaderX=
HeaderY=
HeaderOnCommand=visible,false
HeaderOffCommand=
CursorOnCommand=visible,false
OptionRowNormalMetricsGroup="OptionRowMiniMenu"
ColorSelected=color("0.2,1,0,1")
ColorNotSelected=color("0.75,0.75,0.75,1")
ColorDisabled=color("0.4,0.4,0.4,1")
PageOnCommand=

LineHighlightX=SCREEN_CENTER_X+((SCREEN_WIDTH/6)/2)
LineHighlightP1OnCommand=diffuse,color("1,0.5,0,0.5");zoomtowidth,SCREEN_WIDTH+(SCREEN_WIDTH/6);zoomtoheight,18
LineHighlightP1OffCommand=
LineHighlightP1ChangeCommand=stoptweening;diffuse,color("1,0.5,0,0.5");zoomtowidth,SCREEN_WIDTH+(SCREEN_WIDTH/6);zoomtoheight,18
LineHighlightP1ChangeToExitCommand=stoptweening;diffuse,color("1,0.5,0,0.5");linear,0.025;zoomtowidth,SCREEN_WIDTH+(SCREEN_WIDTH/6);zoomtoheight,18

LineHighlightP2OnCommand=diffuse,color("1,0.5,0,0.5");zoomtowidth,SCREEN_WIDTH+(SCREEN_WIDTH/6);zoomtoheight,18
LineHighlightP2OffCommand=
LineHighlightP2ChangeCommand=stoptweening;diffuse,color("1,0.5,0,0.5");zoomtowidth,SCREEN_WIDTH+(SCREEN_WIDTH/6);zoomtoheight,18
LineHighlightP2ChangeToExitCommand=stoptweening;diffuse,color("1,0.5,0,0.5");linear,0.025;zoomtowidth,SCREEN_WIDTH+(SCREEN_WIDTH/6);zoomtoheight,18

[ScreenTextEntry]
PlayMusic=getenv("playmusictextentry")
StopMusicOnBack=false
NextScreen=Brunch.AfterTextEntry()
HeaderOnCommand=visible,false
QuestionOnCommand=shadowlength,2;maxwidth,580*1.25;zoom,0.75;strokecolor,Color("Black")
AnswerOnCommand=shadowlength,2;maxwidth,580*1.25;diffuse,color("1,1,0,1");strokecolor,Color("Black")


[ScreenMiniMenuContext]
PlayMusic=getenv("playmusictextentry")
Fallback="ScreenMiniMenu"
StopMusicOnBack=false
NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(18*(offsetFromCenter-(numItems-1)/2)+60) end
LineHighlightX=0
ShowHelp=false
OptionRowNormalMetricsGroup="OptionRowMiniMenu"

[OptionRowMiniMenuContext]
Fallback="OptionRowMiniMenu"
TitleX=SCREEN_CENTER_X
TitleOnCommand=horizalign,right;zoom,0.75;shadowlength,2;strokecolor,Color("Black")

[ScreenTestInput]
HeaderTitle="TestInput"
Class="ScreenTestInput"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
ShowHelp=false
DevicesOnCommand=zoom,0.55;draworder,5;diffuse,color("0.75,0.75,0.75,1");strokecolor,Color("Black")

[ScreenOptionsServiceChild]
Fallback="ScreenOptionsMaster"
StopMusicOnBack=false
ShowStatusbar=false
NumRowsShown=9
ShowHelp=true
ShowIHelpunder=true
ShowCoinsAndCredits=false
HelpText=Screen.String("HelpTextOptionsServiceChild")
ExplanationTogetherX=SCREEN_CENTER_X-312
ExplanationTogetherY=SCREEN_BOTTOM-64
ExplanationTogetherOnCommand=zoom,0.55;wrapwidthpixels,1140;horizalign,left;cropright,1;linear,0.4;cropright,0;strokecolor,Color("Black")

LineHighlightP1OnCommand=blend,Blend.Add;diffusealpha,0.3;zoomtowidth,520;zoomtoheight,32
LineHighlightP1OffCommand=
LineHighlightP1ChangeCommand=stoptweening;linear,0.025;zoomtowidth,520;zoomtoheight,32
LineHighlightP1ChangeToExitCommand=stoptweening;linear,0.025;zoomtowidth,260;zoomtoheight,22

LineHighlightP2OnCommand=blend,Blend.Add;diffusealpha,0.2;zoomtowidth,520;zoomtoheight,32
LineHighlightP2OffCommand=
LineHighlightP2ChangeCommand=stoptweening;linear,0.025;zoomtowidth,520;zoomtoheight,32
LineHighlightP2ChangeToExitCommand=stoptweening;linear,0.025;zoomtowidth,260;zoomtoheight,22


OptionRowNormalMetricsGroup="OptionRowServiceChild"

[OptionRowServiceChild]
Fallback="OptionRow"

[OptionRowServiceChildExit]
Fallback="OptionRow"
ItemOnCommand=uppercase,true;shadowlength,0;zoom,0.5
TitleOnCommand=visible,false
FrameOnCommand=visible,false

[ScreenOptionsEdit]
HeaderTitle="EditO"
Fallback="ScreenOptionsSimple"
OptionRowNormalMetricsGroup="OptionRowSimpleService"
MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y-28
ShowHelp=false
SeparateExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+116

#LineNames="1,2,3,4"
LineNames="1,2,4,ST"
Line1="gamecommand;screen,ScreenEditMenu;name,Edit Songs/Steps"
Line2="gamecommand;screen,ScreenPracticeMenu;name,Practice Songs/Steps"
Line3="gamecommand;screen,ScreenOptionsManageCourses;name,Edit Courses"
Line4="gamecommand;screen,ScreenOptionsExportPackage;name,Export Packages"
LineST="gamecommand;name,Options"

[ScreenEditNoteSkinOptions]
HeaderTitle="Options"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="EditorNoteskin"
LineEditorNoteskin="lua,EditorDefaultNoteSkins()"
ScreenType=1

[ScreenPracticeMenu]
HeaderTitle="PracticeMenu"

[PlayerOptions]
Fallback="ScreenOptions"
OptionRowNormalMetricsGroup="OptionRowPlayer"
OptionRowExitMetricsGroup="PlayerOptionsRowExit"

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y+116
MoreOnCommand=
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

[OptionRowPlayer]
Fallback="OptionRow"
ShowBpmInSpeedTitle=false

[OptionsCursorP1]
Fallback="OptionsCursor"
LeftX=0
MiddleX=0
RightX=0
LeftY=0
MiddleY=0
RightY=0

[OptionsCursorP2]
Fallback="OptionsCursor"
LeftX=0
MiddleX=0
RightX=0
LeftY=0
MiddleY=0
RightY=0

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=0
MiddleY=0
RightY=0

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=0
MiddleY=0
RightY=0

[OptionsUnderline]
LeftOnCommand=halign,1;SetTextureFiltering,true
MiddleOnCommand=SetTextureFiltering,true
RightOnCommand=halign,0;SetTextureFiltering,true


[OptionRowMiniMenuEditHelp]
ColorDisabled=color("1,1,1,1")
TitleX=SCREEN_CENTER_X+60
TitleOnCommand=halign,1;diffuse,color("1,1,1,1");strokecolor,Color("Black");shadowlength,1;zoom,0.675

RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local indexOffset = itemIndex-(numItems-1)/2; \
	self:y(SCREEN_CENTER_Y + indexOffset * 18); \
end
ItemOnCommand=x,SCREEN_CENTER_X+88;y,7;halign,0;strokecolor,Color("Black");shadowlength,1;zoom,0.675

[ScreenOptionsManageCourses]
HeaderTitle="CEdit"
HelpOnCommand=visible,false

[ScreenOptionsManageCourses]
HeaderTitle="CEdit"
ShowHelp=false

[ScreenVersionWarning]
Fallback="ScreenSplash"
NextScreen=Branch.VersionWarningBack()
PrevScreen=SCREENMAN:GetTopScreen():GetName() == "ScreenVersionWarning" and "ScreenExit"
TimerSeconds=15
ForceTimer=true
AllowStartToSkip=true
ShowCoinsAndCredits=true
ShowHeader=false
ScreenOnCommand=lockinput,1

## concretes begin ##
## attract loop
[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
ShowCoinsAndCredits=true
MemoryCardIcons=false
NextScreen="ScreenLogo"
PrevScreen=Branch.AfterScreenLogo()
TimerSeconds=17.5
PlayMusic=true
StopMusicOnBack=true
ForceTimer=true
TimerMetricsGroup="MenuTimerNoSound"
TimerOnCommand=visible,false
ScreenOnCommand=lockinput,0
ScreenOffCommand=lockinput,0

[ScreenCompany2]
Class="ScreenAttract"
Fallback="ScreenCompany"
ShowCoinsAndCredits=true
TimerSeconds=17.5
PlayMusic=true
StopMusicOnBack=true
ForceTimer=true
TimerMetricsGroup="MenuTimerNoSound"
TimerOnCommand=visible,false
ScreenOnCommand=lockinput,0
ScreenOffCommand=lockinput,0
PrepareScreens="ScreenTitleMenu,ScreenTitleJoin"
GroupedScreens="ScreenInit,ScreenCompany2,ScreenTitleJoin"
PersistScreens="ScreenInit,ScreenCompany2,ScreenTitleJoin,ScreenTitleMenu"

[ScreenInit]
Class="ScreenAttract"
Fallback="ScreenAttract"
#
PrevScreen="ScreenInit"
NextScreen="ScreenCompany"
StartScreen=Branch.TitleMenu()

[ScreenLogo]
Class="ScreenAttract"
Fallback="ScreenAttract"
#NextScreen="ScreenHowToPlay"
NextScreen=Branch.AfterScreenLogo()
PrevScreen="ScreenCompany2"
TimerSeconds=50
ShowCoinsAndCredits=true
PlayMusic=true
StopMusicOnBack=true
ScreenOnCommand=lockinput,0

[ScreenHowToPlay]
Class="ScreenHowToPlay"
Fallback="ScreenAttract"
TimerSeconds=53
NextScreen="ScreenDemonstration"
PrevScreen="ScreenLogo"
PlayMusic=true
ResetGameState=false

NumW2s=14
NumMisses=5

UseCharacter=false
UsePad=false

UsePlayer=true
LifeMeterBarX=SCREEN_CENTER_X+160
LifeMeterBarY=SCREEN_TOP+40
LifeMeterBarOnCommand=visible,false

PlayerX=math.floor(scale((2.25/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerY=SCREEN_CENTER_Y
PlayerOnCommand=zoom,1;diffusealpha,1

# frames
LifeFrameX=
LifeFrameY=
LifeFrameOnCommand=draworder,95
LifeFrameOffCommand=
ScoreFrameX=
ScoreFrameY=
ScoreFrameOnCommand=draworder,95
ScoreFrameOffCommand=

[ScreenDemonstration]
Class="ScreenDemonstration"
Fallback="ScreenGameplay"
NextScreen=GAMESTATE:GetCurrentGame():GetName() == "dance" and DemoNextRanking() or AfterScreenRanking()
PrevScreen="ScreenLogo"
StartScreen=Branch.TitleMenu()
SecondsToShow=30
PlayMusic=false
MinSecondsToStep=0
MinSecondsToMusic=0
DifficultiesToShow="easy"
AllowStyleTypes="TwoPlayersTwoSides"
LightsMode="LightsMode_Demonstration"
ShowCourseModifiersProbability=0
AllowAdvancedModifiers=false
ShowBPMDisplay=false

LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
StageDisplayOnCommand=visible,false
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false
SongOptionsOnCommand=visible,false
SongNumberP1OnCommand=visible,false
SongNumberP2OnCommand=visible,false
SongPositionOnCommand=visible,false
BannerTitleOnCommand=visible,false


[ScreenRanking]
Class="ScreenHighScores"
Fallback="ScreenAttract"
NextScreen=AfterScreenRanking()
PrevScreen="ScreenDemonstration"
ShowCoinsAndCredits=true
PlayMusic=true
ShowHeader=true

NoScoreName="CSLA"

ManualScrolling=false
HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"
ColumnStepsType3="StepsType_Dance_Single"
ColumnStepsType4="StepsType_Dance_Single"

MaxItemsToShow=50

ScrollerOnCommand=CenterX;y,SCREEN_CENTER_Y+20;scrollthroughallitems
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) self:y(65*offset) end
ScrollerItemsToDraw=8
ScrollerSecondsPerItem=0.65

[ScreenRankingSolo]
Class="ScreenHighScores"
Fallback="ScreenRanking"

ManualScrolling=false
HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Solo"
ColumnStepsType2="StepsType_Dance_Solo"
ColumnStepsType3="StepsType_Dance_Solo"
ColumnStepsType4="StepsType_Dance_Solo"

[ScreenRankingDouble]
Class="ScreenHighScores"
Fallback="ScreenRanking"

ManualScrolling=false
HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Double"
ColumnStepsType2="StepsType_Dance_Double"
ColumnStepsType3="StepsType_Dance_Double"
ColumnStepsType4="StepsType_Dance_Double"

[ScreenRankingNonstop]
Class="ScreenHighScores"
Fallback="ScreenRanking"

ManualScrolling=false
HighScoresType="HighScoresType_NonstopCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"

[ScreenRankingNonstopSolo]
Class="ScreenHighScores"
Fallback="ScreenRankingNonstop"

ManualScrolling=false
HighScoresType="HighScoresType_NonstopCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Solo"
ColumnStepsType2="StepsType_Dance_Solo"

[ScreenRankingNonstopDouble]
Class="ScreenHighScores"
Fallback="ScreenRankingNonstop"

ManualScrolling=false
HighScoresType="HighScoresType_NonstopCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Double"
ColumnStepsType2="StepsType_Dance_Double"


[ScreenRankingChallenge]
Class="ScreenHighScores"
Fallback="ScreenRankingNonstop"

ManualScrolling=false
HighScoresType="HighScoresType_OniCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"

[ScreenRankingChallengeSolo]
Class="ScreenHighScores"
Fallback="ScreenRankingChallenge"

ManualScrolling=false
HighScoresType="HighScoresType_OniCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Solo"
ColumnStepsType2="StepsType_Dance_Solo"

[ScreenRankingChallengeDouble]
Class="ScreenHighScores"
Fallback="ScreenRankingChallenge"

ManualScrolling=false
HighScoresType="HighScoresType_OniCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Double"
ColumnStepsType2="StepsType_Dance_Double"


[ScreenRankingDemo]
Fallback="ScreenRanking"
NextScreen="ScreenCompany2"

[ScreenRankingNonstopDemo]
Fallback="ScreenRankingNonstop"
NextScreen="ScreenCompany2"

[ScreenRankingChallengeDemo]
Fallback="ScreenRankingChallenge"
NextScreen="ScreenCompany2"

[ScreenRankingSoloDemo]
Fallback="ScreenRankingSolo"
NextScreen="ScreenCompany2"

[ScreenRankingNonstopSoloDemo]
Fallback="ScreenRankingNonstopSolo"
NextScreen="ScreenCompany2"

[ScreenRankingChallengeSoloDemo]
Fallback="ScreenRankingChallengeSolo"
NextScreen="ScreenCompany2"

[ScreenRankingDoubleDemo]
Fallback="ScreenRankingSolo"
NextScreen="ScreenCompany2"

[ScreenRankingNonstopDoubleDemo]
Fallback="ScreenRankingNonstopDouble"
NextScreen="ScreenCompany2"

[ScreenRankingChallengeDoubleDemo]
Fallback="ScreenRankingChallengeDouble"
NextScreen="ScreenCompany2"


[ScreenLegal]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenCompany"
PrevScreen="ScreenRanking"
TimerSeconds=10

[ScreenHowToInstallSongs]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
ShowHeader=false
PlayMusic=true

ShowScroller=true
PerChoiceScrollElement=false
#
ShowIcon=true
UseIconMetrics=false
PerChoiceIconElement=false
#
ScrollerX=SCREEN_LEFT+60
ScrollerY=SCREEN_CENTER_Y
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(24*(itemIndex-(numItems-1)/2)); end
ScrollerNumItemsToDraw=20
ScrollerOffCommand=

ChoiceNames="WhereToFind,HowToInstall,AdditionalFolders,ReloadSongs,Exit"
ChoiceWhereToFind="urlnoexit,http://code.google.com/p/sm-ssc/wiki/FindingContent;text,"..Screen.String("Finding Songs")
ChoiceHowToInstall="urlnoexit,http://code.google.com/p/sm-ssc/wiki/InstallingContent;text,"..Screen.String("Installing Songs")
ChoiceAdditionalFolders="text,"..Screen.String("Importing Songs")
ChoiceReloadSongs="screen,ScreenReloadSongs;text,"..Screen.String("Reload Songs")
ChoiceExit="screen,"..Branch.TitleMenu()..";text,"..Screen.String("Exit")
DefaultChoice="WhereToFind"

OptionOrderUp="5:4,4:3,3:2,2:1,1:5"
OptionOrderDown="1:2,2:3,3:4,4:5,5:1"


## playable crap
[ScreenTitleMenu]
PrevScreen="ScreenCompany2"
NextScreen="ScreenCompany2"
PrepareScreens="ScreenProfileLoad,ScreenCaution"
GroupedScreens="ScreenProfileLoad,ScreenCaution"
PersistScreens="ScreenProfileLoad,ScreenCaution"
ShowHeader=false
ShowCoinsAndCredits=true
IdleTimeoutSeconds=30
#IdleTimeoutSeconds=-1
IdleTimeoutScreen=Branch.AfterInit()
StopMusicOnBack=true

HelpY=
HelpText=visible,false
DefaultChoice="1"
#ChoiceNames=TitleMenuChoice()
#ChoiceNames="1,3,4,5,6,7,8,10"
ChoiceNames="1,3,5,6,GH,10"
Choice1="text,Game Start;screen,"..Branch.GameStartScreen()
Choice3="screen,ScreenOptionsService;text,Options"
Choice4="screen,ScreenInformation;text,Information"
Choice5="screen,ScreenOptionsEdit;text,Edit/Share"
Choice6="screen,ScreenJukeboxMenu;text,Jukebox"
Choice10="screen,ScreenExit;text,Exit"
ChoiceGH="urlnoexit,http://cyberiastyle.skr.jp/;text,CyberiaStyle HomePage"
Choice8="screen,ScreenTest;text,Test"
ChoiceSetup="screen,ScreenQuickSetupOverview;text,Setup"

ScrollerNumItemsToDraw=20
ScrollerX=(SCREEN_WIDTH-(SCREEN_WIDTH/8))+20
ScrollerY=SCREEN_CENTER_Y+150
ScrollerOnCommand=vertalign,top
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(16*(itemIndex-(numItems-1)/2)); end

ScreenOnCommand=lockinput,0
ChoicesShadowLength=1
ColorNotSelected=1,1,1,1
ColorSelected=0.5,1,0.5,1

ShowClock=true
ClockX=SCREEN_RIGHT-10
ClockY=SCREEN_TOP+10
ClockOnCommand=
ClockOffCommand=

ShowCurrentGametype=true
CurrentGametypeX=SCREEN_RIGHT-10
CurrentGametypeY=SCREEN_TOP+46
CurrentGametypeOnCommand=
CurrentGametypeOffCommand=

ShowTimingDifficulty=true
TimingDifficultyX=SCREEN_RIGHT-10
TimingDifficultyY=SCREEN_TOP+23
TimingDifficultyOnCommand=horizalign,right;diffuse,color("1,0.5,0,1");strokecolor,color("0,0,0,1");zoom,0.5;shadowlength,1;maxwidth,SCREEN_WIDTH
TimingDifficultyOffCommand=

ShowLifeDifficulty=true
LifeDifficultyX=SCREEN_RIGHT-10
LifeDifficultyY=SCREEN_TOP+33
LifeDifficultyOnCommand=horizalign,right;diffuse,color("1,0.5,0,1");strokecolor,color("0,0,0,1");zoom,0.5;shadowlength,1;maxwidth,SCREEN_WIDTH
LifeDifficultyOffCommand=

ShowMaxStages=true
MaxStagesX=SCREEN_RIGHT-10
MaxStagesY=SCREEN_TOP+58
MaxStagesOnCommand=horizalign,right;diffuse,color("0,0,0,1");strokecolor,color("0,1,1,1");zoom,0.5;shadowlength,1;maxwidth,SCREEN_WIDTH
MaxStagesOffCommand=

ShowSelectFrame=true
SelectFrameX=SCREEN_RIGHT-10
SelectFrameY=SCREEN_TOP+70
SelectFrameOnCommand=horizalign,right;diffuse,color("0,0,0,1");strokecolor,color("0,1,0.5,1");zoom,0.5;shadowlength,1;maxwidth,SCREEN_WIDTH
SelectFrameOffCommand=

ShowVersionInfo=true
VersionInfoX=SCREEN_LEFT+10
VersionInfoY=SCREEN_TOP+10
VersionInfoOnCommand=horizalign,left;diffuse,color("0,0,0,1");strokecolor,color("1,1,0,1");maxwidth,SCREEN_WIDTH;zoom,0.5;shadowlength,1;maxwidth,SCREEN_WIDTH

ShowCSVersionInfo=true
CSVersionInfoX=SCREEN_LEFT+10
CSVersionInfoY=SCREEN_TOP+22
CSVersionInfoOnCommand=horizalign,left;diffuse,color("0,0,0,1");strokecolor,color("1,0.75,0,1");maxwidth,SCREEN_WIDTH;zoom,0.5;shadowlength,1;maxwidth,SCREEN_WIDTH

ShowNumSongs=true
NumSongsX=SCREEN_LEFT+10
NumSongsY=SCREEN_TOP+34
NumSongsOnCommand=horizalign,left;diffuse,color("0,0,0,1");strokecolor,color("1,0.5,0,1");zoom,0.5;shadowlength,1;maxwidth,SCREEN_WIDTH;playcommand,"Set"
NumSongsOffCommand=

ShowSystemDirection=false
SystemDirectionX=SCREEN_LEFT+40
SystemDirectionY=SCREEN_TOP+24
SystemDirectionOnCommand=
SystemDirectionOffCommand=

ShowNetworkStatus=true
NetworkStatusX=SCREEN_LEFT+10
NetworkStatusY=SCREEN_TOP+52
NetworkStatusOnCommand=
NetworkStatusOffCommand=


[ScreenTitleJoin]
Fallback="ScreenTitleMenu"
NextScreen=Branch.AfterScreenLogo()
PrepareScreens="ScreenProfileLoad,ScreenCaution"
GroupedScreens="ScreenProfileLoad,ScreenCaution"
PersistScreens="ScreenProfileLoad,ScreenCaution"
TimerSeconds=30
TimerStealth=true
IdleTimeoutSeconds=30
IdleTimeoutScreen=Branch.AfterInit()
ForceTimer=true
DefaultChoice="1"
ChoiceNames="1"
ScrollerOnCommand=visible,false
ShowCoinsAndCredits=true


[ScreenInformation]
HeaderTitle="SInformation"
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen="ScreenOptionsService"
PrevScreen=Branch.TitleMenu()
HelpText=visible,false
ShowExplanation=false
TimerSeconds=-1
ScreenOnCommand=lockinput,0.5
ShowCoinsAndCredits=false

ShowHeaderRight=false
ShowHeaderTimeR=false

DefaultChoice=GetAdhocPref("CSLInfoChoice")
ChoiceNames="Frame1,Frame2,Exit"
ChoiceFrame1="screen,ScreenGetFrame;name,Frame1"
ChoiceFrame2="screen,ScreenGetFrame;name,Frame2"

#ChoiceV3_Feature="screen,ScreenSubInfo;name,V3_Feature"
#ChoiceV2_Feature="screen,ScreenSubInfo;name,V2_Feature"
#ChoiceGradejudge="screen,ScreenSubInfo;name,Gradejudge"
#ChoiceGcheck="screen,ScreenSubInfo;name,Gcheck"
#ChoiceSgraph="screen,ScreenSubInfo;name,Sgraph"

#ChoiceFeature="screen,ScreenSubInfo;name,Feature"
#ChoiceProfile="screen,ScreenSubInfo;name,Profile"
#ChoiceWeight="screen,ScreenSubInfo;name,Weight"
#ChoiceHshsp="screen,ScreenSubInfo;name,Hshsp"
#ChoiceCoverpicset="screen,ScreenSubInfo;name,Coverpicset"
#ChoiceGcombo="screen,ScreenSubInfo;name,Gcombo"

#ChoiceTarget="screen,ScreenSubInfo;name,Target"
#ChoiceMeterSet="screen,ScreenSubInfo;name,MeterSet"
#ChoiceSpeedSet="screen,ScreenSubInfo;name,SpeedSet"
ChoiceExit="name,Exit;screen,"..Branch.TitleMenu()

OptionOrderAuto="100:100"

ScrollerSecondsPerItem=0.05
ScrollerNumItemsToDraw=10
ScrollerX=SCREEN_CENTER_X-300
ScrollerY=SCREEN_CENTER_Y
ScrollerOnCommand=
ScrollerSecondsPerItem=0.05
ScrollerNumItemsToDraw=9
ScrollerTransform=function(self,offsetFromCenter,itemIndex,numItems) \
	if offsetFromCenter>=1 then \
		y = 10 + offsetFromCenter * 28; \
	elseif offsetFromCenter<=-1 then \
		y = offsetFromCenter * 28 - 10; \
	else \
		y = offsetFromCenter * 38; \
	end; \
	self:y( y ); \
end;

AllowRepeatingInput=true
SharedSelection=true
ShowCursor=false
LoopScroller=true
WrapScroller=true
ShowScroller=true
WrapCursor=true

ShowIcon=false
UseIconMetrics=false
PerChoiceIconElement=false
PerChoiceScrollElement=false

ShowStyleIcon=false
ShowIHelpunder=false
MemoryCardIcons=false

Showstatusjoin=false
statusjoinX=
statusjoinY=
statusjoinOnCommand=draworder,90
statusjoinOffCommand=

[ScreenGetFrame]
HeaderTitle="SInformation"
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen="ScreenInformation"
PrevScreen="ScreenInformation"
DefaultChoice="Delay"
ChoiceNames="Delay"
ChoiceDelay="screen,ScreenInformation"
HelpText=visible,false
ShowExplanation=false
TimerSeconds=-1
ScreenOnCommand=lockinput,0.5
ShowCoinsAndCredits=false

ShowHeaderRight=false
ShowHeaderTimeR=false

TimerSeconds=-1
ForceTimer=true
AllowStartToSkip=true
ShowCoinsAndCredits=false
TimerStealth=true
SetCount=false

[ScreenSubInfo]
HeaderTitle="SInformation"
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen="ScreenInformation"
PrevScreen="ScreenInformation"
DefaultChoice="Delay"
ChoiceNames="Delay"
ChoiceDelay="screen,ScreenInformation"
PrepareScreen=""
HelpText=visible,false
ShowExplanation=false
TimerSeconds=-1
ScreenOnCommand=lockinput,0.5
ShowCoinsAndCredits=false

ShowHeaderRight=false
ShowHeaderTimeR=false

TimerSeconds=-1
ForceTimer=true
AllowStartToSkip=true
ShowCoinsAndCredits=false
TimerStealth=true
SetCount=false


[ScreenTest]
Fallback="ScreenWithMenuElements"
NextScreen=Branch.TitleMenu()
TimerSeconds=-1
ShowHeaderRight=false
ShowHeaderTimeR=false
ShowHeader=false
ShowStatusbar=false
ShowIHelpunder=false
ShowTimeArea=false
ShowStyleIcon=false
ShowHelp=false
ShowCoinsAndCredits=false

# This is useful
ArcadeOverlayX=
ArcadeOverlayY=
ArcadeOverlayOnCommand=visible,false
ArcadeOverlayOffCommand=
#
ArcadeOverlay.TextX=SCREEN_CENTER_X
ArcadeOverlay.TextY=SCREEN_BOTTOM-60
ArcadeOverlay.TextOnCommand=visible,false
ArcadeOverlay.TextOffCommand=
CreditsP1OnCommand=visible,false
CreditsP2OnCommand=visible,false

[ScreenCaution]
Fallback="ScreenSplash"
PrepareScreen=GAMESTATE:GetCoinMode() ~= "CoinMode_Pay" and Branch.SelectStyle() or nil
NextScreen=Branch.SelectStyle()
PrevScreen=Branch.TitleMenu()
TimerSeconds=8
ForceTimer=true
AllowStartToSkip=true
ShowCoinsAndCredits=true
ShowHeader=false
ScreenOnCommand=lockinput,1

[ScreenStMoShortcut]
Fallback="ScreenCaution"
PrepareScreen=GAMESTATE:GetCoinMode() ~= "CoinMode_Pay" and Branch.AfterStMoShortcut() or nil
NextScreen=Branch.AfterStMoShortcut()
PrevScreen=Branch.TitleMenu()
MinimumScreenPrepareDelaySeconds=0
TimerSeconds=0.01
ScreenOnCommand=lockinput,0

[ScreenPLoad]
Class="ScreenSplash"
Fallback="ScreenSplash"
PrepareScreen="ScreenPLoad"
PersistScreen="ScreenPLoad"
NextScreen="ScreenSelectProfile"
PrevScreen=Branch.TitleMenu()
MinimumScreenPrepareDelaySeconds=0
TimerSeconds=0.01
ForceTimer=true
AllowStartToSkip=false
ShowCoinsAndCredits=true

ShowHeader=false
ShowStyleIcon=false
ShowIHelpunder=false
ShowStatusbar=false
MemoryCardIcons=false
ResetGameState=false

ShowHeaderRight=false
ShowHeaderTimeR=false
ScreenOnCommand=lockinput,0


[ScreenSelectProfile]
HeaderTitle="_ScreenSelectProfile"
Fallback="ScreenWithMenuElements"
Class="ScreenSelectProfile"
ShowExplanation=
TimerSeconds=45
TimerStealth=IsNetConnected() and true or false
HelpText=Screen.String("HelpTextSelectProfile")

ShowHeaderRight=true
ShowHeaderTimeR=true
ShowIHelpunder=true
ScreenOnCommand=%function(self) self:lockinput(1); end;
#
NextScreen="ScreenStMoShortcut"
PrevScreen=Branch.TitleMenu()
StartScreen="ScreenStMoShortcut"

CodeNames=SelectProfileKeys()
CodeUp="+MenuUp"
CodeUp2="+Up"
CodeDown="+MenuDown"
CodeDown2="+Down"
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeStart="+Start"
CodeBack="Back"
CodeSelect="Select"
CodeCenter="+Center"
CodeDownLeft="DownLeft"
CodeDownRight="DownRight"

[ScreenSelectStyle]
HeaderTitle="SStyle"
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen=Branch.AfterSelectStyle()
PrevScreen=Branch.TitleMenu()
UpdateOnMessage="PlayerJoined,RefreshCreditText"
HelpText=GAMESTATE:GetNumPlayersEnabled() >= 2 and Screen.String("HelpTextSelectStyle2P") or Screen.String("HelpTextSelectStyle")
ShowExplanation=false
TimerSeconds=30
PersistScreens="ScreenSelectMode,ScreenGameInformation,ScreenSelectCharacter,ScreenSelectMusic,ScreenSelectCourse"

ShowHeaderRight=true
ShowHeaderTimeR=true

DefaultChoice="1"
ChoiceNames=StyleSetting()
Choice1="style,single;name,Single;screen,"..Branch.AfterSelectStyle()
Choice2="style,solo;name,Solo;screen,"..Branch.AfterSelectStyle()
Choice3="style,versus;name,Versus;screen,"..Branch.AfterSelectStyle()
Choice4="style,double;name,Double;screen,"..Branch.AfterSelectStyle()
Choice5="style,halfdouble;name,HalfDouble;screen,"..Branch.AfterSelectStyle()
OptionOrderAuto="1:3,3:1,2:3,3:2"

ShowScroller=true
WrapScroller=false
ScrollerX=
ScrollerY=
ScrollerOnCommand=SetFastCatchup,true;
ScrollerOffCommand=

ShowIcon=true
UseIconMetrics=true
PerChoiceIconElement=false

ShowStyleIcon=false
ShowIHelpunder=true
MemoryCardIcons=true

#statusjoin to lua
Showstatusjoin=true
statusjoinX=
statusjoinY=
statusjoinOnCommand=draworder,90
statusjoinOffCommand=

IconChoiceSingleX=SCREEN_CENTER_X-216
IconChoiceSingleY=SCREEN_CENTER_Y+108+10
IconChoiceSingleOnCommand=draworder,91
IconChoiceSingleOffCommand=
IconChoiceSoloX=SCREEN_CENTER_X-72
IconChoiceSoloY=SCREEN_CENTER_Y+108+10
IconChoiceSoloOnCommand=draworder,91
IconChoiceSoloOffCommand=
IconChoiceVersusX=GAMESTATE:GetCurrentGame():GetName() == "pump" and SCREEN_CENTER_X-72 or SCREEN_CENTER_X+72
IconChoiceVersusY=SCREEN_CENTER_Y+108+10
IconChoiceVersusOnCommand=draworder,91
IconChoiceVersusOffCommand=
IconChoiceDoubleX=SCREEN_CENTER_X+216
IconChoiceDoubleY=SCREEN_CENTER_Y+108+10
IconChoiceDoubleOnCommand=draworder,91
IconChoiceDoubleOffCommand=
IconChoiceHalfDoubleX=SCREEN_CENTER_X+72
IconChoiceHalfDoubleY=SCREEN_CENTER_Y+108+10
IconChoiceHalfDoubleOnCommand=draworder,91
IconChoiceHalfDoubleOffCommand=


[ScreenSelectStyle2]
Fallback="ScreenSelectStyle"
NextScreen=Branch.AfterSelectStyle()
HelpText=Screen.String("HelpTextGeneric")
DefaultChoice="1"
ChoiceNames=StyleSetting2()
Choice1="style,single;name,Single;screen,ScreenNetSLoad"
Choice2="style,solo;name,Solo;screen,ScreenNetSLoad"
Choice3="style,versus;name,Versus;screen,ScreenNetSLoad"
Choice4="style,double;name,Double;screen,ScreenNetSLoad"
Choice5="style,halfdouble;name,HalfDouble;screen,ScreenNetSLoad"
ShowTimeArea=false
ShowStyleIcon=true
ShowIHelpunder=true
TimerStealth=true
TimerSeconds=-1

ShowHeaderRight=false
ShowHeaderTimeR=false


[ScreenSelectStyle3]
Fallback="ScreenSelectStyle"
NextScreen=Branch.AfterSelectStyle()
HelpText=Screen.String("HelpTextSelectStyle2P")
DefaultChoice="3"
ChoiceNames="3"
#ChoiceNames="1,2,3,4"

[ScreenSelectMode]
HeaderTitle="SMode"
Fallback="ScreenSelectStyle"
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.AfterSelectMode()
HelpText=GAMESTATE:GetNumPlayersEnabled() >= 2 and Screen.String("HelpTextSelectMode2P") or Screen.String("HelpTextSelectMode")
TimerSeconds=30
DoSwitchAnyways=false

DefaultChoice="1"
ChoiceNames=GameModeChoiceSet()
Choice1="playmode,regular;difficulty,beginner;name,Dance;screen,ScreenProfileLoad"
Choice2="applydefaultoptions;playmode,rave;difficulty,beginner;name,Rave;screen,ScreenProfileLoad"
Choice3="playmode,nonstop;difficulty,easy;name,Nonstop;screen,ScreenProfileLoad"
Choice4="playmode,oni;difficulty,easy;name,Oni;screen,ScreenProfileLoad"
Choice5="playmode,endless;difficulty,easy;name,Endless;screen,ScreenProfileLoad"

ShowScroller=true
WrapScroller=false
ScrollerX=
ScrollerY=
ScrollerOnCommand=SetFastCatchup,true;
ScrollerOffCommand=

ShowIcon=true
UseIconMetrics=true
PerChoiceIconElement=false

ShowStyleIcon=true
ShowIHelpunder=true
MemoryCardIcons=true
ShowStatusbar=true

#statusjoin to lua
Showstatusjoin=false

PremiumX=SCREEN_CENTER_X+230
PremiumY=SCREEN_CENTER_Y-156
PremiumOnCommand=visible,false
PremiumOffCommand=

IconChoiceDanceX=SCREEN_CENTER_X-240
IconChoiceDanceY=SCREEN_CENTER_Y+108+10
IconChoiceDanceOnCommand=draworder,91
IconChoiceDanceOffCommand=
IconChoiceRaveX=SCREEN_CENTER_X-120
IconChoiceRaveY=SCREEN_CENTER_Y+108+10
IconChoiceRaveOnCommand=draworder,91
IconChoiceRaveOffCommand=
IconChoiceNonstopX=SCREEN_CENTER_X
IconChoiceNonstopY=SCREEN_CENTER_Y+108+10
IconChoiceNonstopOnCommand=draworder,91
IconChoiceNonstopOffCommand=
IconChoiceOniX=SCREEN_CENTER_X+120
IconChoiceOniY=SCREEN_CENTER_Y+108+10
IconChoiceOniOnCommand=draworder,91
IconChoiceOniOffCommand=
IconChoiceEndlessX=SCREEN_CENTER_X+240
IconChoiceEndlessY=SCREEN_CENTER_Y+108+10
IconChoiceEndlessOnCommand=draworder,91
IconChoiceEndlessOffCommand=


[ScreenProfileLoad]
NextScreen="ScreenSLoad"
PrevScreen=Branch.TitleMenu()

[ScreenSLoad]
Class="ScreenSplash"
Fallback="ScreenProfileLoad"
PrepareScreen=Branch.AfterProfileLoad()
NextScreen=Branch.AfterProfileLoad()
PrevScreen=Branch.TitleMenu()
MinimumScreenPrepareDelaySeconds=0
TimerSeconds=0.01
ForceTimer=true
AllowStartToSkip=false
ShowCoinsAndCredits=true

ShowHeader=false
ShowStyleIcon=false
ShowIHelpunder=false
ShowStatusbar=false
MemoryCardIcons=false
ResetGameState=false

ShowHeaderRight=false
ShowHeaderTimeR=false
ScreenOnCommand=lockinput,0

[ScreenNetSLoad]
Fallback="ScreenSLoad"
PrepareScreen=Branch.AfterSelectStyle()
NextScreen=Branch.AfterSelectStyle()


[ScreenGameInformation]
HeaderTitle="Information"
HelpText=Screen.String("HelpTextInstructions")
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.AfterGameInstructions()
TimerSeconds=10
ShowStyleIcon=true
ShowIHelpunder=true
MemoryCardIcons=true

ShowHeaderRight=true
ShowHeaderTimeR=true

DefaultChoice="Delay"
ChoiceNames="Delay"
ChoiceDelay="screen,"..Branch.AfterGameInstructions()

## selmusic ##
[ScreenSelectMusic]
GroupedScreens="ScreenV2Sort,ScreenMiniMenuCSC"
CodeNames=SelectMusicKeys()
CodeStart="~Start"
CodeCenter="~Center"
CodeSelectSort1="Up,Down,Up,Down"
CodeSelectSort2="MenuUp,MenuDown,MenuUp,MenuDown"
CodeSelectSort3="UpLeft,UpRight,UpLeft,UpRight"
CodeJudgeChange="~Select"
CodeRivalOpen1="@Down-UpLeft"
CodeRivalOpen2="@UpLeft-Down"
CodeRivalOpen3="@MenuDown-UpLeft"
CodeRivalOpen4="@UpLeft-MenuDown"
CodeTargetSet1="+UpLeft"
CodeTargetSet2="+UpRight"
CodeTargetSetOpen1="@Down-UpRight"
CodeTargetSetOpen2="@UpRight-Down"
CodeTargetSetOpen3="@MenuDown-UpRight"
CodeTargetSetOpen4="@UpRight-MenuDown"

DefaultSort="Preferred"

Fallback="ScreenWithMenuElements"
MusicWheelType="MusicWheel"

DoRouletteOnMenuTimer=false

ScreenType=0
VisibleA=true
HeaderTitle="MusicS"
ShowHeader=true
ShowStyleIcon=true
ShowIHelpunder=true
ShowStatusbar=true
MemoryCardIcons=true

ShowHeaderRight=true
ShowHeaderTimeR=true

NextScreen=Branch.PlayerOptions()
HelpText=Screen.String("HelpTextSelectMusic")
TimerSeconds=SelectMusicTimeStart()
OptionsMenuAvailable=true
# モードメニューソートをできるようにするか設定
ModeMenuAvailable=false
ScreenModsCommand=

# musicwheel
MusicWheelX=SCREEN_CENTER_X
MusicWheelY=(round(GetScreenAspectRatio(),5) >= 1.77778) and SCREEN_CENTER_Y-55 or WideScale(SCREEN_CENTER_Y-42,SCREEN_CENTER_Y-55)
MusicWheelOnCommand=SetDrawByZPosition,true;vanishpoint,SCREEN_CENTER_X,SCREEN_CENTER_Y*0.75;zoomy,0;linear,0.3;zoom,1
MusicWheelOffCommand=zoom,1;

#
BannerX=220
BannerY=1
BannerOnCommand=visible,false
BannerOffCommand=visible,false
#
ShowBannerFrame=true
BannerFrameX=0
BannerFrameY=0
BannerFrameOnCommand=draworder,96
BannerFrameOffCommand=

DifficultyIconP1X=
DifficultyIconP1Y=
DifficultyIconP1OnCommand=
DifficultyIconP1OffCommand=

DifficultyIconP2X=
DifficultyIconP2Y=
DifficultyIconP2OnCommand=
DifficultyIconP2OffCommand=
#
ShowStageDisplay=not GAMESTATE:IsCourseMode()
StageDisplayX=SCREEN_CENTER_X+224
StageDisplayY=SCREEN_CENTER_Y-163
StageDisplayOnCommand=draworder,97;addx,-15;zoom,1;zoomy,0;sleep,0.8;decelerate,0.4;addx,15;zoomy,1
StageDisplayOffCommand=
#
ShowBPMDisplay=not GAMESTATE:IsCourseMode()
BPMDisplayX=SCREEN_CENTER_X-82-80
BPMDisplayY=SCREEN_CENTER_Y-56-95
BPMDisplayOnCommand=finishtweening;draworder,97;horizalign,center;maxwidth,180;addx,15;zoomx,0.5;zoomy,0;sleep,0.55;decelerate,0.4;addx,-15;zoomy,0.5;

ShowSegmentDisplay=not GAMESTATE:IsCourseMode()
SegmentDisplayX=SCREEN_CENTER_X-216
SegmentDisplayY=SCREEN_CENTER_Y-58-66

# sorticon (/Graphics/ScreenSelectMusic SortDisplay.lua)
ShowSortDisplay=not GAMESTATE:IsCourseMode()
SortDisplayX=SCREEN_CENTER_X+124
SortDisplayY=SCREEN_CENTER_Y-138
SortDisplayOnCommand=draworder,97
SortDisplayOffCommand=


# time (/Graphics/ScreenSelectMusic SongLength.lua)
ShowSongLength=true
SongLengthX=SCREEN_CENTER_X-34-80
SongLengthY=SCREEN_CENTER_Y-41-95
SongLengthOnCommand=draworder,97;addx,-15;zoom,1;zoomy,0;sleep,0.8;decelerate,0.4;addx,15;zoomy,1
SongLengthOffCommand=

CDTitleX=SCREEN_CENTER_X+60
CDTitleY=(round(GetScreenAspectRatio(),5) >= 1.77778) and SCREEN_CENTER_Y-120 or WideScale(SCREEN_CENTER_Y-90,SCREEN_CENTER_Y-120)
CDTitleOnCommand=draworder,97;zoomy,0.7;zoomx,210/2;addx,-20/2;diffusealpha,0;sleep,0.9;accelerate,0.4;addx,20/2;zoomy,0.7;zoomx,0.7;diffusealpha,1
CDTitleOffCommand=
CDTitleFrontCommand=spin;effectmagnitude,0,150,0;diffuse,color("1,1,1,1");cullmode,'CullMode_Back'
CDTitleBackCommand=spin;effectmagnitude,0,150,0;diffuse,color("0.4,0.4,0.4,1");cullmode,'CullMode_Front'

ShowDifficultyList=not GAMESTATE:IsCourseMode()
DifficultyListX=SCREEN_CENTER_X-106
DifficultyListY=SCREEN_CENTER_Y+114
DifficultyListOnCommand=draworder,96;rotationz,-90;zoom,0.8;addx,-20;decelerate,0.5;addx,20
DifficultyListOffCommand=

ShowSecDiffiList=not GAMESTATE:IsCourseMode()
SecDiffiListX=SCREEN_CENTER_X-106
SecDiffiListY=SCREEN_CENTER_Y+114
SecDiffiListOnCommand=draworder,96;rotationz,-90;zoom,0.8;addx,-20;decelerate,0.5;addx,20
SecDiffiListOffCommand=

ShowNoteScoreDataP1=true
NoteScoreDataP1X=SCREEN_LEFT+16
NoteScoreDataP1Y=SCREEN_CENTER_Y-58
NoteScoreDataP1OnCommand=draworder,99
NoteScoreDataP1OffCommand=

ShowNoteScoreDataP2=true
NoteScoreDataP2X=SCREEN_RIGHT-16
NoteScoreDataP2Y=SCREEN_CENTER_Y-58
NoteScoreDataP2OnCommand=draworder,99
NoteScoreDataP2OffCommand=

ShowNoteScoreDataFrameP1=false
ShowNoteScoreDataFrameP2=false

#pane
ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=(SCREEN_CENTER_X*0.575)-167+30
PaneDisplayTextP1Y=SCREEN_BOTTOM-64
PaneDisplayTextP1OnCommand=draworder,96
PaneDisplayTextP1OffCommand=

ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=(SCREEN_CENTER_X*1.425)-113+30
PaneDisplayTextP2Y=SCREEN_BOTTOM-64
PaneDisplayTextP2OnCommand=draworder,96
PaneDisplayTextP2OffCommand=

ShowPaneDisplayFrameP1=false
ShowPaneDisplayFrameP2=false

ScoreP1X=(SCREEN_CENTER_X*0.575)+18
ScoreP1Y=SCREEN_BOTTOM-78
ScoreP1OnCommand=visible,false
ScoreP1OffCommand=

ScoreP2X=(SCREEN_CENTER_X*1.425)+72
ScoreP2Y=SCREEN_BOTTOM-78
ScoreP2OnCommand=visible,false
ScoreP2OffCommand=

# groove radar (Graphics/ScreenSelectMusic GrooveRadar.lua)
ShowGrooveRadar=not GAMESTATE:IsCourseMode()
GrooveRadarX=SCREEN_CENTER_X-210
GrooveRadarY=SCREEN_CENTER_Y+89
GrooveRadarOnCommand=draworder,11;zoom,0.675;rotationz,30
GrooveRadarOffCommand=finishtweening;zoom,0


# was DifficultyDisplay
ShowAvailableDifficulties=false
AvailableDifficultiesX=
AvailableDifficultiesY=
AvailableDifficultiesOnCommand=
AvailableDifficultiesOffCommand=

# balloon
ShowBalloon=not GAMESTATE:IsCourseMode()
BalloonX=SCREEN_CENTER_X+5
BalloonY=SCREEN_CENTER_Y+78
BalloonOnCommand=draworder,80
BalloonOffCommand=
BalloonShowCommand=
BalloonHideCommand=

# number of stages
ShowNumCourseSongs=GAMESTATE:IsCourseMode()
NumCourseSongsX=math.max(WideScale(SCREEN_CENTER_X-136,SCREEN_CENTER_X-206),SCREEN_CENTER_X-206)
NumCourseSongsY=SCREEN_CENTER_Y-144
NumCourseSongsOnCommand=draworder,97;addx,15;zoom,0.9;zoomy,0;sleep,0.75;decelerate,0.4;addx,-15;zoomy,0.9
NumCourseSongsOffCommand=

# course has mods
ShowCourseHasMods=GAMESTATE:IsCourseMode()
CourseHasModsX=SCREEN_CENTER_X-134
CourseHasModsY=SCREEN_CENTER_Y+40
CourseHasModsOnCommand=draworder,100;zoomy,0;addx,-10;sleep,1.2;linear,0.2;zoomy,1;addx,10;
CourseHasModsOffCommand=

# course contents
ShowCourseContents=GAMESTATE:IsCourseMode()
CourseContentsX=SCREEN_CENTER_X
CourseContentsY=SCREEN_CENTER_Y+110
CourseContentsOnCommand=draworder,95;zoom,1
CourseContentsOffCommand=finishtweening;
CourseContentsShowCommand=linear,0.2;zoom,1
CourseContentsHideCommand=linear,0.2;zoom,0

# song options text at the end
ShowSongOptions=true
SongOptionsX=
SongOptionsY=SCREEN_CENTER_Y
SongOptionsOnCommand=visible,true;draworder,1000
SongOptionsOffCommand=

ShowWheelScrollBar=true
WheelScrollBarX=SCREEN_CENTER_X*0.6
WheelScrollBarY=SCREEN_TOP+70
WheelScrollBarOnCommand=draworder,100;zoomx,0;sleep,0.3;decelerate,0.3;zoomx,1
WheelScrollBarOffCommand=

UseOptionsList=false
ModIconTextOnCommand=maxwidth,36;uppercase,true;shadowlength,0

ShowTLDifficulty=true
TLDifficultyX=SCREEN_LEFT+90
TLDifficultyY=SCREEN_TOP+6
TLDifficultyOnCommand=%function(self) (cmd(draworder,98;zoom,0.5;horizalign,left;diffuse,color("1,0.5,0,1")))(self) if THEME:GetMetric( Var "LoadingScreen","ScreenType") ~= 2 then (cmd(zoomy,0;sleep,0.6;linear,0.2;zoomy,0.5))(self) end; end;
TLDifficultyOffCommand=

ShowClock=true
ClockX=SCREEN_RIGHT-12
ClockY=SCREEN_TOP+58
ClockOnCommand=draworder,97;
ClockOffCommand=

[ScreenSelectMusicSup]
Fallback="ScreenSelectMusic"
ScreenType=2
BPMDisplayOnCommand=finishtweening;draworder,97;horizalign,center;maxwidth,180;zoom,0.5;
StageDisplayOnCommand=draworder,97
SongLengthOnCommand=draworder,97;zoom,1
CDTitleOnCommand=draworder,97;zoom,0.7
DifficultyListOnCommand=draworder,96;rotationz,-90;zoom,0.8
BalloonOnCommand=draworder,80
NumCourseSongsOnCommand=draworder,97;shadowlength,1;zoom,0.9
WheelScrollBarOnCommand=draworder,100
StyleIconOnCommand=draworder,98;croptop,0
TimerOnCommand=draworder,98

[ScreenSelectMusicExtra]
Fallback="ScreenSelectMusic"
HelpText=Screen.String("HelpTextSelectMusicExtra")
ScreenType=0

[ScreenSelectMusicExtra2]
GroupedScreens=
HeaderTitle="Extra2MusicS"
Fallback="ScreenSelectMusic"
HelpText=Screen.String("HelpTextSelectMusicExtra2")
TimerSeconds=20
ScreenType=0

[ScreenV2Sort]
Class="ScreenWithMenuElements"
MusicWheelType="MusicWheel"

CodeNames=SelectCSCKeys()
CodeStart="~Start"
CodeBack="Back"
CodeCenter="~Center"
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeLeft3="+DownLeft"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeRight3="+DownRight"

ScreenType=2
Fallback="ScreenWithMenuElements"
HelpText=false
PlayMusic=false
StopMusicOnBack=false
OverrideSleepAfterTweenOffSeconds=false
SleepAfterTweenOffSeconds=0

HeaderTitle="MusicS"
ShowHeader=false
ShowStyleIcon=false
ShowIHelpunder=false
ShowStatusbar=false
MemoryCardIcons=false
ResetGameState=false

ShowHeaderRight=false
ShowHeaderTimeR=false

TimerStealth=true
TimerSeconds=SortMenuTimer()
PrevScreen="ScreenSelectMusicSup"
NextScreen="ScreenSelectMusicSup"

DefaultChoice=getenv("SortCh")
ShowTLDifficulty=false


[ScreenSort]
CodeNames=SelectSortKeys()
CodeStart="~Start"
CodeBack="Back"
CodeCenter="~Center"

ScreenType=2
Fallback="ScreenSelectMaster"
HelpText=Screen.String("HelpTextSelectGroup")
PlayMusic=true
StopMusicOnBack=true
OverrideSleepAfterTweenOffSeconds=false
SleepAfterTweenOffSeconds=0

HeaderTitle="MusicS"
ShowHeader=true
ShowStyleIcon=true
ShowIHelpunder=true
ShowStatusbar=true
MemoryCardIcons=true
ResetGameState=false

ShowHeaderRight=true
ShowHeaderTimeR=true

TimerSeconds=SortMenuTimer()
PrevScreen="ScreenSelectMusicSup"
NextScreen="ScreenSelectMusicSup"

DefaultChoice=getenv("SortCh")
ChoiceNames=sortmenuset()

ChoicePreferred="sort,Preferred;text,Preferred"
ChoiceGroup="sort,Group;text,Group"
ChoiceTitle="sort,Title;text,Title"
ChoiceBpm="sort,BPM;text,Bpm"
ChoicePopularity="sort,Popularity;text,Popularity"

ChoiceTopGrades="sort,TopGrades;text,TopGrades"
ChoiceTopGradesBeginner="difficulty,beginner;text,TopGradesBeginner"
ChoiceTopGradesEasy="difficulty,easy;text,TopGradesEasy"
ChoiceTopGradesMedium="difficulty,medium;text,TopGradesMedium"
ChoiceTopGradesHard="difficulty,hard;text,TopGradesHard"
ChoiceTopGradesChallenge="difficulty,challenge;text,TopGradesChallenge"

ChoiceTopGradesBeginnerP1="difficulty,beginner;text,TopGradesBeginnerP1"
ChoiceTopGradesEasyP1="difficulty,easy;text,TopGradesEasyP1"
ChoiceTopGradesMediumP1="difficulty,medium;text,TopGradesMediumP1"
ChoiceTopGradesHardP1="difficulty,hard;text,TopGradesHardP1"
ChoiceTopGradesChallengeP1="difficulty,challenge;text,TopGradesChallengeP1"
ChoiceTopGradesBeginnerP2="difficulty,beginner;text,TopGradesBeginnerP2"
ChoiceTopGradesEasyP2="difficulty,easy;text,TopGradesEasyP2"
ChoiceTopGradesMediumP2="difficulty,medium;text,TopGradesMediumP2"
ChoiceTopGradesHardP2="difficulty,hard;text,TopGradesHardP2"
ChoiceTopGradesChallengeP2="difficulty,challenge;text,TopGradesChallengeP2"

ChoiceArtist="sort,Artist;text,Artist"
ChoiceGenre="sort,Genre;text,Genre"
ChoiceLength="sort,Length;text,Length"
ChoiceRecent="sort,Recent;text,Recent"

ChoiceBeginnerMeter="difficulty,beginner;text,BeginnerMeter"
ChoiceEasyMeter="difficulty,easy;text,EasyMeter"
ChoiceMediumMeter="difficulty,medium;text,MediumMeter"
ChoiceHardMeter="difficulty,hard;text,HardMeter"
ChoiceChallengeMeter="difficulty,challenge;text,ChallengeMeter"

ScrollerOnCommand=SetDrawByZPosition,true;zoomy,0;linear,0.1;zoomy,1
ScrollerOffCommand=stoptweening
ScrollerCancelCommand=stoptweening
ScrollerY=(round(GetScreenAspectRatio(),5) >= 1.77778) and SCREEN_CENTER_Y-51 or WideScale(SCREEN_CENTER_Y-38,SCREEN_CENTER_Y-51)
ScrollerTransform=function(self,offsetFromCenter,itemIndex,numItems) \
	if offsetFromCenter>=1 then \
		if round(GetScreenAspectRatio(),5) >= 1.77778 then \
			self:zoomy(0.45); \
			x = 78 + offsetFromCenter * 82; \
		else \
			self:zoomy(WideScale(0.35,0.45)); \
			x = WideScale(68,78) + offsetFromCenter * WideScale(68,82); \
		end; \
		y = (offsetFromCenter * -4); \
		self:skewy(-0.2); \
	elseif offsetFromCenter<=-1 then \
		if round(GetScreenAspectRatio(),5) >= 1.77778 then \
			self:zoomy(0.45); \
			x = offsetFromCenter * 82 - 78; \
		else \
			self:zoomy(WideScale(0.35,0.45)); \
			x = offsetFromCenter * WideScale(68,82) - WideScale(68,78); \
		end; \
		y = (math.abs(offsetFromCenter) * -4); \
		self:skewy(0.2); \
	else \
		if round(GetScreenAspectRatio(),5) >= 1.77778 then \
			self:zoomy(0.45 + (0.55 - (math.abs(offsetFromCenter) * 0.55))); \
			x = offsetFromCenter * 160; \
		else \
			self:zoomy(WideScale(0.35,0.45) + (WideScale(0.5,0.55) - (math.abs(offsetFromCenter) * WideScale(0.5,0.55)))); \
			x = offsetFromCenter * WideScale(136,160); \
		end; \
		y = -4 + (0 + (math.abs(offsetFromCenter) * 0)); \
		self:skewy(offsetFromCenter * -0.2); \
	end; \
	self:rotationy(clamp(offsetFromCenter,1,-1) * 65); \
	if round(GetScreenAspectRatio(),5) >= 1.77778 then \
		self:zoomx(1.18 * (2 - clamp(math.abs(offsetFromCenter),0,1)) ); \
	else \
		self:zoomx(WideScale(1,1.18) * (2 - clamp(math.abs(offsetFromCenter),0,1)) ); \
	end; \
	self:x( x ); \
	self:y( y ); \
	self:z( -math.abs(offsetFromCenter * 2) ); \
end;

ScrollerSecondsPerItem=0.05
ScrollerNumItemsToDraw=(round(GetScreenAspectRatio(),5) >= 1.77778) and math.floor((SCREEN_WIDTH/160)*2) or 11

AllowRepeatingInput=true
LoopScroller=true
WrapScroller=true
ShowScroller=true
WrapCursor=true
ShowIcon=false
UseIconMetrics=false
PerChoiceScrollElement=false
PerChoiceIconElement=false
SharedSelection=true

HelpOnCommand=horizalign,left;maxwidth,SCREEN_RIGHT*1.45-148;strokecolor,Color("Black");draworder,98;zoom,0.55;diffuseshift;effectperiod,2.5;effectcolor1,color("1,1,0.9,1");effectcolor2,color("0.7,1,1,0.9")
TimerOnCommand=draworder,98
StyleIconOnCommand=draworder,98
MemoryCardDisplayP1OnCommand=draworder,98
MemoryCardDisplayP2OnCommand=draworder,98

ShowTLDifficulty=true
TLDifficultyX=SCREEN_LEFT+90
TLDifficultyY=SCREEN_TOP+6
TLDifficultyOnCommand=draworder,98;zoom,0.5;horizalign,left;diffuse,color("1,0.5,0,1")
TLDifficultyOffCommand=


[ScreenMiniMenuCSC]
CodeNames=SelectCSCKeys()
CodeStart="Start"
CodeLeft="MenuLeft"
CodeLeft2="Left"
CodeLeft3="DownLeft"
CodeRight="MenuRight"
CodeRight2="Right"
CodeRight3="DownRight"
CodeBack="Back"
CodeCenter="Center"


Fallback="ScreenWithMenuElements"
HelpText=visible,false
PlayMusic=true
StopMusicOnBack=false

ShowHeader=false
ShowStyleIcon=false
ShowIHelpunder=false
ShowStatusbar=false
MemoryCardIcons=false
ResetGameState=false

ShowHeaderRight=false
ShowHeaderTimeR=false

PrevScreen=SelectMusicOrCourse()
NextScreen="ScreenCSOpen"

ScreenOnCommand=lockinput,1

[ScreenCSOpen]
Fallback="ScreenCaution"
NextScreen="ScreenSelectMusicCS"
PrevScreen=Branch.TitleMenu()
TimerSeconds=1
ScreenOnCommand=lockinput,1
ShowHeader=false
ShowStyleIcon=false
ShowIHelpunder=false
ShowStatusbar=false
MemoryCardIcons=false
ResetGameState=false

ShowHeaderRight=false
ShowHeaderTimeR=false


[ScreenSelectMusicCS]
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.PlayerOptions()
Codes="CSCodeDetector"

MusicWheelType="MusicWheelCS"
ModeMenuAvailable=false
DefaultSort="Preferred"
TimerSeconds=30
HelpText=Screen.String("HelpTextSelectMusicCS")
PlayMusic=true
StopMusicOnBack=true
ScreenOnCommand=lockinput,1

OptionOrderUp="100:100"
OptionOrderDown="100:100"
OptionOrderLeft=
OptionOrderRight=
OptionOrderAuto="100:100"

OptionsMenuAvailable=true

SampleMusicPreviewMode='SampleMusicPreviewMode_ScreenMusic'
SampleMusicLoops=true
SampleMusicFallbackFadeInSeconds=0

CodeNames=SelectMusicCSKeys()
CodeSetState=CodeSetStateKey()
CodeStart="~Start"
CodeBack="Back"
CodeCenter="~Center"
CodeUp="MenuUp,MenuUp"
CodeUp2="Up,Up"
CodeDown="MenuDown,MenuDown"
CodeDown2="Down,Down"
CodeJudgeChange="~Select"
CodeRivalOpen1="@Down-UpLeft"
CodeRivalOpen2="@UpLeft-Down"
CodeRivalOpen3="@MenuDown-UpLeft"
CodeRivalOpen4="@UpLeft-MenuDown"
CodeTargetSet1="+UpLeft"
CodeTargetSet2="+UpRight"
CodeTargetSetOpen1="@Down-UpRight"
CodeTargetSetOpen2="@UpRight-Down"
CodeTargetSetOpen3="@MenuDown-UpRight"
CodeTargetSetOpen4="@UpRight-MenuDown"

HeaderTitle="CyanI"
ShowHeader=true
ShowStyleIcon=true
ShowIHelpunder=true
ShowStatusbar=true
MemoryCardIcons=true
ResetGameState=false

ShowHeaderRight=true
ShowHeaderTimeR=true

DefaultChoice=CSCDefaultSet()
ChoiceNames=getenv("songstr")
#ChoiceNames="1,2,3"

Choice1="text,1"
Choice2="text,2"
Choice3="text,3"
Choice4="text,4"
Choice5="text,5"
Choice6="text,6"
Choice7="text,7"
Choice8="text,8"
Choice9="text,9"
Choice10="text,10"
Choice11="text,11"
Choice12="text,12"
Choice13="text,13"
Choice14="text,14"
Choice15="text,15"
Choice16="text,16"
Choice17="text,17"
Choice18="text,18"
Choice19="text,19"
Choice20="text,20"
Choice21="text,21"
Choice22="text,22"
Choice23="text,23"
Choice24="text,24"
Choice25="text,25"
Choice26="text,26"
Choice27="text,27"
Choice28="text,28"
Choice29="text,29"
Choice30="text,30"
Choice31="text,31"
Choice32="text,32"
Choice33="text,33"
Choice34="text,34"
Choice35="text,35"
Choice36="text,36"
Choice37="text,37"
Choice38="text,38"
Choice39="text,39"
Choice40="text,40"
Choice41="text,41"
Choice42="text,42"
Choice43="text,43"
Choice44="text,44"
Choice45="text,45"
Choice46="text,46"
Choice47="text,47"
Choice48="text,48"
Choice49="text,49"
Choice50="text,50"

ScrollerOnCommand=fov,100;draworder,10;zoom,3;sleep,0.2;accelerate,0.5;zoom,1;rotationz,10
ScrollerOffCommand=
ScrollerCancelCommand=
ScrollerX=SCREEN_CENTER_X+80
ScrollerY=SCREEN_CENTER_Y-160
ScrollerTransform=function(self,offsetFromCenter,itemIndex,numItems) \
	local t = offsetFromCenter*math.pi*2/math.min(numItems,6); \
	self:x(math.sin(t)*320); \
	self:y(math.cos(t)*100); \
	self:z(math.cos(t)*100-200); \
end

ScrollerSecondsPerItem=0.075
ScrollerNumItemsToDraw=6

AllowRepeatingInput=true
LoopScroller=true
WrapScroller=true
ShowScroller=true
WrapCursor=true
ShowIcon=false
UseIconMetrics=false
PerChoiceScrollElement=false
PerChoiceIconElement=false
SharedSelection=true

BannerX=SCREEN_CENTER_X-172
BannerY=SCREEN_CENTER_Y-116
BannerOnCommand=visible,false
BannerOffCommand=
#
ShowBannerFrame=true
BannerFrameX=0
BannerFrameY=0
BannerFrameOnCommand=draworder,96
BannerFrameOffCommand=

DifficultyIconP1X=
DifficultyIconP1Y=
DifficultyIconP1OnCommand=
DifficultyIconP1OffCommand=

DifficultyIconP2X=
DifficultyIconP2Y=
DifficultyIconP2OnCommand=
DifficultyIconP2OffCommand=
#
ShowStageDisplay=not GAMESTATE:IsCourseMode()
StageDisplayX=SCREEN_CENTER_X+224
StageDisplayY=SCREEN_CENTER_Y-163
StageDisplayOnCommand=draworder,97;addx,-15;zoom,1;zoomy,0;sleep,0.8;decelerate,0.4;addx,15;zoomy,1
StageDisplayOffCommand=
#
ShowBPMDisplay=not GAMESTATE:IsCourseMode()
BPMDisplayX=SCREEN_CENTER_X-152
BPMDisplayY=SCREEN_CENTER_Y-66
BPMDisplayOnCommand=draworder,97;horizalign,center;maxwidth,180;addx,15;zoom,0.5;zoomy,0;sleep,0.55;decelerate,0.4;addx,-15;zoomy,0.5;

ShowSegmentDisplay=false
SegmentDisplayX=SCREEN_CENTER_X-276
SegmentDisplayY=SCREEN_CENTER_Y-58-69

# sorticon (/Graphics/ScreenSelectMusic SortDisplay.lua)
ShowSortDisplay=false
SortDisplayX=SCREEN_CENTER_X+124
SortDisplayY=SCREEN_CENTER_Y-130
SortDisplayOnCommand=draworder,97
SortDisplayOffCommand=


# time (/Graphics/ScreenSelectMusic SongLength.lua)
ShowSongLength=true
SongLengthX=SCREEN_CENTER_X-34-70
SongLengthY=SCREEN_CENTER_Y-42
SongLengthOnCommand=draworder,97;addx,-15;zoom,1;zoomy,0;sleep,0.8;decelerate,0.4;addx,15;zoomy,1
SongLengthOffCommand=

ShowPointDisplay=true
PointDisplayX=SCREEN_CENTER_X-92
PointDisplayY=SCREEN_CENTER_Y-110
PointDisplayOnCommand=draworder,98;addx,-15;zoom,1;zoomy,0;sleep,0.8;decelerate,0.4;addx,15;zoomy,1
PointDisplayOffCommand=

CDTitleX=SCREEN_CENTER_X+60
CDTitleY=SCREEN_CENTER_Y-120
CDTitleOnCommand=draworder,97;zoomy,0.7;zoomx,210/2;addx,-20/2;diffusealpha,0;sleep,0.9;accelerate,0.4;addx,20/2;zoomy,0.7;zoomx,0.7;diffusealpha,1
CDTitleOffCommand=
#CDTitleFrontCommand=
#CDTitleBackCommand=
CDTitleFrontCommand=spin;effectmagnitude,0,150,0;diffuse,color("1,1,1,1");cullmode,'CullMode_Back'
CDTitleBackCommand=spin;effectmagnitude,0,150,0;diffuse,color("0.4,0.4,0.4,1");cullmode,'CullMode_Front'

ShowNoteScoreDataP1=true
NoteScoreDataP1X=SCREEN_LEFT+16
NoteScoreDataP1Y=SCREEN_CENTER_Y-58
NoteScoreDataP1OnCommand=draworder,99
NoteScoreDataP1OffCommand=

ShowNoteScoreDataP2=true
NoteScoreDataP2X=SCREEN_RIGHT-16
NoteScoreDataP2Y=SCREEN_CENTER_Y-58
NoteScoreDataP2OnCommand=draworder,99
NoteScoreDataP2OffCommand=

ShowNoteScoreDataFrameP1=false
ShowNoteScoreDataFrameP2=false

#pane
ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=(SCREEN_CENTER_X*0.575)-167+30
PaneDisplayTextP1Y=SCREEN_BOTTOM-64
PaneDisplayTextP1OnCommand=draworder,96
PaneDisplayTextP1OffCommand=

ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=(SCREEN_CENTER_X*1.425)-113+30
PaneDisplayTextP2Y=SCREEN_BOTTOM-64
PaneDisplayTextP2OnCommand=draworder,96
PaneDisplayTextP2OffCommand=

ShowPaneDisplayFrameP1=false
ShowPaneDisplayFrameP2=false

# groove radar (Graphics/ScreenSelectMusic GrooveRadar.lua)
ShowGrooveRadar=not GAMESTATE:IsCourseMode()
GrooveRadarX=SCREEN_CENTER_X-210
GrooveRadarY=SCREEN_CENTER_Y+76
GrooveRadarOnCommand=draworder,11;zoom,0.675;rotationz,30
GrooveRadarOffCommand=finishtweening;zoom,0


# was DifficultyDisplay
ShowAvailableDifficulties=false
AvailableDifficultiesX=
AvailableDifficultiesY=
AvailableDifficultiesOnCommand=
AvailableDifficultiesOffCommand=

# number of stages
ShowNumCourseSongs=GAMESTATE:IsCourseMode()
NumCourseSongsX=SCREEN_CENTER_X-60
NumCourseSongsY=SCREEN_CENTER_Y+96
NumCourseSongsOnCommand=draworder,97;zoom,1
NumCourseSongsOffCommand=

# course has mods
ShowCourseHasMods=GAMESTATE:IsCourseMode()
CourseHasModsX=SCREEN_CENTER_X-134
CourseHasModsY=SCREEN_CENTER_Y+40
CourseHasModsOnCommand=draworder,100;zoomy,0;addx,-10;sleep,1.2;linear,0.2;zoomy,1;addx,10;
CourseHasModsOffCommand=

# course contents
ShowCourseContents=GAMESTATE:IsCourseMode()
CourseContentsX=SCREEN_CENTER_X
CourseContentsY=SCREEN_CENTER_Y+110
CourseContentsOnCommand=draworder,95;zoom,1
CourseContentsOffCommand=finishtweening;
CourseContentsShowCommand=linear,0.2;zoom,1
CourseContentsHideCommand=linear,0.2;zoom,0

ShowTLDifficulty=true
TLDifficultyX=SCREEN_LEFT+90
TLDifficultyY=SCREEN_TOP+6
TLDifficultyOnCommand=draworder,98;zoom,0.5;horizalign,left;diffuse,color("1,0.5,0,1")
TLDifficultyOffCommand=

# song options text at the end
#ShowSongOptions=true
#SongOptionsX=
#SongOptionsY=SCREEN_CENTER_Y
#SongOptionsOnCommand=visible,true;draworder,1000
#SongOptionsOffCommand=

UseOptionsList=false
ModIconTextOnCommand=maxwidth,36;uppercase,true;shadowlength,0


[MusicWheel]
SwitchSeconds=0.05
RouletteSwitchSeconds=0.02
RouletteSlowDownSwitches=5
LockedInitialVelocity=15
UseSectionsWithPreferredGroup=true
OnlyShowActiveSection=vcheck()~="beta4" and true or false
HideActiveSectionTitle=false
RemindWheelPositions=false
ScrollBarOnCommand=visible,false
ScrollBarHeight=240

# items
NumWheelItems=(round(GetScreenAspectRatio(),5) >= 1.77778) and math.floor((SCREEN_WIDTH/180)*2) or 9

MostPlayedSongsToShow=50
RecentSongsToShow=50

ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	function setzoomy(offsetFromCenter) \
		zoomy_set = math.min(0.45,WideScale(0.35,0.45)); \
		c_zoomy_set = WideScale(0.35,0.45) + (WideScale(0.5,0.55) - (math.abs(offsetFromCenter) * WideScale(0.5,0.55))); \
		if round(GetScreenAspectRatio(),5) >= 1.77778 then \
			c_zoomy_set = 0.45 + (0.55 - (math.abs(offsetFromCenter) * 0.55)); \
		end; \
		if offsetFromCenter >= 1 then \
			return zoomy_set; \
		elseif offsetFromCenter <= -1 then \
			return zoomy_set; \
		else \
			return c_zoomy_set; \
		end; \
	end; \
	function setx(offsetFromCenter) \
		x_set_o,x_set_t = math.min(78,WideScale(68,78)),math.min(82,WideScale(68,82)); \
		c_x_set = offsetFromCenter * math.min(160,WideScale(136,160)); \
		if round(GetScreenAspectRatio(),5) >= 1.77778 then \
			x_set_o,x_set_t = 78,82; \
		end; \
		if offsetFromCenter >= 1 then \
			return x_set_o + offsetFromCenter * x_set_t; \
		elseif offsetFromCenter <= -1 then \
			return offsetFromCenter * x_set_t - x_set_o; \
		else \
			return c_x_set; \
		end; \
	end; \
	function sety(offsetFromCenter) \
		y_set_o = math.max(-4,WideScale(-2,-4)); \
		if offsetFromCenter >= 1 then \
			return (offsetFromCenter * y_set_o); \
		elseif offsetFromCenter <= -1 then \
			return (math.abs(offsetFromCenter) * y_set_o); \
		else \
			if offsetFromCenter > 0 and offsetFromCenter < 1 then \
				return offsetFromCenter * (y_set_o); \
			else \
				return math.abs(offsetFromCenter) * (y_set_o); \
			end; \
		end; \
	end; \
	function setskewy(offsetFromCenter) \
		if offsetFromCenter >= 1 then \
			return -0.2; \
		elseif offsetFromCenter <= -1 then \
			return 0.2; \
		else \
			return offsetFromCenter * -0.2; \
		end; \
	end; \
	self:rotationy(clamp(offsetFromCenter,1,-1) * 65); \
	if round(GetScreenAspectRatio(),5) >= 1.77778 then \
		self:zoomx(1.18 * (2 - clamp(math.abs(offsetFromCenter),0,1)) ); \
	else \
		self:zoomx(WideScale(1,1.18) * (2 - clamp(math.abs(offsetFromCenter),0,1)) ); \
	end; \
	self:x( setx(offsetFromCenter) ); \
	self:y( sety(offsetFromCenter) ); \
	self:z( -math.abs(offsetFromCenter * 2) ); \
	self:zoomy( setzoomy(offsetFromCenter) ); \
	self:skewy( setskewy(offsetFromCenter) ); \
end;

#	function sety(offsetFromCenter) \
#		if offsetFromCenter >= 1 then \
#			return 16 + (offsetFromCenter * y_set_o); \
#		elseif offsetFromCenter <= -1 then \
#			return (math.abs(offsetFromCenter) * y_set_o) + 16; \
#		else \
#			if offsetFromCenter > 0 and offsetFromCenter < 1 then \
#				return offsetFromCenter * (y_set_o + 16); \
#			else \
#				return math.abs(offsetFromCenter) * (y_set_o + 16); \
#			end; \
#		end; \
#	end; \

#ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
#	self:x( offsetFromCenter * -12 ); \
#	self:y( offsetFromCenter * 42 ); \
#end

HighlightOnCommand=visible,false

WheelItemOnDelayOffset=SCREENMAN:GetTopScreen():GetName() == "ScreenSelectMusicSup" and 0 or 1
WheelItemOffDelayOffset=0.04

MusicWheelSortOnCommand=
MusicWheelSortOffCommand=
MusicWheelItemSortOnCommand=stoptweening;decelerate,0.05;zoomy,0;
MusicWheelItemSortOffCommand=stoptweening;decelerate,0.05;zoomy,0;
#MusicWheelItemOnCommand=stoptweening;decelerate,0.05;zoomy,0;
#MusicWheelItemOffCommand=stoptweening;decelerate,0.05;zoomy,0;
SortOrders={ "" }
ModeMenuChoiceNames="Group"

ChoicePreferred="sort,Preferred"
ChoiceGroup="sort,Group"
ChoiceTitle="sort,Title"
ChoiceBpm="sort,BPM"
ChoicePopularity="sort,Popularity"
ChoiceTopGrades="sort,TopGrades"
ChoiceArtist="sort,Artist"
ChoiceGenre="sort,Genre"
ChoiceBeginnerMeter="sort,BeginnerMeter;difficulty,beginner"
ChoiceEasyMeter="sort,EasyMeter;difficulty,easy"
ChoiceMediumMeter="sort,MediumMeter;difficulty,medium"
ChoiceHardMeter="sort,HardMeter;difficulty,hard"
ChoiceChallengeMeter="sort,ChallengeMeter;difficulty,challenge"
ChoiceDoubleEasyMeter="sort,DoubleEasyMeter;difficulty,easy"
ChoiceDoubleMediumMeter="sort,DoubleMediumMeter;difficulty,medium"
ChoiceDoubleHardMeter="sort,DoubleHardMeter;difficulty,hard"
ChoiceDoubleChallengeMeter="sort,DoubleChallengeMeter;difficulty,challenge"
ChoiceLength="sort,Length"
ChoiceRecent="sort,Recent"
ChoiceNormalMode="playmode,regular"
ChoiceBattleMode="playmode,battle"

CustomWheelItemNames=ExCustom()
#CustomWheelItemNames="Random,CSC"
CustomWheelItemCSC=
CustomWheelItemRandom=
CustomWheelItemFavorite1=
CustomWheelItemFavorite2=
CustomWheelItemFavorite3=
CustomWheelItemFavorite4=
CustomWheelItemFavorite5=
CSCColor=color("0,1,0.8,1")
Favorite1Color=mt_f_color(1)
Favorite2Color=mt_f_color(2)
Favorite3Color=mt_f_color(3)
Favorite4Color=mt_f_color(4)
Favorite5Color=mt_f_color(5)

# randoms
ShowRandom=false
ShowRoulette=false
ShowPortal=false

NumSectionColors=1
SectionColor1=color("0.5,1,0.1,1")
SongRealExtraColor=color("1,0.1,0.4,1")
SortMenuColor=color("1,1,0.1,1")
WheelItemLockedColor=color("0,0,0,0.65")
RouletteColor=color("1,0.1,0.4,1")
RandomColor=color("1,0.1,0.4,1")
PortalColor=color("1,0.1,0.4,1")
EmptyColor=color("0.75,0.75,0.75,1")

[MusicWheelCS]
Fallback="MusicWheel"
SortOrders={ "" }
ModeMenuChoiceNames="Preferred"
CustomWheelItemNames=""
CustomWheelItemCSImpulse=
CSImpulseColor=color("0,1,1,1")
UseSectionsWithPreferredGroup=false
NumWheelItems=5

ScrollBarOnCommand=%function(self) self:visible(false); end;

# randoms
ShowRandom=false
ShowRoulette=false
ShowPortal=false

[MusicWheelItem]
WheelNotifyIconX=-63
WheelNotifyIconY=-101
WheelNotifyIconOnCommand=

SongNameX=-82
SongNameY=108
SongNameOnCommand=
CourseX=-82
CourseY=100
CourseOnCommand=visible,GAMESTATE:IsCourseMode();zoomy,1;horizalign,left;maxwidth,160;
CourseSetMessageCommand=%TextBanner.SelMusicTextBannerTitleSet
SectionExpandedX=0
SectionExpandedY=0
SectionExpandedOnCommand=visible,false;zoomy,0;
SectionCollapsedX=0
SectionCollapsedY=0
SectionCollapsedOnCommand=visible,false;zoomy,0;
SectionCountX=68
SectionCountY=-52
SectionCountOnCommand=visible,false;zoomy,0;
#SectionCountOnCommand=shadowlength,0;zoom,0.675;horizalign,right;maxwidth,96;diffuse,Color("White");strokecolor,color("0,0,0,0.5");
RouletteX=0
RouletteY=0
RouletteOnCommand=visible,false;zoomy,0;
RandomX=0
RandomY=0
RandomOnCommand=visible,false;zoomy,0;
PortalX=0
PortalY=0
PortalOnCommand=visible,false;zoomy,0;
SortX=0
SortY=0
SortOnCommand=visible,false;zoomy,0;
GradeP1X=-11
GradeP1Y=-93
GradeP2X=49
GradeP2Y=-93
CustomX=0
CustomY=0
CustomOnCommand=visible,false;zoomy,0;

[WheelNotifyIcon]
ShowTraining=false
BlinkPlayersBest=false
NumIconsToShow=2


[TextBanner]
ArtistPrependString=""
AfterSetCommand=%TextBannerAfterSet
TitleX=15
TitleY=0
TitleOnCommand=visible,true;shadowlength,0;horizalign,left
TitleSetMessageCommand=%TextBanner.SelMusicTextBannerTitleSet
SubtitleX=8
SubtitleY=0
SubtitleOnCommand=visible,true;shadowlength,0;horizalign,left
SubtitleSetMessageCommand=%TextBanner.SelMusicTextBannerSubTitleSet
ArtistX=15
ArtistY=0
ArtistOnCommand=visible,false;shadowlength,0;horizalign,left


[SelMusicTextBanner]
Fallback="TextBanner"
ArtistPrependString=""
AfterSetCommand=%SelMusicTextBannerAfterSet

TitleX=15
TitleY=0
TitleOnCommand=visible,true;shadowlength,0;horizalign,left
TitleSetMessageCommand=
SubtitleX=8
SubtitleY=0
SubtitleOnCommand=visible,true;shadowlength,0;horizalign,left
SubtitleSetMessageCommand=
ArtistX=15
ArtistY=0
ArtistOnCommand=visible,true;shadowlength,0;horizalign,left

[CourseTextBanner]
Fallback="TextBanner"
ArtistPrependString=""
AfterSetCommand=%CourseTextBannerAfterSet

TitleX=15
TitleY=0
TitleOnCommand=visible,true;shadowlength,2;horizalign,left
TitleSetMessageCommand=
SubtitleX=8
SubtitleY=0
SubtitleOnCommand=visible,true;shadowlength,2;horizalign,left
SubtitleSetMessageCommand=
ArtistX=15
ArtistY=0
ArtistOnCommand=visible,false;shadowlength,2;horizalign,left

[DemoTextBanner]
Fallback="TextBanner"
ArtistPrependString=""
AfterSetCommand=%DemoTextBannerAfterSet

TitleX=15
TitleY=0
TitleOnCommand=visible,true;shadowlength,2;horizalign,right
TitleSetMessageCommand=
SubtitleX=8
SubtitleY=0
SubtitleOnCommand=visible,true;shadowlength,2;horizalign,right
SubtitleSetMessageCommand=
ArtistX=15
ArtistY=0
ArtistOnCommand=visible,true;shadowlength,2;horizalign,right

[GamePlayTextBanner]
Fallback="TextBanner"
ArtistPrependString=""
AfterSetCommand=%GamePlayTextBannerAfterSet

TitleX=15
TitleY=0
TitleOnCommand=visible,true;shadowlength,2;horizalign,left
TitleSetMessageCommand=
SubtitleX=22
SubtitleY=0
SubtitleOnCommand=visible,true;shadowlength,2;horizalign,left
SubtitleSetMessageCommand=
ArtistX=15
ArtistY=0
ArtistOnCommand=visible,true;shadowlength,2;horizalign,left

[EvaluationTextBanner]
Fallback="TextBanner"
ArtistPrependString=""
AfterSetCommand=%EvaluationTextBannerAfterSet

TitleX=15
TitleY=0
TitleOnCommand=visible,true;shadowlength,0;horizalign,left
TitleSetMessageCommand=
SubtitleX=22
SubtitleY=0
SubtitleOnCommand=visible,true;shadowlength,0;horizalign,left
SubtitleSetMessageCommand=
ArtistX=15
ArtistY=0
ArtistOnCommand=visible,true;shadowlength,0;horizalign,left



[BPMDisplay]
SetNoBpmCommand=stoptweening;linear,0.2;diffuse,color("0,0.5,0.5,1");diffusetopedge,color("0,1,1,1");strokecolor,Color("Black")
SetNormalCommand=stoptweening;linear,0.2;diffuse,color("1,1,0,1");diffusetopedge,color("0,1,1,1");strokecolor,Color("Black")
SetChangeCommand=stoptweening;linear,0.2;diffuse,color("1,1,0,1");diffusetopedge,color("1,0.5,0,1");strokecolor,Color("Black")
SetRandomCommand=stoptweening;linear,0.2;diffuse,color("1,1,0,1");diffusetopedge,color("1,0,1,1");strokecolor,Color("Black")
SetExtraCommand=stoptweening;linear,0.2;diffuse,color("0.9,0.3,0.7,1");diffusebottomedge,color("1,0.2,0.4,1");strokecolor,Color("Black")
NoBpmText="xxx"
QuestionMarksText="???"
RandomText="???"
RandomCycleSpeed=0.2
ShowQMarksInRandomCycle=false
Cycle=false
Separator="~"


## 難易度表示関連 ##
[StepsDisplay]
ShowFrame=false
ShowDescription=false
ShowAutogen=false
ShowTicks=false
NumTicks=20
MaxTicks=20
GlowIfMeterGreaterThan=9999999
ZeroMeterString=" "
MeterX=77
MeterY=0
MeterOnCommand=visible,false
MeterOffCommand=
MeterSetCommand=

[StepsDisplayEvaluation]
Fallback="StepsDisplay"

[StepsDisplayP1]
Fallback="StepsDisplay"

[StepsDisplayP2]
Fallback="StepsDisplay"

[StepsDisplayCourseP1]
Fallback="StepsDisplay"

[StepsDisplayCourseP2]
Fallback="StepsDisplay"

[StepsDisplayListRow]
CapitalizeDifficultyNames=false
ItemsSpacingY=92
NumShownItems=DifficultyListNetMode()
MoveCommand=stoptweening;decelerate,0.3

ShowTicks=false
NumTicks=20
MaxTicks=20
TicksX=62
TicksOnCommand=
TicksOffCommand=
TicksSetCommand=

ShowMeter=false
MeterX=6
MeterY=-32
MeterOnCommand=
MeterSetCommand=

ShowDescription=false
DescriptionX=21
DescriptionY=44
DescriptionOnCommand=
DescriptionSetCommand=

ShowAutogen=true
AutogenX=-18
AutogenY=24
AutogenOnCommand=draworder,99;rotationz,90;zoomy,0;sleep,0.2;linear,0.4;zoomy,1
AutogenSetCommand=%function(self,param) \
	self:stoptweening(); \
	self:visible(false); \
	if param.Steps and param.Steps:IsAutogen() then \
		self:visible(true); \
		(cmd(glowshift;effectcolor1,color("0.7,1,0,0.5");effectcolor2,color("1,1,1,0");effectperiod,1))(self); \
	end \
end;

ShowStepsType=true
StepsTypeX=-80
StepsTypeY=0
StepsTypeOnCommand=
StepsTypeOffCommand=
StepsTypeSetCommand=

[GrooveRadar]
Label1X=0
Label1Y=0
Label1OffsetX=0
Label1OffsetY=0
Label2X=0
Label2Y=0
Label2OffsetX=0
Label2OffsetY=0
Label3X=0
Label3Y=0
Label3OffsetX=0
Label3OffsetY=0
Label4X=0
Label4Y=0
Label4OffsetX=0
Label4OffsetY=0
Label5X=0
Label5Y=0
Label5OffsetX=0
Label5OffsetY=0
LabelOnDelay=0.2
LabelPreDelayOnCommand=
LabelPostDelayOnCommand=
EdgeWidth=1
CenterAlpha=0
RadarValueMapP1OnCommand=diffuse,PlayerColor(PLAYER_1)
RadarValueMapP2OnCommand=diffuse,PlayerColor(PLAYER_2)

# courses
[ScreenSelectCourse]
HeaderTitle="CourseS"
Class="ScreenSelectMusic"
Fallback="ScreenSelectMusic"
HelpText=Screen.String("HelpTextSelectCourse")
Codes="CSCodeDetector"
ShowStyleIcon=true
ShowIHelpunder=true
ShowExplanation=false
MemoryCardIcons=true
TimerSeconds=60

ShowHeaderRight=true
ShowHeaderTimeR=true

SongLengthX=math.min(WideScale(SCREEN_CENTER_X+154,SCREEN_CENTER_X+290),SCREEN_CENTER_X+290)
SongLengthY=SCREEN_CENTER_Y-148
SongLengthOnCommand=draworder,97;shadowlength,1;addx,-15;zoom,0.75;zoomy,0;sleep,0.8;decelerate,0.4;addx,15;zoomy,0.75

ScreenModsCommand=setupcoursestagemods
Codes="CourseCodeDetector"
#
ShowGrooveRadar=false
ShowStepsDisplayList=false
ShowStageDisplay=true
StageDisplayOnCommand=visible,false
ShowOptionsArea=true
ShowSortDisplay=false
ShowCourseHasMods=true
DifficultyFrameP1OnCommand=visible,false
DifficultyFrameP2OnCommand=visible,false
DifficultyIconP1X=math.max(WideScale(SCREEN_CENTER_X-190,SCREEN_CENTER_X-220),SCREEN_CENTER_X-220)
DifficultyIconP1Y=SCREEN_CENTER_Y+36
DifficultyIconP1OnCommand=draworder,96;zoomx,0.8;zoomy,0;sleep,0.6;linear,0.2;zoomy,0.8
DifficultyIconP1OffCommand=
DifficultyIconP2X=math.min(WideScale(SCREEN_CENTER_X+190,SCREEN_CENTER_X+220),SCREEN_CENTER_X+220)
DifficultyIconP2Y=SCREEN_CENTER_Y+36
DifficultyIconP2OnCommand=draworder,96;zoomx,0.8;zoomy,0;sleep,0.6;linear,0.2;zoomy,0.8
DifficultyIconP2OffCommand=

# musicwheel
MusicWheelX=SCREEN_CENTER_X
MusicWheelY=(round(GetScreenAspectRatio(),5) >= 1.77778) and SCREEN_CENTER_Y-55 or WideScale(SCREEN_CENTER_Y-42,SCREEN_CENTER_Y-55)
MusicWheelOnCommand=SetDrawByZPosition,true;vanishpoint,SCREEN_CENTER_X,SCREEN_CENTER_Y*0.75;zoomy,0;linear,0.3;zoom,1
MusicWheelOffCommand=

WheelScrollBarX=SCREEN_CENTER_X*0.725
WheelScrollBarY=SCREEN_TOP+70

[CourseEntryDisplay]
# technically this isn't used anymore

[ScreenSelectCourseNonstop]
Fallback="ScreenSelectCourse"
DefaultSort="Nonstop"
Codes="CSCodeDetector"

[ScreenSelectCourseOni]
Fallback="ScreenSelectCourse"
DefaultSort="Oni"
Codes="CSCodeDetector"

[ScreenSelectCourseEndless]
Fallback="ScreenSelectCourse"
DefaultSort="Endless"
Codes="CSCodeDetector"

[ScreenOptionsMaster]
# Player options
SpeedExplanation=false
## legacy speed row
Speed="56;selectone"
SpeedDefault="mod,1x,no randomSpeed"
Speed,1="mod,1x;name,x1"
Speed,2="mod,1.25x;name,x1.25"
Speed,3="mod,1.5x;name,x1.5"
Speed,4="mod,1.75x;name,x1.75"
Speed,5="mod,2x;name,x2"
Speed,6="mod,2.25x;name,x2.25"
Speed,7="mod,2.5x;name,x2.5"
Speed,8="mod,2.75x;name,x2.75"
Speed,9="mod,3x;name,x3"
Speed,10="mod,3.25x;name,x3.25"
Speed,11="mod,3.5x;name,x3.5"
Speed,12="mod,3.75x;name,x3.75"
Speed,13="mod,4x;name,x4"
Speed,14="mod,4.25x;name,x4.25"
Speed,15="mod,4.5x;name,x4.5"
Speed,16="mod,4.75x;name,x4.75"
Speed,17="mod,5x;name,x5"
Speed,18="mod,5.25x;name,x5.25"
Speed,19="mod,5.5x;name,x5.5"
Speed,20="mod,5.75x;name,x5.75"
Speed,21="mod,6x;name,x6"
Speed,22="mod,6.5x;name,x6.5"
Speed,23="mod,7x;name,x7"
Speed,24="mod,7.5x;name,x7.5"
Speed,25="mod,8x;name,x8"
Speed,26="mod,C50;name,C50"
Speed,27="mod,C100;name,C100"
Speed,28="mod,C150;name,C150"
Speed,29="mod,C200;name,C200"
Speed,30="mod,C225;name,C225"
Speed,31="mod,C250;name,C250"
Speed,32="mod,C275;name,C275"
Speed,33="mod,C300;name,C300"
Speed,34="mod,C325;name,C325"
Speed,35="mod,C350;name,C350"
Speed,36="mod,C375;name,C375"
Speed,37="mod,C400;name,C400"
Speed,38="mod,C425;name,C425"
Speed,39="mod,C450;name,C450"
Speed,40="mod,C475;name,C475"
Speed,41="mod,C500;name,C500"
Speed,42="mod,C525;name,C525"
Speed,43="mod,C550;name,C550"
Speed,44="mod,C575;name,C575"
Speed,45="mod,C600;name,C600"
Speed,46="mod,C625;name,C625"
Speed,47="mod,C650;name,C650"
Speed,48="mod,C675;name,C675"
Speed,49="mod,C700;name,C700"
Speed,50="mod,C725;name,C725"
Speed,51="mod,C750;name,C750"
Speed,52="mod,C775;name,C775"
Speed,53="mod,C800;name,C800"
Speed,54="mod,0.25x;name,x0.25"
Speed,55="mod,0.50x;name,x0.5"
Speed,56="mod,0.75x;name,x0.75"

AccelExplanation="Accel"
Accel="7;selectmultiple"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang,no drunk,no tornado"
Accel,1="mod,boost;name,Boost"
Accel,2="mod,brake;name,Brake"
Accel,3="mod,wave;name,Wave"
Accel,4="mod,expand;name,Expand"
Accel,5="mod,boomerang;name,Boomerang"
Accel,6="mod,drunk;name,Drunk"
Accel,7="mod,tornado;name,Tornado"

EffectExplanation="Effect"
Effect="11;selectmultiple"
EffectDefault="mod,no dizzy,no twirl,no roll,no confusion,no tiny,no flip,no invert,no tipsy,no bumpy,no beat,no xmode"
Effect,1="mod,dizzy;name,Dizzy"
Effect,2="mod,twirl;name,Twirl"
Effect,3="mod,roll;name,Roll"
Effect,4="mod,confusion;name,Confusion"
Effect,5="mod,tiny;name,Tiny"
Effect,6="mod,flip;name,Flip"
Effect,7="mod,invert;name,Invert"
Effect,8="mod,tipsy;name,Tipsy"
Effect,9="mod,bumpy;name,Bumpy"
Effect,10="mod,beat;name,Beat"
Effect,11="mod,45% xmode;name,XMode"

MiniListExplanation=false
MiniList="13;selectone"
MiniListDefault="mod,no mini"
MiniList,1="mod,98% mini;name,95% Mini"
MiniList,2="mod,95% mini;name,90% Mini"
MiniList,3="mod,90% mini;name,85% Mini"
MiniList,4="mod,85% mini;name,75% Mini"
MiniList,5="mod,65% mini;name,Mini"
MiniList,6="mod,35% mini;name,35% Mini"
MiniList,7="mod,no mini;name,NoMini"
MiniList,8="mod,-30% mini;name,-30% Mini"
MiniList,9="mod,-50% mini;name,-50% Mini"
MiniList,10="mod,-70% mini;name,-70% Mini"
MiniList,11="mod,-90% mini;name,-85% Mini"
MiniList,12="mod,-95% mini;name,-95% Mini"
MiniList,13="mod,-100% mini;name,Big"

AppearanceExplanation="Appearance"
CAppearanceExplanation="CAppearance"
Appearance="5;selectone"
AppearanceDefault="mod,no hidden,no sudden,no stealth,no blink,no randomvanish"
Appearance,1="name,Off"
Appearance,2="mod,hidden;name,Hidden"
Appearance,3="mod,sudden;name,Sudden"
Appearance,4="mod,stealth;name,Stealth"
Appearance,5="mod,blink;name,Blink"
# Random Vanish causes crashes [going into sm-ssc v1.0 beta 4] -aj
#Appearance,5="mod,randomvanish;name,R.Vanish"

TurnExplanation="Turn"
Turn="6;selectmultiple"
TurnDefault="mod,no turn"
Turn,1="mod,mirror;name,Mirror"
Turn,2="mod,left;name,Left"
Turn,3="mod,right;name,Right"
Turn,4="mod,shuffle;name,Shuffle"
Turn,5="mod,supershuffle;name,SuperShuffle"
Turn,6="mod,softshuffle;name,SoftShuffle"

InsertExplanation="Insert"
Insert="7;selectmultiple"
InsertDefault="mod,no wide,no big,no quick,no bmrize,no skippy,no echo,no stomp"
Insert,1="mod,wide;name,Wide"
Insert,2="mod,big;name,Big"
Insert,3="mod,quick;name,Quick"
Insert,4="mod,bmrize;name,BMRize"
Insert,5="mod,skippy;name,Skippy"
Insert,6="mod,echo;name,Echo"
Insert,7="mod,stomp;name,Stomp"

Insert2Explanation="Insert2"
Insert2="4;selectmultiple"
Insert2Default="mod,no planted,no twister,no holdrolls,no mines,no lifts"
Insert2,1="mod,planted;name,Planted"
Insert2,2="mod,twister;name,Twister"
Insert2,3="mod,holdrolls;name,HoldsToRolls"
Insert2,4="mod,mines;name,AddMines"

ScrollExplanation="Scroll"
Scroll="5;selectmultiple"
ScrollDefault="mod,no reverse,no split,no alternate,no cross,no centered"
Scroll,1="mod,reverse;name,Reverse"
Scroll,2="mod,split;name,Split"
Scroll,3="mod,alternate;name,Alternate"
Scroll,4="mod,cross;name,Cross"
Scroll,5="mod,centered;name,Centered"

Scroll2Explanation="Scroll2"
Scroll2="6;selectone"
Scroll2Default="mod,no reverse,no split,no alternate,no cross,no centered"
Scroll2,1=name,Standard
Scroll2,2="mod,reverse;name,Reverse"
Scroll2,3="mod,split;name,Split"
Scroll2,4="mod,alternate;name,Alternate"
Scroll2,5="mod,cross;name,Cross"
Scroll2,6="mod,centered;name,Centered"

HideExplanation="Hide"
CHideExplanation="Hide"
Hide="3;selectmultiple"
HideDefault="mod,no dark,no blind,no cover"
Hide,1="mod,dark;name,Dark"
Hide,2="mod,blind;name,Blind"
Hide,3="mod,100% cover;name,Cover"

HandicapExplanation="Handicap"
Handicap="10;selectmultiple"
HandicapDefault="mod,no little,no noholds,no norolls,no nojumps,no nohands,no noquads,no nomines,no nolifts,no nostretch,no nofakes"
Handicap,1="mod,little;name,Little"
Handicap,2="mod,noholds;name,NoHolds"
Handicap,3="mod,norolls;name,NoRolls"
Handicap,4="mod,nojumps;name,NoJumps"
Handicap,5="mod,nohands;name,NoHands"
Handicap,6="mod,noquads;name,NoQuads"
Handicap,7="mod,nomines;name,NoMines"
Handicap,8="mod,nolifts;name,NoLifts"
Handicap,9="mod,nostretch;name,NoStretch"
Handicap,10="mod,nofakes;name,NoFakes"

MinesExplanation="Mines"
Mines="3;selectone"
MinesDefault="mod,no mines,no attackmines"
Mines,1="name,On"
Mines,2="mod,mines;name,Add"
Mines,3="mod,attackmines;name,AttackMines"

AttacksExplanation="Attacks"
Attacks="3;selectone"
AttacksDefault="mod,no randomattacks, no noattacks"
Attacks,1="name,On"
Attacks,2="mod,randomattacks;name,RandomAttacks"
Attacks,3="mod,noattacks;name,Off"

PerspExplanation="Persp"
Persp="5;selectone"
PerspDefault="mod,overhead"
Persp,1="mod,incoming;name,Incoming"
Persp,2="mod,overhead;name,Overhead"
Persp,3="mod,space;name,Space"
Persp,4="mod,hallway;name,Hallway"
Persp,5="mod,distant;name,Distant"

PlayerAutoPlayExplanation=false
PlayerAutoPlay="2;selectone"
PlayerAutoPlayDefault="mod,no playerautoplay"
PlayerAutoPlay,1="name,Off"
PlayerAutoPlay,2="mod,playerautoplay;name,On"

StepsExplanation=false
CMStepsExplanation=false
StepsLockedExplanation=false
NoteSkinsExplanation=false
CharactersExplanation=false
CCoverExplanation=false
IngameStatsExplanation=false
ScoreGraphExplanation=false
ScreenFilterExplanation=false
ProTimingExplanation=false
CLifeTypeExplanation=false
CBarDrainExplanation=false
CBatLivesExplanation=false
CFailTypeExplanation=false
CProTimingExplanation="CProTiming"
P1ScoreGraphExplanation=false
P2ScoreGraphExplanation=false
GraphTypeExplanation="GraphType"
GamePlaySpeedIncrementExplanation=false
RateExplanation=false
NewSkinExplanation=false
CLyricsExplanation=false


[ScreenPlayerOptions]
HeaderTitle="POptions"
NavigationMode="toggle"
HelpText=OptionsNavigation()
Fallback="PlayerOptions"
PrevScreen=Branch.BackOutOfPlayerOptions()
NextScreen=Branch.SongOptions()
ShowStyleIcon=true
MemoryCardIcons=true
ShowIHelpunder=true
ShowStatusbar=true

ScreenType=IsNetConnected() and 1 or 0
OptionScreenType=1

TimerSeconds=NetPOTimer()
TimerStealth=IsNetConnected() and true or false
ShowHeaderRight=true
ShowHeaderTimeR=true

PlayerNameplateP1X=SCREEN_LEFT+WideScale(100,180)
PlayerNameplateP1Y=SCREEN_CENTER_Y-170
PlayerNameplateP1OnCommand=draworder,DrawOrder.Decorations
PlayerNameplateP1OffCommand=accelerate,0.2;zoomy,0
PlayerNameplateP2X=SCREEN_RIGHT-WideScale(100,180)
PlayerNameplateP2Y=SCREEN_CENTER_Y-170
PlayerNameplateP2OnCommand=draworder,DrawOrder.Decorations
PlayerNameplateP2OffCommand=accelerate,0.2;zoomy,0

ShowSongInformation=SelOptionsTitleShow()
SongInformationX=SCREEN_CENTER_X-64
SongInformationY=SCREEN_TOP+74
SongInformationOnCommand=draworder,99;zoom,0.75;addy,-10;accelerate,0.2;addy,10;
SongInformationOffCommand=accelerate,0.2;addy,-10;zoomy,0

ShowInfoStatusP1=true
InfoStatusP1X=SCREEN_CENTER_X*0.575-28
InfoStatusP1Y=SCREEN_BOTTOM-70
InfoStatusP1OnCommand=player,PLAYER_1;draworder,-1
InfoStatusP1OffCommand=

ShowInfoStatusP2=true
InfoStatusP2X=SCREEN_CENTER_X*1.425+26
InfoStatusP2Y=SCREEN_BOTTOM-70
InfoStatusP2OnCommand=player,PLAYER_2;draworder,-1
InfoStatusP2OffCommand=

ShowInfoStatusFrameP1=false
ShowInfoStatusFrameP2=false

ShowTLDifficulty=true
TLDifficultyX=SCREEN_LEFT+90
TLDifficultyY=SCREEN_TOP+6
TLDifficultyOnCommand=draworder,98;zoom,0.5;horizalign,left;diffuse,color("1,0.5,0,1");zoomy,0;sleep,0.6;linear,0.2;zoomy,0.5
TLDifficultyOffCommand=

OptionRowNormalMetricsGroup="OptionRowPlayer"
LineNames=GetDefaultOptionLines(GAMESTATE:GetCurrentSong())
#Line1="list,Speed"
Line1="lua,ArbitrarySpeedMods()"
Line2="list,Handicap"
Line3="list,Accel"
Line4="list,Effect"
Line5="list,MiniList"
Line6="list,Turn"
Line7="list,Appearance"
LineHsp="lua,CAppearance()"
Line8="list,Insert"
Line9="list,Insert2"
#Line8="lua,CInsert()"
#Line9="lua,CInsert2()"
Line10="list,Scroll"
Line11="list,Hide"
Line12="list,Persp"
Line13="list,Attacks"
Line14="list,Steps"
Line15="list,NoteSkins"
Line16="list,Characters"
Line17="lua,CProTiming()"
Line18="lua,ScreenFilter()"
Line19="lua,CBarDrain()"
Line20="lua,CBatLives()"
Line21="lua,CFailType()"
Line22="list,PlayerAutoPlay"
Line9B="list,Scroll2"
LineStats="lua,OptionShowStats()"
LineGraphType="lua,GraphType()"
LineP1Graph="lua,P1ScoreGraph()"
LineP2Graph="lua,P2ScoreGraph()"
LineCCover="lua,CCover()"
LineCMS="lua,CMSteps()"
LineCCM="lua,CCMSteps()"
LineCHide="lua,CHide()"
#LineCMini="lua,CMini()"
LineSG="lua,SpeedModGamePlayInc()"
LineCR="lua,CRate()"
LineNNS="lua,newskin_option_row()"
LineCL="lua,CLyrics()"


ExplanationTogetherOnCommand=droworder,91;zoom,0.55;wrapwidthpixels,1140;horizalign,left;cropright,1;linear,0.4;cropright,0;strokecolor,Color("Black")

#[ScreenPlayerOptionsCT]
#Fallback="ScreenPlayerOptions"
#Line1="lua,SpeedMods()"


[ScreenPlayerOptionsRestricted]
Fallback="ScreenPlayerOptions"
HelpText=OptionsNavigation()
NextScreen=Branch.SongOptions()
#NextScreen="ScreenStageInformation"
LineNames=GetDefaultOptionLines()
TimerSeconds=30
ShowSongInformation=true

#Line14="list,StepsLocked"
Line14="lua,CCMSteps()"
Line16="list,Characters"
Line17="lua,CProTiming()"

#[ScreenPlayerOptionsRestrictedCT]
#Fallback="ScreenPlayerOptionsRestricted"
#Line1="lua,SpeedMods()"


[ScreenPlayerOptionsRestrictedRave]
Fallback="ScreenPlayerOptions"
HelpText=OptionsNavigation()
NextScreen="ScreenStageInformation"
LineNames=GetDefaultOptionRaveLines()
TimerSeconds=30
Line14="lua,CMSteps()"

#[ScreenPlayerOptionsRestrictedRaveCT]
#Fallback="ScreenPlayerOptionsRestrictedRave"
#Line1="lua,SpeedMods()"


[ScreenSongOptions]
HeaderTitle="SOptions"
Fallback="ScreenPlayerOptions"
HelpText=Screen.String("HelpTextSongOptions")
LineNames=GetDefaultSongOptionLines()
#LineNames="4,5,6,7,8,9,10"
#,11

TimerSeconds=40

Line1="list,LifeType"
Line2="list,BarDrain"
Line3="list,BatLives"
Line4="lua,GamePrefDefaultFail2()"
#Line4="list,Fail"
Line5="list,Assist"
Line6="lua,CRate()"
Line7="list,SoundEffect"
Line8="list,AutoAdjust"
Line9="lua,CBackground()"
Line10="lua,CLyrics()"
Line11="list,SaveScores"
Line12="list,SaveReplays"

PlayerNameplateP1OnCommand=visible,false
PlayerNameplateP2OnCommand=visible,false


[ScreenEditOptions]
ShowHeader=false
HelpText=visible,false
LineNames="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17"
# uses legacy speed line
#Line1="list,Speed"
Line1="lua,ArbitrarySpeedMods()"
Line2="list,Handicap"
Line3="list,Accel"
Line4="list,Effect"
Line5="list,Turn"
Line6="list,Appearance"
Line7="list,Insert"
Line8="list,Insert2"
Line9="list,Scroll"
Line10="lua,CEditorNoteSkins()"
Line11="list,Hide"
Line12="list,Persp"
Line13="list,Attacks"
Line14="list,Assist"
Line15="lua,CRate()"
Line16="list,AutoAdjust"
Line17="conf,EditorShowBGChangesPlay"
OutCancelCommand=
OptionRowNormalMetricsGroup="OptionRowPlayer"

PlayerNameplateP1X=SCREEN_LEFT+WideScale(100,180)
PlayerNameplateP1Y=SCREEN_CENTER_Y-170
PlayerNameplateP1OnCommand=draworder,DrawOrder.Decorations;zoomy,1
PlayerNameplateP1OffCommand=accelerate,0.2;zoomy,0
PlayerNameplateP2X=SCREEN_RIGHT-WideScale(100,180)
PlayerNameplateP2Y=SCREEN_CENTER_Y-170
PlayerNameplateP2OnCommand=draworder,DrawOrder.Decorations;zoomy,1
PlayerNameplateP2OffCommand=accelerate,0.2;zoomy,0

ShowSongInformation=true
SongInformationX=SCREEN_CENTER_X-64
SongInformationY=SCREEN_TOP+74
SongInformationOnCommand=draworder,99;zoom,0.75;addy,-10;accelerate,0.2;addy,10;
SongInformationOffCommand=accelerate,0.2;addy,-10;zoomy,0

ShowInfoStatusP1=true
InfoStatusP1X=SCREEN_CENTER_X*0.575-28
InfoStatusP1Y=SCREEN_BOTTOM-70
InfoStatusP1OnCommand=player,PLAYER_1;draworder,-1
InfoStatusP1OffCommand=

ShowInfoStatusP2=true
InfoStatusP2X=SCREEN_CENTER_X*1.425+26
InfoStatusP2Y=SCREEN_BOTTOM-70
InfoStatusP2OnCommand=player,PLAYER_2;draworder,-1
InfoStatusP2OffCommand=

ShowInfoStatusFrameP1=false
ShowInfoStatusFrameP2=false

[ScreenEdit]
EditHelpOnCommand=vertalign,top;horizalign,left;zoom,0.5;shadowlength,2;strokecolor,Color("Black")
InfoOnCommand=vertalign,top;horizalign,left;zoom,0.5;shadowlength,2;strokecolor,Color("Black")
PlayRecordHelpOnCommand=horizalign,left;zoom,0.7;shadowlength,2;strokecolor,Color("Black")
# ↓変更するとEDIT・PRACTICEのオプション画面において選択中の難易度のBPM・スピード値の正しい数値が取得できなくなります
CurrentBeatFormat="%s:\n  %.3f\n"

[ScreenPractice]
EditHelpY=SCREEN_TOP+46
InfoY=SCREEN_TOP+46

[ScreenStageInformation]
Class="ScreenSplash"
Fallback="ScreenSplash"
NextScreen=Branch.GameplayScreen()
PrevScreen=SelectMusicOrCourse()
PrepareScreen=Branch.GameplayScreen()
ForceTimer=true
TimerSeconds=4
ShowCoinsAndCredits=true
#AllowStartToSkip=true

ScreenBeginCommand=%SetFail

## gameplay & related ##
[ScreenGameplay]
Class="ScreenGameplayNormal"
NextScreen=Branch.AfterGameplay()
ShowCoinsAndCredits=true
ScoreKeeperClass=GetScoreKeeper
AllowCenter1Player=true
#TickEarlySeconds=0.05
StartGivesUp=false
GiveUpSeconds=
#Rateの分開始調整
MinSecondsToStep=6*GAMESTATE:GetSongOptionsObject("ModsLevel_Preferred"):MusicRate()
MinSecondsToMusic=2*GAMESTATE:GetSongOptionsObject("ModsLevel_Preferred"):MusicRate()
# ↓をtrueに変えると強制終了します
SurvivalModOverride=false

CodeNames=SelectGameplayKeys()
CodeScrollNomal="@Select-Up"
CodeScrollReverse="@Select-Down"
CodeHiSpeedUp="@Select-Right"
CodeHiSpeedDown="@Select-Left"
CodeCoverUp="+EffectUp"
CodeCoverDown="+EffectDown"
CodeCoverHidden="Select,Select"
CodeScrollNomal2="@Select-DownRight"
CodeScrollReverse2="@Select-DownLeft"
CodeHiSpeedUp2="@Select-UpRight"
CodeHiSpeedDown2="@Select-UpLeft"
CodeGraphRight="@Select-EffectDown"
CodeGraphLeft="@Select-EffectUp"

DebugX=SCREEN_CENTER_X
DebugY=SCREEN_BOTTOM-116
DebugOnCommand=zoom,0.55;shadowlength,2;strokecolor,Color("Black")
DebugStartOnCommand=stoptweening;diffusealpha,0;linear,1/8;diffusealpha,1
DebugBackOnCommand=stoptweening;diffusealpha,0;linear,1/8;diffusealpha,1
DebugTweenOffCommand=stoptweening;linear,1/8;diffusealpha,0

PlayerP1OnePlayerOneSideX=OnePlayerSoloPlay(PLAYER_1)
PlayerP2OnePlayerOneSideX=OnePlayerSoloPlay(PLAYER_2)
PlayerP1TwoPlayersOneSideX=math.floor(scale((0.72/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP2TwoPlayersOneSideX=math.floor(scale((2.28/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP1TwoPlayersTwoSidesX=math.floor(scale((0.72/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP2TwoPlayersTwoSidesX=math.floor(scale((2.28/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP1OnePlayerTwoSidesX=OnePlayerBattlePlay(PLAYER_1)
PlayerP2OnePlayerTwoSidesX=OnePlayerBattlePlay(PLAYER_2)
PlayerP1TwoPlayersSharedSidesX=SCREEN_CENTER_X
PlayerP2TwoPlayersSharedSidesX=SCREEN_CENTER_X

# lyric
LyricDisplaySetNoReverseCommand=draworder,190;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+190
LyricDisplaySetReverseCommand=draworder,190;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+190
LyricDisplaySetOneReverseCommand=draworder,190;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+190
LyricDisplayDefaultColor=color("0,1,0,1");

# banner
BannerTitleX=
BannerTitleY=
BannerTitleOnCommand=draworder,96
BannerTitleOffCommand=

# frames
ShowLifeFrameP1=true
LifeFrameP1X=
LifeFrameP1Y=
LifeFrameP1OnCommand=draworder,95
LifeFrameP1OffCommand=
ShowScoreFrameP1=true
ScoreFrameP1X=
ScoreFrameP1Y=
ScoreFrameP1OnCommand=draworder,95
ScoreFrameP1OffCommand=

ShowLifeFrameP2=true
LifeFrameP2X=
LifeFrameP2Y=
LifeFrameP2OnCommand=draworder,95
LifeFrameP2OffCommand=
ShowScoreFrameP2=true
ScoreFrameP2X=
ScoreFrameP2Y=
ScoreFrameP2OnCommand=draworder,95
ScoreFrameP2OffCommand=

ShowStageFrame=true
StageFrameX=
StageFrameY=
StageFrameOnCommand=draworder,94
StageFrameOffCommand=

ShowBannerFrame=true
BannerFrameX=
BannerFrameY=
BannerFrameOnCommand=draworder,94
BannerFrameOffCommand=


# see /Graphics/ScreenGameplay SongPosition/
SongPositionX=
SongPositionY=
SongPositionOnCommand=draworder,97
SongPositionOffCommand=

SongPositionP1X=
SongPositionP1Y=
SongPositionP1OnCommand=draworder,97
SongPositionP1OffCommand=

SongPositionP2X=
SongPositionP2Y=
SongPositionP2OnCommand=draworder,97
SongPositionP2OffCommand=

## player life
# 上部パーセント・Raveライフ表示
LifeP1X=SCREEN_CENTER_X
LifeP1Y=SCREEN_TOP+34.5
#LifeP1OnCommand=visible,GAMESTATE:GetPlayMode() == 'PlayMode_Oni' or GAMESTATE:GetPlayMode() == 'PlayMode_Rave';draworder,97;zoomy,0;sleep,0.8;linear,0.2;zoomy,1
LifeP1OnCommand=visible,false
LifeP1OffCommand=

LifeP2X=SCREEN_CENTER_X
LifeP2Y=SCREEN_TOP+34.5
#LifeP2OnCommand=visible,GAMESTATE:GetPlayMode() == 'PlayMode_Oni' or GAMESTATE:GetPlayMode() == 'PlayMode_Rave';draworder,97;zoomy,0;sleep,0.8;linear,0.2;zoomy,1
LifeP2OnCommand=visible,false
LifeP2OffCommand=

# steps display
ShowDiffDisplayP1=true
DiffDisplayP1X=
DiffDisplayP1Y=
DiffDisplayP1OnCommand=draworder,100
DiffDisplayP1OffCommand=

ShowDiffDisplayP2=true
DiffDisplayP2X=
DiffDisplayP2Y=
DiffDisplayP2OnCommand=draworder,100
DiffDisplayP2OffCommand=

## player score
ScoreP1X=GetPosition(PLAYER_1)+stylecheckposition()-32
ScoreP1Y=SCREEN_BOTTOM-32
ScoreP1OnCommand=%function(self) if GAMESTATE:IsCourseMode() then if GAMESTATE:GetCurrentCourse():GetCourseType() == 'CourseType_Endless' or GAMESTATE:GetCurrentCourse():GetCourseType() == 'CourseType_Survival' then (cmd(visible,true;draworder,100;horizalign,right;skewx,-0.2;diffuse,color("0,1,1,1");zoom,0.55;zoomy,0;sleep,0.55;linear,0.2;zoomy,0.55;))(self) else (cmd(visible,false;))(self) end; else (cmd(visible,false;))(self) end; end;
ScoreP1OffCommand=

ScoreP2X=GetPosition(PLAYER_2)+stylecheckposition()+32
ScoreP2Y=SCREEN_BOTTOM-32
ScoreP2OnCommand=%function(self) if GAMESTATE:IsCourseMode() then if GAMESTATE:GetCurrentCourse():GetCourseType() == 'CourseType_Endless' or GAMESTATE:GetCurrentCourse():GetCourseType() == 'CourseType_Survival' then (cmd(visible,true;draworder,100;horizalign,right;skewx,-0.2;diffuse,color("0,1,1,1");zoom,0.55;zoomy,0;sleep,0.55;linear,0.2;zoomy,0.55;))(self) else (cmd(visible,false;))(self) end; else (cmd(visible,false;))(self) end; end;
ScoreP2OffCommand=

# ScoreDisplay
# Raveライフ表示・レベル
SecondaryScoreP1X=0
SecondaryScoreP1Y=SCREEN_CENTER_Y
SecondaryScoreP1OnCommand=draworder,93
SecondaryScoreP1OffCommand=
SecondaryScoreP2X=0
SecondaryScoreP2Y=SCREEN_CENTER_Y
SecondaryScoreP2OnCommand=draworder,93
SecondaryScoreP2OffCommand=
#
DeltaSecondsP1X=GetPosition(PLAYER_1)+stylecheckposition()
DeltaSecondsP1Y=SCREEN_BOTTOM-48
DeltaSecondsP1OnCommand=skewx,-0.2
DeltaSecondsP1GainSecondsCommand=finishtweening;diffusealpha,1;zoom,0.5;decelerate,0.3;zoom,0.425;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP1OffCommand=
DeltaSecondsP2X=GetPosition(PLAYER_2)+stylecheckposition()
DeltaSecondsP2Y=SCREEN_BOTTOM-48
DeltaSecondsP2OnCommand=skewx,-0.2
DeltaSecondsP2GainSecondsCommand=finishtweening;diffusealpha,1;zoom,0.5;decelerate,0.3;zoom,0.425;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP2OffCommand=

## stage
ShowStageDisplay=true
StageDisplayX=mplayerposition()+stylecheckposition()
StageDisplayY=GAMESTATE:IsCourseMode() and SCREEN_TOP+23 or SCREEN_TOP+19
StageDisplayOnCommand=draworder,100;shadowlength,2;diffusealpha,0;zoom,1.35;sleep,0.6;accelerate,0.4;diffusealpha,1;zoom,0.875;
StageDisplayOffCommand=

# player mods
PlayerOptionsP1X=GetPosition(PLAYER_1)-150
PlayerOptionsP1Y=SCREEN_BOTTOM-17
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP1OffCommand=

PlayerOptionsP2X=GetPosition(PLAYER_2)+150
PlayerOptionsP2Y=SCREEN_BOTTOM-17
PlayerOptionsP2OnCommand=visible,false
PlayerOptionsP2OffCommand=

# song options
SongOptionsX=mplayerposition()+stylecheckposition()
SongOptionsY=SCREEN_TOP+4
SongOptionsOnCommand=draworder,98;maxwidth,254;diffuse,color("0,1,1,1");zoomy,0;sleep,0.7;linear,0.2;zoomy,1;zoom,1
SongOptionsOffCommand=

# max combo
ShowMaxCombo=false

# song title
SongTitleX=mplayerposition()+stylecheckposition()
SongTitleY=SCREEN_CENTER_Y
SongTitleOnCommand=
SongTitleOffCommand=

# course song numbers (blue color is a holdover)
SongNumberP1X=SCREEN_CENTER_X-16
SongNumberP1Y=SCREEN_TOP+23
SongNumberP1OnCommand=visible,false

SongNumberP2X=SCREEN_CENTER_X+16
SongNumberP2Y=SCREEN_TOP+23
SongNumberP2OnCommand=visible,false

SurviveTimeX=SCREEN_CENTER_X
SurviveTimeY=SCREEN_CENTER_Y+54
SurviveTimeOnCommand=diffuse,color("1,0.2,0,0");strokecolor,Color("Black");shadowlength,0;zoom,1.2;sleep,1;linear,0.2;diffuse,color("1,0.2,0,1");sleep,1.8;linear,2;diffuse,color("1,0.2,0,0")

ShowBPMDisplay=true
BPMDisplayX=mplayerposition()+stylecheckposition()
BPMDisplayY=SCREEN_BOTTOM-11
BPMDisplayOnCommand=draworder,101
BPMDisplayOffCommand=

ScoreboardC1P1X=SCBoardX(2,180,30)
ScoreboardC1P1OnCommand=%function(self) if SCBoardCo(2) then (cmd(visible,true;zoom,0.65;shadowlength,1;strokecolor,Color("Black")))(self) else self:visible(false); end; end;
ScoreboardC2P1X=SCBoardX(2,90,120)
ScoreboardC2P1Y=SCREEN_CENTER_Y*0.45
ScoreboardC2P1OnCommand=%function(self) if SCBoardCo(2) then (cmd(visible,true;zoom,0.65;shadowlength,1;strokecolor,Color("Black")))(self) else self:visible(false); end; end;
ScoreboardC3P1X=SCBoardX(2,30,180)
ScoreboardC3P1Y=SCREEN_CENTER_Y*0.45
ScoreboardC3P1OnCommand=%function(self) if SCBoardCo(2) then (cmd(visible,true;zoom,0.65;shadowlength,1;strokecolor,Color("Black")))(self) else self:visible(false); end; end;


# P2 is used when the only player is P1
ScoreboardC1P2X=SCBoardX(1,180,30)
ScoreboardC1P2Y=SCREEN_CENTER_Y*0.45
ScoreboardC1P2OnCommand=%function(self) if SCBoardCo(1) then (cmd(visible,true;zoom,0.65;shadowlength,1;strokecolor,Color("Black")))(self) else self:visible(false); end; end;
ScoreboardC2P2X=SCBoardX(1,90,120)
ScoreboardC2P2Y=SCREEN_CENTER_Y*0.45
ScoreboardC2P2OnCommand=%function(self) if SCBoardCo(1) then (cmd(visible,true;zoom,0.65;shadowlength,1;strokecolor,Color("Black")))(self) else self:visible(false); end; end;
ScoreboardC3P2X=SCBoardX(1,30,180)
ScoreboardC3P2Y=SCREEN_CENTER_Y*0.45
ScoreboardC3P2OnCommand=%function(self) if SCBoardCo(1) then (cmd(visible,true;zoom,0.65;shadowlength,1;strokecolor,Color("Black")))(self) else self:visible(false); end; end;

ShowTLDifficulty=true
TLDifficultyX=GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and SCREEN_LEFT+8 or SCREEN_RIGHT-8
TLDifficultyY=SCREEN_CENTER_Y
TLDifficultyOnCommand=%function(self) if GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 then self:rotationz(-90); else self:rotationz(90); end; (cmd(draworder,101;zoom,0.5;shadowlength,1;diffuse,color("1,0.5,0,1");zoomy,0;sleep,0.6;linear,0.2;zoomy,0.5))(self) end;
TLDifficultyOffCommand=

[ScreenGameplayExtra]
Class="ScreenGameplayNormal"
Fallback="ScreenGameplay"

SurviveTimeX=SCREEN_CENTER_X
SurviveTimeY=SCREEN_CENTER_Y+54
SurviveTimeOnCommand=diffuse,color("1,0.2,0,0");shadowlength,0;zoom,1.2;sleep,1;linear,0.2;diffuse,color("1,0.2,0,1");strokecolor,Color("Black");sleep,1.8;linear,1;diffuse,color("1,0.2,0,0")
SurviveTimeOffCommand=

[ScreenGameplayRave]
Class="ScreenGameplayNormal"
Fallback="ScreenGameplay"
ShowStageDisplay=true

SongPositionOnCommand=visible,false

ActiveAttackListP1X=SCREEN_CENTER_X*0.5-110
ActiveAttackListP1Y=SCREEN_CENTER_Y+60
ActiveAttackListP1OnCommand=draworder,-1;diffuse,PlayerColor(PLAYER_1);horizalign,left;shadowlength,0;zoom,1
ActiveAttackListP1OffCommand=
ActiveAttackListP2X=SCREEN_CENTER_X*1.5-110
ActiveAttackListP2Y=SCREEN_CENTER_Y+60
ActiveAttackListP2OnCommand=draworder,-1;diffuse,PlayerColor(PLAYER_2);horizalign,left;shadowlength,0;zoom,1
ActiveAttackListP2OffCommand=

CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+50
CombinedLifeOnCommand=draworder,97;zoomy,0;sleep,0.6;decelerate,0.2;zoom,1
CombinedLifeOffCommand=

[CombinedLifeMeterTug]
MeterWidth=WideScale(500,620)
MeterHeight=12

[ScreenGameplayCourse]
Class="ScreenGameplayNormal"
Fallback="ScreenGameplay"
ShowStageDisplay=true

ActiveAttackListP1X=SCREEN_CENTER_X*0.5-110
ActiveAttackListP1Y=SCREEN_CENTER_Y+60
ActiveAttackListP1OnCommand=draworder,-1;diffuse,PlayerColor(PLAYER_1);horizalign,left;shadowlength,0;zoom,1
ActiveAttackListP1OffCommand=
ActiveAttackListP2X=SCREEN_CENTER_X*1.5-110
ActiveAttackListP2Y=SCREEN_CENTER_Y+60
ActiveAttackListP2OnCommand=draworder,-1;diffuse,PlayerColor(PLAYER_2);horizalign,left;shadowlength,0;zoom,1
ActiveAttackListP2OffCommand=

[LifeMeterBar]
DangerThreshold=0.2
InitialValue=0.5
HotValue=1.0
LifeMultiplier=1.0
MinStayAlive="TapNoteScore_W3"
ForceLifeDifficultyOnExtraStage=true
ExtraStageLifeDifficulty=1.0

# How much it changes
LifePercentChangeW1=0.008
LifePercentChangeW2=0.008
LifePercentChangeW3=0.004
LifePercentChangeW4=0.000
LifePercentChangeW5=function(self) \
	if getenv("ExLifeLevel") then \
		if getenv("ExLifeLevel")=="Hard" then \
			return -0.160; \
		else \
			return -0.040; \
		end; \
	else \
		return -0.040; \
	end; \
end;
LifePercentChangeMiss=function(self) \
	if getenv("ExLifeLevel") then \
		if getenv("ExLifeLevel")=="Hard" then \
			return -0.320; \
		else \
			return -0.080; \
		end; \
	else \
		return -0.080; \
	end; \
end;
LifePercentChangeHitMine=function(self) \
	if getenv("ExLifeLevel") then \
		if getenv("ExLifeLevel")=="Hard" then \
			return -0.400; \
		else \
			return -0.080; \
		end; \
	else \
		return -0.080; \
	end; \
end;
LifePercentChangeHeld=0.008
LifePercentChangeLetGo=function(self) \
	if getenv("ExLifeLevel") then \
		if getenv("ExLifeLevel")=="Hard" then \
			return -0.320; \
		else \
			return -0.080; \
		end; \
	else \
		return -0.080; \
	end; \
end;
LifePercentChangeCheckpointMiss=-0.002
LifePercentChangeCheckpointHit=0.002

# And various positionings
UnderX=0
UnderY=0
DangerX=0
DangerY=0
StreamX=0
StreamY=0
OverX=0
OverY=0

[LifeMeterBattery]
BatteryBlinkTime=0.5
MinScoreToKeepLife=((getenv("ExLifeLevel")=="MFC") and 'TapNoteScore_W1' or ((getenv("ExLifeLevel")=="PFC") and 'TapNoteScore_W2' or GetAdhocPref("GoodCombo")))
BatteryP1X=0
BatteryP1Y=-3
BatteryP2X=0
BatteryP2Y=-3
NumLivesFormat="%d"
NumLivesP1X=SCREEN_CENTER_X
NumLivesP1Y=20
NumLivesP1OnCommand=visible,false
#NumLivesP1OnCommand=diffuse,PlayerColor(PLAYER_1);
NumLivesP1GainLifeCommand=
NumLivesP1LoseLifeCommand=
NumLivesP2X=SCREEN_CENTER_X
NumLivesP2Y=20
NumLivesP2OnCommand=visible,false
#NumLivesP2OnCommand=diffuse,PlayerColor(PLAYER_2);
NumLivesP2GainLifeCommand=
NumLivesP2LoseLifeCommand=

[LifeMeterBattery Percent]
Format=FormatPercentScore
PercentFormat="%2d"
PercentP1X=-162
PercentP1Y=-22
PercentP1OnCommand=visible,false
PercentP2X=162
PercentP2Y=-22
PercentP2OnCommand=visible,false
PercentP2OffCommand=

DancePointsP1X=-162
DancePointsP1Y=-22
DancePointsP1OnCommand=visible,false
DancePointsP1OffCommand=
DancePointsP2X=162
DancePointsP2Y=-22
DancePointsP2OnCommand=visible,false
DancePointsP2OffCommand=

[ScoreDisplayRave]
MeterP1X=SCREEN_CENTER_X*0.5-18
MeterP1Y=-206
MeterP1OnCommand=visible,false
MeterP1OffCommand=
MeterP2X=SCREEN_CENTER_X*1.5+20
MeterP2Y=-206
MeterP2OnCommand=visible,false
MeterP2OffCommand=

LevelP1X=SCREEN_CENTER_X-192
LevelP1Y=-228
LevelP1OnCommand=visible,false
LevelP1OffCommand=
LevelP2X=SCREEN_CENTER_X+192
LevelP2Y=-228
LevelP2OnCommand=visible,false
LevelP2OffCommand=

[ScoreDisplayPercentage Percent]
RemainderFormat=".%02d%%"
PercentFormat="%2d"
PercentP1X=20
PercentP1Y=0
PercentP1OnCommand=
PercentP1OffCommand=
PercentP2X=20
PercentP2Y=0
PercentP2OnCommand=
PercentP2OffCommand=
DancePointsP1X=20
DancePointsP1Y=0
DancePointsP1OnCommand=
DancePointsP1OffCommand=
DancePointsP2X=20
DancePointsP2Y=0
DancePointsP2OnCommand=
DancePointsP2OffCommand=
DancePointsDigits=5
PercentUseRemainder=false
ApplyScoreDisplayOptions=true
Format=FormatPercentScore
PercentDecimalPlaces=2
PercentTotalSize=5

[Judgment]
JudgmentOnCommand=
JudgmentW1Command=stopeffect;y,0;zoom,1;rotationz,0;diffusealpha,1;shadowlength,4;zoomx,1.7;accelerate,0.05;zoom,1.15;glowblink;effectperiod,0.075;effectcolor1,color("1,1,1,0.3");effectcolor2,color("1,1,1,0");sleep,0.45;linear,0.05;zoomy,0
JudgmentW2Command=stopeffect;y,0;zoom,1;rotationz,0;diffusealpha,1;shadowlength,4;zoomx,1.45;linear,0.05;zoom,1.15;sleep,0.45;linear,0.05;zoomy,0
JudgmentW3Command=stopeffect;y,0;zoom,1;rotationz,0;diffusealpha,1;shadowlength,4;zoomx,1.2;linear,0.05;zoom,1.075;sleep,0.5;linear,0.05;zoomy,0
JudgmentW4Command=stopeffect;y,0;zoom,1;rotationz,0;diffusealpha,1;shadowlength,4;sleep,0.45;linear,0.05;zoomy,0
JudgmentW5Command=stopeffect;y,0;zoom,1;rotationz,-10;diffusealpha,1;shadowlength,4;vibrate;effectmagnitude,1,3,2;sleep,0.5;linear,0.05;diffusealpha,0
JudgmentMissCommand=stopeffect;y,0;zoom,1;diffusealpha,1;shadowlength,4;vibrate;effectmagnitude,1,3,2;diffusealpha,1;rotationz,0;decelerate,0.1;rotationz,10;sleep,0.05;accelerate,0.15;y,20;sleep,0.2;linear,0.05;diffusealpha,0

[Protiming]
ProtimingOnCommand=shadowlength,3;strokecolor,Color("Black");zoom,0.8;horizalign,right;x,18;y,14;skewx,-0.125;
AverageOnCommand=shadowlength,3;horizalign,left;x,32;y,8;zoom,0.75;diffuse,ColorLightTone( Color("Green") );strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
EarlyTextOnCommand=shadowlength,3;horizalign,right;x,20;zoom,0.9;diffuse,ColorLightTone( Color("Yellow") );strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
TextOnCommand=shadowlength,3;horizalign,left;x,32;y,-6;zoom,0.75;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
MigsOnCommand=shadowlength,3;horizalign,left;x,32;y,-21;zoom,0.5;strokecolor,Color("Outline");

ProtimingW1Command=finishtweening;diffuse,Color("White");zoom,1.25;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,Colors.Judgment["JudgmentLine_W1"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW2Command=finishtweening;diffuse,Color("White");zoom,1.25;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,Colors.Judgment["JudgmentLine_W2"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW3Command=finishtweening;diffuse,Color("White");zoom,1.25;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,Colors.Judgment["JudgmentLine_W3"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW4Command=finishtweening;diffuse,Color("White");zoom,1.25;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,Colors.Judgment["JudgmentLine_W4"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW5Command=finishtweening;diffuse,Color("White");zoom,1.25;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,Colors.Judgment["JudgmentLine_W5"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingMissCommand=finishtweening;diffusealpha,1;zoom,1.15;glow,GameColor.Judgment["JudgmentLine_Miss"];linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_Miss"];sleep,2;linear,0.5;diffuse,Color("Invisible");

AveragePulseCommand=finishtweening;diffusealpha,1;zoom,0.75*1.025;decelerate,0.05;zoom,0.75;sleep,2;linear,0.5;diffusealpha,0;
TextPulseCommand=finishtweening;diffusealpha,1;zoom,0.5*1.025;decelerate,0.05;zoom,0.5;sleep,2;linear,0.5;diffusealpha,0;
EarlyTextPulseCommand=finishtweening;diffusealpha,1;zoom,0.9*1.1;decelerate,0.05;zoom,0.9;sleep,2;linear,0.5;diffusealpha,0;
ExTextPulseCommand=finishtweening;diffusealpha,1;zoom,0.5*1.1;decelerate,0.05;zoom,0.5;sleep,2;linear,0.5;diffusealpha,0;

[HoldJudgment]
HoldJudgmentLetGoCommand=zoom,1;y,0;diffusealpha,1;shadowlength,4;vibrate;effectmagnitude,1,3,2;diffusealpha,1;rotationz,0;decelerate,0.1;rotationz,10;sleep,0.05;y,0;accelerate,0.15;y,20;sleep,0.2;linear,0.05;diffusealpha,0
HoldJudgmentHeldCommand=zoom,1;y,0;rotationz,0;diffusealpha,1;shadowlength,4;zoomx,4;linear,0.05;zoom,1.15;sleep,0.45;linear,0.05;zoomy,0

[Combo]
ShowComboAt=4
ShowMissesAt=0

NumberOnCommand=x,110;y,20;shadowlength,4;horizalign,right;vertalign,bottom
LabelOnCommand=x,110;y,40;shadowlength,4;horizalign,right;vertalign,bottom

NumberMinZoom=1
NumberMaxZoom=1
NumberMaxZoomAt=150

LabelMinZoom=1
LabelMaxZoom=1

NumberPulseCommand=%function(self,param) self:stoptweening(); self:zoomx(1.3*param.Zoom); self:zoomy(1.15*param.Zoom); self:linear(0.04); self:zoomx(param.Zoom); self:zoomy(param.Zoom); end
LabelPulseCommand=%function(self,param) self:stoptweening(); self:zoomx(1.3*param.Zoom); self:zoomy(1.15*param.Zoom); self:linear(0.04); self:zoom(param.Zoom); self:zoomy(param.Zoom); end

ANumberPulseCommand=%function(self) self:stoptweening(); self:zoomx(1.3); self:zoomy(1.15); self:linear(0.04); self:zoomx(1); self:zoomy(1); end
ALabelPulseCommand=%function(self) self:stoptweening(); self:zoomx(1.3); self:zoomy(1.15); self:linear(0.04); self:zoom(1); self:zoomy(1); end


[StepsDisplayGameplay]
Fallback="StepsDisplay"
ShowTicks=false
ShowAutogen=false
ShowStepsType=false
ShowMeter=false

ShowFrame=false
FrameX=0
FrameY=0
FrameOnCommand=
FrameLoadCommand=

[StepsDisplayGameplayP1]
Fallback="StepsDisplayGameplay"

[StepsDisplayGameplayP2]
Fallback="StepsDisplayGameplay"

[StreamDisplay]
# todo: make sure this is the same
NumPills=1
TextureCoordScaleX=-0.5
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:zoomtowidth(SCREEN_WIDTH/2-91); \
	self:zoomtoheight(12); \
end;


# RollingNumbersの返り値はおかしい(バグっぽい)
[RollingNumbers]
Commify=false

#TextFormat="%09.0f"
#ApproachSeconds=0.2
#Commify=true
#LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersMeter]
Fallback="RollingNumbers"
TextFormat="%01.0f"
ApproachSeconds=dfApproachSeconds()
Commify=false

[GraphDisplay]
BodyWidth=GraphDisplayWidth()
BodyHeight=72
LineOnCommand=diffusealpha,0.7;blend,'BlendMode_WeightedMultiply';

[GraphDisplayP1]
Fallback="GraphDisplay"
[GraphDisplayP2]
Fallback="GraphDisplay"


[ComboGraph]
BodyWidth=280

[ComboGraphP1]
Fallback="ComboGraph"
[ComboGraphP2]
Fallback="ComboGraph"

[ScreenSyncOverlay]
StatusOnCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+150;strokecolor,Color("Black");diffusealpha,0;linear,0.4;diffusealpha,1;
AdjustmentsOnCommand=strokecolor,Color("Black");x,PositionPerPlayer(GAMESTATE:GetMasterPlayerNumber(),SCREEN_CENTER_X-160,SCREEN_CENTER_X+160);zoom,0.6;y,SCREEN_CENTER_Y;diffusealpha,0;linear,0.4;diffusealpha,1;


## eval ##
[ScreenEvaluation Percent]
# TODO: Better name?
PercentFormat="%2d"
PercentP1X=0
PercentP1Y=0
PercentP1OnCommand=visible,false
PercentP1OffCommand=
PercentP2X=0
PercentP2Y=0
PercentP2OnCommand=visible,false
PercentP2OffCommand=
PercentRemainderP1OnCommand=shadowlength,0
PercentRemainderP2OnCommand=shadowlength,0
DancePointsP1X=0
DancePointsP1Y=0
DancePointsP1OnCommand=visible,false
DancePointsP1OffCommand=
DancePointsP2X=0
DancePointsP2Y=0
DancePointsP2OnCommand=visible,false
DancePointsP2OffCommand=
DancePointsDigits=1
ApplyScoreDisplayOptions=true
PercentUseRemainder=false
FormatPercentScore=FormatPercentScore
Format=
PercentDecimalPlaces=2
PercentTotalSize=5
RemainderFormat=".%02d%%"

[RollingNumbersEvaluation]
Fallback="RollingNumbers"
ApproachSeconds=0.00001

[RollingNumbersJudgment]
Fallback="RollingNumbers"
TextFormat="%04.0f"
ApproachSeconds=0.00001
Commify=false

[ScreenEvaluation]
CodeNames=EvaluationKeys()
CodeStart="~Start"
CodeJudgeChange="~Select"
CodeRivalOpen1="@Down-UpLeft"
CodeRivalOpen2="@UpLeft-Down"
CodeRivalOpen3="@MenuDown-UpLeft"
CodeRivalOpen4="@UpLeft-MenuDown"
CodeScreenshot1="@MenuLeft-MenuRight"
CodeScreenshot2="@MenuRight-MenuLeft"
CodeScreenshot3="@Left-Right"
CodeScreenshot4="@Right-Left"
HeaderTitle="Evaluation"
Class="ScreenEvaluation"
Fallback="ScreenWithMenuElements"
NextScreen=Branch.AfterEvaluation()
PrevScreen=Branch.AfterEvaluation()
TimerSeconds=20

ShowHeaderRight=true
ShowHeaderTimeR=true

Summary=false
ShowStyleIcon=true
ShowIHelpunder=true
ShowComboGraph=false
ShowTryExtraStage=false
MemoryCardIcons=true
ShowBonusArea=false
HelpText=Screen.String("HelpTextEvaluation")

ShowGradeArea=false
ShowBannerArea=false
ShowSharedJudgmentLineLabels=false

ShowGameType=true
GameTypeX=SCREEN_CENTER_X
GameTypeY=SCREEN_BOTTOM-48
GameTypeOnCommand=addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y;zoom,0.675;shadowlength,1;shadowcolor,color("#22222266")
GameTypeOffCommand=bouncebegin,0.15;addy,SCREEN_CENTER_Y;

ShowTLDifficulty=true
TLDifficultyX=SCREEN_LEFT+90
TLDifficultyY=SCREEN_TOP+6
TLDifficultyOnCommand=draworder,98;zoom,0.5;horizalign,left;diffuse,color("1,0.5,0,1");zoomy,0;sleep,0.6;linear,0.2;zoomy,0.5
TLDifficultyOffCommand=

ShowFOpen=true
FOpenX=
FOpenY=
FOpenOnCommand=draworder,110
FOpenOffCommand=
#
ShowSongInformation=true
SongInformationX=SCREEN_CENTER_X
SongInformationY=SCREEN_TOP+91
SongInformationOnCommand=draworder,99
SongInformationOffCommand=

MachineRecordP1X=SCREEN_CENTER_X-212
MachineRecordP1Y=SCREEN_CENTER_Y+184
MachineRecordP1OnCommand=draworder,98;zoomy,0;sleep,0.4;linear,0.3;zoom,1
MachineRecordP1OffCommand=
MachineRecordP2X=SCREEN_CENTER_X+186
MachineRecordP2Y=SCREEN_CENTER_Y+184
MachineRecordP2OnCommand=draworder,98;zoomy,0;sleep,0.4;linear,0.3;zoom,1
MachineRecordP2OffCommand=

PersonalRecordP1X=SCREEN_CENTER_X-154
PersonalRecordP1Y=SCREEN_CENTER_Y+184
PersonalRecordP1OnCommand=draworder,98;zoomy,0;sleep,0.4;linear,0.3;zoom,1
PersonalRecordP1OffCommand=
PersonalRecordP2X=SCREEN_CENTER_X+244
PersonalRecordP2Y=SCREEN_CENTER_Y+184
PersonalRecordP2OnCommand=draworder,98;zoomy,0;sleep,0.4;linear,0.3;zoom,1
PersonalRecordP2OffCommand=

ShowGradeDisplay=GAMESTATE:GetPlayMode() == 'PlayMode_Regular' or GAMESTATE:GetPlayMode() == 'PlayMode_Nonstop'
GradeDisplayP1X=SCREEN_CENTER_X * 0.55-26
GradeDisplayP1Y=SCREEN_CENTER_Y-66
GradeDisplayP1OnCommand=draworder,100;zoom,0;sleep,2;zoomx,0.95;zoomy,5;accelerate,0.15;zoomy,0.95
GradeDisplayP1OffCommand=
GradeDisplayP2X=SCREEN_CENTER_X * 1.55-26
GradeDisplayP2Y=SCREEN_CENTER_Y-66
GradeDisplayP2OnCommand=draworder,100;zoom,0;sleep,2;zoomx,0.95;zoomy,5;accelerate,0.15;zoomy,0.95
GradeDisplayP2OffCommand=

# banner
BannerWidth=256
BannerHeight=80

LargeBannerX=SCREEN_CENTER_X
LargeBannerY=SCREEN_CENTER_Y-115+16
LargeBannerOnCommand=
LargeBannerOffCommand=
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y-114+16
LargeBannerFrameOnCommand=
LargeBannerFrameOffCommand=

# scores
ShowScoreArea=false
ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_CENTER_Y+105+16
ScoreLabelOnCommand=visible,false
ScoreLabelOffCommand=
ScoreNumberP1X=SCREEN_CENTER_X*0.55+26
ScoreNumberP1Y=SCREEN_CENTER_Y+180
ScoreNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);zoomy,0;sleep,0.4;decelerate,0.2;zoom,0.65;zoomy,0.65
ScoreNumberP1OffCommand=
ScoreNumberP2X=SCREEN_CENTER_X*1.55+26
ScoreNumberP2Y=SCREEN_CENTER_Y+180
ScoreNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);zoomy,0;sleep,0.4;decelerate,0.2;zoom,0.65;zoomy,0.65
ScoreNumberP2OffCommand=


# player options
PlayerOptionsP1X=SCREEN_CENTER_X*0.55-108-38
PlayerOptionsP1Y=SCREEN_CENTER_Y+196+16
#PlayerOptionsP1OnCommand=horizalign,left;shadowlength,0;maxwidth,572;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;sleep,0.2;linear,0.4;diffusealpha,1
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP1OffCommand=
PlayerOptionsP2X=SCREEN_CENTER_X*1.55+76+38
PlayerOptionsP2Y=SCREEN_CENTER_Y+196+16
#PlayerOptionsP2OnCommand=horizalign,right;shadowlength,0;maxwidth,572;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;sleep,0.2;linear,0.4;diffusealpha,1
PlayerOptionsP2OnCommand=visible,false
PlayerOptionsP2OffCommand=

# stage
ShowStageDisplay=true
StageDisplayX=(round(GetScreenAspectRatio(),5) > 1.77778) and SCREEN_RIGHT-30 or SCREEN_RIGHT-WideScale(70,120)
StageDisplayY=SCREEN_CENTER_Y-168
StageDisplayOnCommand=draworder,97;shadowlength,2;horizalign,right;diffusealpha,0;zoom,1.35;sleep,0.6;accelerate,0.4;diffusealpha,1;zoom,0.95
StageDisplayOffCommand=

# try extra stage
TryExtraStageX=SCREEN_CENTER_X
TryExtraStageY=SCREEN_CENTER_Y-120
TryExtraStageOnCommand=draworder,99
TryExtraStageOffCommand=

StepsDisplayP1X=SCREEN_CENTER_X*0.55-108
StepsDisplayP1Y=SCREEN_CENTER_Y-140
StepsDisplayP1OnCommand=draworder,70;zoomy,0;sleep,0.6;linear,0.2;zoomy,1
StepsDisplayP1OffCommand=

StepsDisplayP2X=SCREEN_CENTER_X*1.55+76
StepsDisplayP2Y=SCREEN_CENTER_Y-140
StepsDisplayP2OnCommand=draworder,70;zoomy,0;sleep,0.6;linear,0.2;zoomy,1
StepsDisplayP2OffCommand=

# graph display
GraphFrameP1X=SCREEN_CENTER_X-166
GraphFrameP1Y=SCREEN_CENTER_Y+148+16
GraphFrameP1OnCommand=visible,false
GraphFrameP1OffCommand=
GraphFrameP2X=SCREEN_CENTER_X+166
GraphFrameP2Y=SCREEN_CENTER_Y+148+16
GraphFrameP2OnCommand=visible,false
GraphFrameP2OffCommand=
GraphDisplayP1X=SCREEN_CENTER_X*0.55-16.5
GraphDisplayP1Y=SCREEN_CENTER_Y-78-23+12
GraphDisplayP1OnCommand=vertalign,bottom;zoomy,0;sleep,0.2;accelerate,0.5;zoomy,1
GraphDisplayP1OffCommand=
GraphDisplayP2X=SCREEN_CENTER_X*1.55-16.5
GraphDisplayP2Y=SCREEN_CENTER_Y-78-23+12
GraphDisplayP2OnCommand=vertalign,bottom;zoomy,0;sleep,0.2;accelerate,0.5;zoomy,1
GraphDisplayP2OffCommand=

# combo graph
ComboGraphP1X=SCREEN_CENTER_X*0.55-16.5
ComboGraphP1Y=SCREEN_CENTER_Y-48+12
ComboGraphP1OnCommand=diffusealpha,0;linear,0.4;diffusealpha,1
ComboGraphP1OffCommand=
#--#
ComboGraphP2X=SCREEN_CENTER_X*1.55-16.5
ComboGraphP2Y=SCREEN_CENTER_Y-48+12
ComboGraphP2OnCommand=diffusealpha,0;linear,0.4;diffusealpha,1
ComboGraphP2OffCommand=

# survived (courses only)
SurvivedFrameP1X=SCREEN_CENTER_X-320-34
SurvivedFrameP1Y=SCREEN_CENTER_Y+27+16
SurvivedFrameP1OnCommand=visible,false
SurvivedFrameP1OffCommand=

SurvivedNumberP1X=SCREEN_CENTER_X*0.55+100
SurvivedNumberP1Y=SCREEN_CENTER_Y-90
SurvivedNumberP1OnCommand=horizalign,right;vertalign,bottom;skewx,-0.2;draworder,95;diffuse,color("1,0.6,0,0");strokecolor,color("0,0.3,0.3,1");addx,20;zoom,1.15;sleep,2;decelerate,0.2;diffuse,color("1,0.6,0,1");addx,-20
SurvivedNumberP1OffCommand=

SurvivedFrameP2X=SCREEN_CENTER_X+320+34
SurvivedFrameP2Y=SCREEN_CENTER_Y+27+16
SurvivedFrameP2OnCommand=visible,false
SurvivedFrameP2OffCommand=

SurvivedNumberP2X=SCREEN_CENTER_X*1.55+100
SurvivedNumberP2Y=SCREEN_CENTER_Y-90
SurvivedNumberP2OnCommand=horizalign,right;vertalign,bottom;skewx,-0.2;draworder,95;diffuse,color("1,0.6,0,0");strokecolor,color("0,0.3,0.3,1");addx,20;zoom,1.15;sleep,2;decelerate,0.2;diffuse,color("1,0.6,0,1");addx,-20
SurvivedNumberP2OffCommand=

# percent for oni
PercentFrameP1X=SCREEN_CENTER_X-320-32-2
PercentFrameP1Y=SCREEN_CENTER_Y-120+16
PercentFrameP1OnCommand=visible,false
PercentFrameP1OffCommand=
PercentFrameP2X=SCREEN_CENTER_X+320+32+2
PercentFrameP2Y=SCREEN_CENTER_Y-120+16
PercentFrameP2OnCommand=visible,false
PercentFrameP2OffCommand=
PercentP1X=SCREEN_CENTER_X*0.55-40
PercentP1Y=SCREEN_CENTER_Y-66
PercentP1OnCommand=draworder,98
PercentP1OffCommand=
ShowPercentScoreP2=true
PercentP2X=SCREEN_CENTER_X*1.55-40
PercentP2Y=SCREEN_CENTER_Y-66
PercentP2OnCommand=draworder,98
PercentP2OffCommand=

# percent for regular
ShowPercentScore=true
ShowPercentScoreP1=true
PercentScoreP1X=SCREEN_CENTER_X*0.55-40
PercentScoreP1Y=SCREEN_CENTER_Y-54
PercentScoreP1OnCommand=draworder,99
PercentScoreP1OffCommand=
ShowPercentScoreP2=true
PercentScoreP2X=SCREEN_CENTER_X*1.55-40
PercentScoreP2Y=SCREEN_CENTER_Y-54
PercentScoreP2OnCommand=draworder,99
PercentScoreP2OffCommand=

# time area (oni only)
TimeLabelX=SCREEN_CENTER_X
TimeLabelY=SCREEN_CENTER_Y+105+16
TimeLabelOnCommand=visible,false
TimeLabelOffCommand=
TimeNumberP1X=SCREEN_CENTER_X*0.55+26
TimeNumberP1Y=SCREEN_CENTER_Y+180
TimeNumberP1OnCommand=visible,false
TimeNumberP1OffCommand=
TimeNumberP2X=SCREEN_CENTER_X*1.55+26
TimeNumberP2Y=SCREEN_CENTER_Y+180
TimeNumberP2OnCommand=visible,false
TimeNumberP2OffCommand=

# unused
ShowModIconRows=false

#windisplay to lua
ShowWinDisplay=false
WinDisplayX=
WinDisplayY=SCREEN_CENTER_Y-70
WinDisplayOnCommand=draworder,97
WinDisplayOffCommand=

RaveGraphFrameX=SCREEN_CENTER_X
RaveGraphFrameY=SCREEN_CENTER_Y+160
RaveGraphFrameOnCommand=draworder,94;zoomy,0;linear,0.3;zoomy,1


[ScreenEvaluationStage]
Fallback="ScreenEvaluation"
NextScreen=Branch.AfterEvaluation()
PrevScreen=Branch.AfterEvaluation()
# config
ShowGraphDisplay=true

ShowTryExtraStage=GAMESTATE:HasEarnedExtraStage()

[ScreenEvaluationExtra]
Fallback="ScreenEvaluationStage"
NextScreen=Branch.AfterEvaluation()
PrevScreen=Branch.AfterEvaluation()

[ScreenEvaluationExtra2]
Fallback="ScreenEvaluationStage"
NextScreen=Branch.AfterEvaluation()
PrevScreen=Branch.AfterEvaluation()

[ScreenEvaluationNonstop]
Fallback="ScreenEvaluation"
NextScreen="ScreenProfileSave"

ShowSurvivedArea=true
ShowGraphDisplay=true
ShowBonusArea=false
ShowStageDisplay=true
ShowFOpen=true
FOpenX=
FOpenY=
FOpenOnCommand=draworder,110
FOpenOffCommand=

[ScreenEvaluationOni]
Fallback="ScreenEvaluation"
NextScreen="ScreenProfileSave"

ShowSurvivedArea=true
ShowTimeArea=true
ShowPointsArea=true
ShowGraphDisplay=true
ShowBonusArea=false
ShowGradeArea=false
ShowScoreArea=false
ShowStageDisplay=true
ShowFOpen=true
FOpenX=
FOpenY=
FOpenOnCommand=draworder,110
FOpenOffCommand=

[ScreenEvaluationEndless]
Fallback="ScreenEvaluation"
NextScreen="ScreenProfileSave"

ShowSurvivedArea=true
ShowTimeArea=true
ShowScoreArea=false
ShowGraphDisplay=false
ShowFOpen=true
FOpenX=
FOpenY=
FOpenOnCommand=draworder,110
FOpenOffCommand=

[ScreenEvaluationRave]
Fallback="ScreenEvaluationStage"
ShowScoreArea=false
ShowComboGraph=false
HelpText=Screen.String("HelpTextNoSelGradeEvaluation")

GradeP1OnCommand=visible,false
GradeP2OnCommand=visible,false

MachineRecordP1OnCommand=visible,false
MachineRecordP2OnCommand=visible,false
PersonalRecordP1OnCommand=visible,false
PersonalRecordP2OnCommand=visible,false

TryExtraStageOnCommand=visible,false

# graph display
GraphFrameP1OnCommand=visible,false
GraphFrameP2OnCommand=visible,false
GraphDisplayP1X=SCREEN_CENTER_X
GraphDisplayP1Y=SCREEN_CENTER_Y+30
GraphDisplayP1OnCommand=draworder,94;zoomy,0;linear,0.5;zoomy,1
GraphDisplayP1OffCommand=
GraphDisplayP2X=SCREEN_CENTER_X
GraphDisplayP2Y=SCREEN_CENTER_Y+30
GraphDisplayP2OnCommand=draworder,95;zoomy,0;linear,0.5;zoomy,1
GraphDisplayP2OffCommand=

#windisplay to lua
ShowWinDisplay=true

[ScreenEvaluationSummary]
HeaderTitle="Summary"
Fallback="ScreenEvaluation"
NextScreen=Branch.AfterSummary()

HelpText=SummaryHelpText()

Summary=true
ShowHeader=true
ShowStyleIcon=true
ShowIHelpunder=true
MemoryCardIcons=true
ShowComboGraph=false
ShowSongInformation=false
ShowStageDisplay=false

SmallBanner1X=SCREEN_CENTER_X-60
SmallBanner1Y=SCREEN_CENTER_Y-160
SmallBanner1OnCommand=visible,false
SmallBanner1OffCommand=
#--#
SmallBanner2X=SCREEN_CENTER_X-30
SmallBanner2Y=SCREEN_CENTER_Y-150
SmallBanner2OnCommand=visible,false
SmallBanner2OffCommand=
#--#
SmallBanner3X=SCREEN_CENTER_X
SmallBanner3Y=SCREEN_CENTER_Y-140
SmallBanner3OnCommand=visible,false
SmallBanner3OffCommand=
#--#
SmallBanner4X=SCREEN_CENTER_X+30
SmallBanner4Y=SCREEN_CENTER_Y-130
SmallBanner4OnCommand=visible,false
SmallBanner4OffCommand=
#--#
SmallBanner5X=SCREEN_CENTER_X+60
SmallBanner5Y=SCREEN_CENTER_Y-120
SmallBanner5OnCommand=visible,false
SmallBanner5OffCommand=

CategoryRecordP1X=SCREEN_CENTER_X-186
CategoryRecordP1Y=SCREEN_CENTER_Y+158
CategoryRecordP1OnCommand=visible,false
CategoryRecordP1OffCommand=
#--#
CategoryRecordP2X=SCREEN_CENTER_X+186
CategoryRecordP2Y=SCREEN_CENTER_Y+158
CategoryRecordP2OnCommand=visible,false
CategoryRecordP2OffCommand=

# no i don't use it
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false

ShowPercentScore=false
ShowPercentScoreP1=false
ShowPercentScoreP2=false

ShowGraphDisplay=false
GraphFrameP1OnCommand=visible,false
GraphFrameP2OnCommand=visible,false

MaxComboNumberP1OnCommand=visible,false
MaxComboNumberP2OnCommand=visible,false
ShowScoreArea=false

RaveGraphFrameOnCommand=visible,false

#windisplay to lua
ShowWinDisplay=true
WinDisplayX=
WinDisplayY=SCREEN_CENTER_Y-106
WinDisplayOnCommand=draworder,99
WinDisplayOffCommand=

ShowSharedJudgmentLineLabels=false
ShowJudgmentLineW1=false
ShowJudgmentLineW2=false
ShowJudgmentLineW3=false
ShowJudgmentLineW4=false
ShowJudgmentLineW5=false
ShowJudgmentLineMiss=false
ShowJudgmentLineHeld=false
ShowJudgmentLineMaxCombo=false
ShowGraphDisplay=false

MachineRecordP1OnCommand=visible,false
MachineRecordP2OnCommand=visible,false

PersonalRecordP1OnCommand=visible,false
PersonalRecordP2OnCommand=visible,false


[ScreenProfileSave]
NextScreen=Branch.AfterProfileSave()

[ScreenProfileSaveSummary]
Fallback="ScreenProfileSave"
NextScreen=Branch.AfterSaveSummary()
PrevScreen=Branch.AfterSaveSummary()

[ScreenAfterProfileCheck]
HeaderTitle="Evaluation"
Fallback="ScreenWithMenuElements"
NextScreen=SelectEndingScreen()
PrevScreen=SelectEndingScreen()
TimerSeconds=30
HelpText=Screen.String("HelpTextAfterProfile")
ShowHeaderRight=true
ShowHeaderTimeR=true
ShowIHelpunder=true
ScreenOnCommand=%function(self) self:lockinput(3); end;

CodeNames=SelectAProfileKeys()
CodeUp="+MenuUp"
CodeUp2="+Up"
CodeDown="+MenuDown"
CodeDown2="+Down"
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeStart="+Start"
CodeBack="Back"
CodeSelect="Select"
CodeCenter="+Center"
CodeDownLeft="DownLeft"
CodeDownRight="DownRight"

[ScreenCredits]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen=NextRanking()
TimerSeconds=155
PlayMusic=true
StopMusicOnBack=true
ShowCoinsAndCredits=true
ResetGameState=false

[ScreenTiCredits]
Fallback="ScreenCredits"
StartScreen=SCREENMAN:GetTopScreen():GetName() == "ScreenTiCredits" and "ScreenOptionsService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenTTCredits]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen=NextRanking()
TimerSeconds=155
PlayMusic=true
StopMusicOnBack=true
ShowCoinsAndCredits=true
ResetGameState=false

[ScreenTTTiCredits]
Fallback="ScreenTTCredits"
StartScreen=SCREENMAN:GetTopScreen():GetName() == "ScreenTTTiCredits" and "ScreenOptionsService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenMusicScroll]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenRanking"
#TimerSeconds=20
ScrollDelay=0.2
ScrollSpeed=2.0
TextZoom=0.8


## edit mode ##
[ScreenEditMenu]
HeaderTitle="EditMenu"
PrevScreen="ScreenOptionsEdit"
HelpText=visible,false

ExplanationX=
ExplanationY=
ExplanationOnCommand=visible,false

[EditMenu]
Arrows1X=SCREEN_CENTER_X-100
Arrows2X=SCREEN_CENTER_X+290
ArrowsEnabledCommand=diffuse,color("1,1,1,1");shadowlength,2
ArrowsDisabledCommand=diffuse,color("0.45,0.45,0.45,1");shadowlength,2

SongBannerX=SCREEN_CENTER_X+212
SongBannerY=SCREEN_CENTER_Y-72
SongBannerOnCommand=scaletoclipped,128,40

TextBannerType="TextBannerEdit"
SongTextBannerX=SCREEN_CENTER_X-100
SongTextBannerY=SCREEN_CENTER_Y-72

GroupBannerX=SCREEN_CENTER_X+212
GroupBannerY=SCREEN_CENTER_Y-124
GroupBannerOnCommand=scaletoclipped,128,40

StepsDisplayX=SCREEN_CENTER_X+100
StepsDisplayY=SCREEN_CENTER_Y+12
StepsDisplaySourceX=SCREEN_CENTER_X+100
StepsDisplaySourceY=SCREEN_CENTER_Y+92

Label1X=SCREEN_CENTER_X-150
Label1OnCommand=zoom,0.75;horizalign,right;shadowlength,2;strokecolor,Color("Black")
Label2X=SCREEN_CENTER_X-150
Label2OnCommand=zoom,0.75;horizalign,right;shadowlength,2;strokecolor,Color("Black")
Label3X=SCREEN_CENTER_X-150
Label3OnCommand=zoom,0.75;horizalign,right;shadowlength,2;strokecolor,Color("Black")
Label4X=SCREEN_CENTER_X-150
Label4OnCommand=zoom,0.75;horizalign,right;shadowlength,2;strokecolor,Color("Black")
Label5X=SCREEN_CENTER_X-150
Label5OnCommand=zoom,0.75;horizalign,right;shadowlength,2;strokecolor,Color("Black")
Label6X=SCREEN_CENTER_X-150
Label6OnCommand=zoom,0.75;horizalign,right;shadowlength,2;strokecolor,Color("Black")
Label7X=SCREEN_CENTER_X-150
Label7OnCommand=zoom,0.75;horizalign,right;shadowlength,2;strokecolor,Color("Black")

Value1X=SCREEN_CENTER_X-86
Value1OnCommand=zoom,0.75;halign,0;shadowlength,2;maxwidth,300;strokecolor,Color("Black")
Value2X=SCREEN_CENTER_X+70
Value2OnCommand=zoom,0.75;halign,0;shadowlength,2;maxwidth,SCREEN_CENTER_X*0.65;strokecolor,Color("Black")
Value3X=SCREEN_CENTER_X+90
Value3OnCommand=zoom,0.75;shadowlength,2;maxwidth,SCREEN_CENTER_X*0.65;strokecolor,Color("Black")
Value4X=SCREEN_CENTER_X-20
Value4OnCommand=diffusealpha,0
Value5X=SCREEN_CENTER_X+90
Value5OnCommand=zoom,0.75;shadowlength,2;maxwidth,SCREEN_CENTER_X*0.65;strokecolor,Color("Black")
Value6X=SCREEN_CENTER_X-20
Value6OnCommand=diffusealpha,0
Value7X=SCREEN_CENTER_X+90
Value7OnCommand=zoom,0.75;shadowlength,2;maxwidth,SCREEN_CENTER_X*0.65;strokecolor,Color("Black")

Row1Y=SCREEN_CENTER_Y-124
Row2Y=SCREEN_CENTER_Y-72
Row3Y=SCREEN_CENTER_Y-18
Row4Y=SCREEN_CENTER_Y+12
Row5Y=SCREEN_CENTER_Y+62
Row6Y=SCREEN_CENTER_Y+92
Row7Y=SCREEN_CENTER_Y+142

[TextBannerEdit]
Fallback="TextBanner"
AfterSetCommand=%EvaluationTextBannerAfterSet

TitleX=15
TitleY=0
TitleOnCommand=visible,true;horizalign,left
SubtitleX=22
SubtitleY=0
SubtitleOnCommand=visible,true;horizalign,left
ArtistX=15
ArtistY=0
ArtistOnCommand=visible,true;horizalign,left

[StepsDisplayEdit]
Fallback="StepsDisplay"
ShowFrame=true
FrameSetCommand=
ShowTicks=false
NumTicks=20
MaxTicks=20
TicksX=62
TicksOnCommand=
TicksOffCommand=
TicksSetCommand=

ShowMeter=false
MeterX=6
MeterY=-32
MeterOnCommand=
MeterSetCommand=

ShowDescription=false
DescriptionX=21
DescriptionY=44
DescriptionOnCommand=
DescriptionSetCommand=

ShowAutogen=false
AutogenX=-18
AutogenY=24
AutogenOnCommand=
AutogenSetCommand=

ShowStepsType=false
StepsTypeX=-80
StepsTypeY=0
StepsTypeOnCommand=
StepsTypeOffCommand=
StepsTypeSetCommand=

## the other things ##
[ScreenJukeboxMenu]
HeaderTitle="JukeboxMenu"
Class="ScreenOptionsMaster"
Fallback="ScreenOptions"
NextScreen="ScreenJukebox"
PrevScreen="ScreenTitleMenu"
TimerSeconds=-1
HelpText=false
ShowStyleIcon=false
ShowIHelpunder=false
ShowHeaderRight=false
ShowHeaderTimeR=false
NavigationMode="Normal"
InputMode="together"
ForceAllPlayers=true

LineNames="1,2,3,4"
Line1="list,Styles"
Line2="list,Groups"
Line3="list,Difficulties"
Line4="lua,OptionsRandomJukebox()"

[ScreenJukebox]
Class="ScreenJukebox"
Fallback="ScreenGameplay"
NextScreen="ScreenJukebox"
StartScreen="ScreenTitleMenu"
LightsMode="LightsMode_Demonstration"
ShowCourseModifiersProbability=0
AllowAdvancedModifiers=true

CodeNames=""

ShowDiffDisplayP1=false
ShowDiffDisplayP2=false
ShowStageDisplay=false
ShowBPMDisplay=false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
SecondaryScoreP1OnCommand=visible,false
SecondaryScoreP2OnCommand=visible,false
StageDisplayOnCommand=visible,false
SongOptionsOnCommand=visible,false
SongNumberP1OnCommand=visible,false
SongNumberP2OnCommand=visible,false
SongPositionOnCommand=visible,false

# banner
BannerTitleX=
BannerTitleY=
BannerTitleOnCommand=draworder,96
BannerTitleOffCommand=


## arcade mode screens, etc.
[ScreenNameEntry]
Class="ScreenNameEntry"
Fallback="ScreenWithMenuElementsBlank"
#NextScreen=GAMESTATE:IsCourseMode() and "ScreenCredits" or SelectEndingScreen()
NextScreen=Branch.NextProfileCheck()

TimerX=SCREEN_CENTER_X
TimerY=SCREEN_TOP+30
CategoryY=SCREEN_CENTER_Y+190
CategoryZoom=0.7
CharsZoomSmall=1.0
CharsZoomLarge=1.5
CharsSpacingY=40
ScrollingCharsCommand=diffuse,1,0.5,0,1
SelectedCharsCommand=diffuse,1,1,0,1
ReceptorArrowsY=SCREEN_CENTER_Y-140
NumCharsToDrawBehind=2
NumCharsToDrawTotal=10
FakeBeatsPerSec=2.5
ForceTimer=true
TimerMetricsGroup="MenuTimer"
TimerSeconds=NameEntryTimer
TimerStealth=false
TimerOnCommand=diffusealpha,1
ShowStyleIcon=false
ShowIHelpunder=false
MaxRankingNameLength=4
PlayerP1OnePlayerOneSideX=OnePlayerSoloPlay(PLAYER_1)
PlayerP2OnePlayerOneSideX=OnePlayerSoloPlay(PLAYER_2)
PlayerP1TwoPlayersTwoSidesX=math.floor(scale((0.75/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP2TwoPlayersTwoSidesX=math.floor(scale((2.25/3),0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP1OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP2OnePlayerTwoSidesX=SCREEN_CENTER_X

[ScreenNameEntryTraditional]
Class="ScreenNameEntryTraditional"
Fallback="ScreenWithMenuElements"
NextScreen=Branch.NextProfileCheck()
CancelTransitionsOut=true
ShowHeader=false
TimerSeconds=30
ForceTimer=true
ForceTimerWait=true
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_TOP+30
TimerMetricsGroup="MenuTimer"
TimerSeconds=NameEntryTimer
TimerStealth=false
TimerOnCommand=diffusealpha,1
RepeatRate=15
RepeatDelay=1/4
HelpText=false
#
MaxRankingNameLength=4
CodeNames="Backspace,Left,Right,NextRow1=NextRow,NextRow2=NextRow,PrevRow,JumpToEnter,Enter"
CodeLeft="+Left"
CodeRight="+Right"
CodePrevRow="+Up"
CodeNextRow1="+Down"
CodeNextRow2="Select,~Select"
CodeBackspace="@Select-Left"
CodeJumpToEnter="@Select-Start"
CodeEnter="Start"

[ScreenProfileSaveSummary]
Fallback="ScreenProfileSave"
NextScreen=Branch.AfterSaveSummary()
PrevScreen=Branch.AfterSaveSummary()

[ScreenGameOver]
NextScreen="ScreenCompany2"
TimerSeconds=3
PlayMusic=true
ForceTimer=true

[ScreenReloadSongs]
ShowCoinsAndCredits=false

[ScreenStage]
Fallback="ScreenStageInformation"

[ScreenR]
Class="ScreenSplash"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenR"
PrevScreen=Branch.TitleMenu()
AllowStartToSkip=false
PrepareScreen=Branch.TitleMenu()

[ScreenGameplaySyncMachine]
Class="ScreenGameplaySyncMachine"
Fallback="ScreenGameplay"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
PlayerType="PlayerSyncMachine"

AllowCenter1Player=false
SyncInfoOnCommand=strokecolor,Color("Black");x,PositionPerPlayer(GAMESTATE:GetMasterPlayerNumber(),SCREEN_CENTER_X+160,SCREEN_CENTER_X-160);zoom,0.6;y,SCREEN_CENTER_Y;diffusealpha,0;linear,0.4;diffusealpha,1;

SongMeterDisplayP1OnCommand=visible,false
StepsDisplayP1SetNoReverseCommand=visible,false
StepsDisplayP1SetReverseCommand=visible,false
SongMeterDisplayP2OnCommand=visible,false
StepsDisplayP2SetNoReverseCommand=visible,false
StepsDisplayP2SetReverseCommand=visible,false
StepsDescriptionP1OnCommand=visible,false
StepsDescriptionP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
DifficultyP1OnCommand=visible,false
DifficultyP1ReverseOnCommand=visible,false
DifficultyP2OnCommand=visible,false
DifficultyP2ReverseOnCommand=visible,false
SongOptionsOnCommand=visible,false
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false


[ScreenPrompt]
Class="ScreenPrompt"
Fallback="ScreenWithMenuElementsBlank"
PrevScreen="ScreenEdit"
TimerSeconds=-1
PlayMusic=getenv("playmusictextentry")
StopMusicOnBack=false

QuestionX=SCREEN_CENTER_X
QuestionY=SCREEN_CENTER_Y-60
QuestionOnCommand=shadowlength,2;strokecolor,Color("Black");zoom,0.7;wrapwidthpixels,600
QuestionOffCommand=
#
CursorOnCommand=visible,true
CursorOffCommand=
#
Answer1Of1X=SCREEN_CENTER_X
Answer1Of1Y=SCREEN_CENTER_Y+120
Answer1Of1OnCommand=maxwidth,100;strokecolor,Color("Black")
Answer1Of1OffCommand=
##
Answer1Of2X=SCREEN_CENTER_X-100
Answer1Of2Y=SCREEN_CENTER_Y+120
Answer1Of2OnCommand=maxwidth,100;strokecolor,Color("Black")
Answer1Of2OffCommand=
#
Answer2Of2X=SCREEN_CENTER_X+100
Answer2Of2Y=SCREEN_CENTER_Y+120
Answer2Of2OnCommand=maxwidth,100;strokecolor,Color("Black")
Answer2Of2OffCommand=
###
Answer1Of3X=SCREEN_CENTER_X-170
Answer1Of3Y=SCREEN_CENTER_Y+120
Answer1Of3OnCommand=maxwidth,100;strokecolor,Color("Black")
Answer1Of3OffCommand=
#
Answer2Of3X=SCREEN_CENTER_X
Answer2Of3Y=SCREEN_CENTER_Y+120
Answer2Of3OnCommand=maxwidth,100;strokecolor,Color("Black")
Answer2Of3OffCommand=
#
Answer3Of3X=SCREEN_CENTER_X+170
Answer3Of3Y=SCREEN_CENTER_Y+120
Answer3Of3OnCommand=maxwidth,100;strokecolor,Color("Black")
Answer3Of3OffCommand=


### net ###
[ScreenNetSelectBase]
Class="ScreenNetSelectBase"
Fallback="ScreenWithMenuElements"
HelpText=Screen.String("HelpTextSelectNet")
TimerStealth=true
TimerSeconds=-1

ShowHeaderRight=true
ShowHeaderTimeR=false

ChatInputBoxX=ChatBoxX()
ChatInputBoxY=SCREEN_CENTER_Y+214
ChatInputBoxOnCommand=draworder,101;diffusealpha,0;linear,0.5;diffusealpha,0.75
ChatInputBoxOffCommand=linear,0.5;zoomy,0
ChatInputBoxWidth=SCREEN_CENTER_X*0.775
ChatInputBoxHeight=28

ChatInputX=ChatInOutX()
ChatInputY=SCREEN_CENTER_Y+204
ChatTextInputWidth=SCREEN_CENTER_X*1.5
ChatInputOnCommand=draworder,101;halign,0;valign,0;zoom,0.5;diffusealpha,0;linear,0.55;diffusealpha,1;strokecolor,Color("Black")
ChatInputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0

ChatOutputBoxX=ChatBoxX()
ChatOutputBoxY=SCREEN_CENTER_Y+134
ChatOutputBoxOnCommand=draworder,101;diffusealpha,0;linear,0.5;diffusealpha,0.75
ChatOutputBoxOffCommand=linear,0.5;zoomy,0
ChatOutputBoxWidth=SCREEN_CENTER_X*0.775
ChatOutputBoxHeight=SCREEN_CENTER_Y*0.525

ChatOutputX=ChatInOutX()
ChatOutputY=SCREEN_CENTER_Y+188
ChatTextOutputWidth=SCREEN_CENTER_X*1.5
ChatOutputLines=10
ChatOutputOnCommand=draworder,101;halign,0;valign,1;zoom,0.5;diffusealpha,0;linear,0.55;diffusealpha,1;strokecolor,Color("Black")
ChatOutputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0

UsersX=SCREEN_CENTER_X*0.2
UsersY=SCREEN_CENTER_Y-176
UserSpacingX=56
UserLine2Y=12
UsersOnCommand=draworder,94;maxwidth,210;zoom,0.5;zoomy,0;linear,0.2;zoomy,0.5
UsersOffCommand=linear,0.2;zoomy,0
Users0Command=diffuse,color("1,0.4,0.4,1");strokecolor,Color("Black")
Users1Command=diffuse,color("1,1,1,1");strokecolor,Color("Black")
Users2Command=diffuse,color("0.5,0.5,1,1");strokecolor,Color("Black")
Users3Command=diffuse,color("0.5,1,0.5,1");strokecolor,Color("Black")
Users4Command=diffuse,color("1,0.5,0.5,1");strokecolor,Color("Black")

[ScreenNetRoom]
HeaderTitle="NetRoom"
Class="ScreenNetRoom"
Fallback="ScreenNetSelectBase"
PrevScreen=Branch.TitleMenu()
ShowStyleIcon=true
ShowIHelpunder=true
TimerStealth=true
TimerSeconds=-1

RoomWheelX=SCREEN_CENTER_X
RoomWheelY=SCREEN_CENTER_Y-66
RoomWheelOnCommand=SetDrawByZPosition,true;
RoomWheelOffCommand=

ShowClock=true
ClockX=SCREEN_RIGHT-12
ClockY=SCREEN_TOP+58
ClockOnCommand=draworder,97;
ClockOffCommand=

[RoomWheel]
Fallback="MusicWheel"
RoomWheelItemStartOnCommand=
RoomWheelItemFinishOnCommand=
CreateRoomColor=color("0.0,0.9,0.25,1.0")
ScrollBarOnCommand=visible,false

[RoomWheelItem]
TextX=-72
TextY=40
TextOnCommand=horizalign,left;zoomy,0.9;maxwidth,143;shadowlength,0;strokecolor,Color("Black")
DescriptionX=-66
DescriptionY=58
DescriptionOnCommand=horizalign,left;maxwidth,240;zoomx,0.575;zoomy,0.565;shadowlength,0;strokecolor,Color("Black")

[RoomInfoDisplay]
RoomInfoDisplayOnCommand=x,RoomInfoX();y,SCREEN_CENTER_Y+268;addy,SCREEN_HEIGHT;linear,0.005;addy,-SCREEN_HEIGHT
RoomInfoDisplayOffCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+10;linear,0.005;addy,SCREEN_HEIGHT
DeployDelay=1
RetractDelay=5
RoomTitleOnCommand=x,10;y,-148-50-6;zoom,0.75;maxwidth,374;strokecolor,Color("Black")
RoomDescOnCommand=x,10;y,-132-50-6;zoom,0.75;maxwidth,374;strokecolor,Color("Black")
LastRoundOnCommand=x,10;y,-110-50-6;zoom,0.75;maxwidth,374;strokecolor,Color("Black")
SongTitleOnCommand=x,20;y,-96-50-6;diffuse,color("0,1,1,1");strokecolor,Color("Black");zoom,0.75;maxwidth,364
SongSubTitleOnCommand=x,20+7;y,-83-50-6;diffuse,color("0,1,1,1");strokecolor,Color("Black");zoom,0.575;maxwidth,400
SongArtistOnCommand=x,20;y,-72-50-6;diffuse,color("0,1,1,1");strokecolor,Color("Black");zoom,0.565;maxwidth,400
PlayersOnCommand=x,10;y,-46-60-6;zoom,0.75;maxwidth,374;strokecolor,Color("Black")
PlayerListElementX=20
PlayerListElementY=-32-60-6
PlayerListElementOffsetX=0
PlayerListElementOffsetY=10
PlayerListElementOnCommand=zoom,0.5;maxwidth,160;maxheight,60

[CodeDetectorOnline]
Fallback="CodeDetector"
PrevSteps1="MenuUp,MenuUp"
PrevSteps2=""
NextSteps1="MenuDown,MenuDown"
NextSteps2=""
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""

[ScreenNetSelectMusic]
# ネット接続時にOffコマンドが効いている場所…StepsDisplay, ModIcon, MusicWheel
CodeNames=SelectMusicKeys()
CodeStart="~Start"
CodeSelectSort1="MenuLeft,MenuDown,MenuRight,MenuDown"
CodeSelectSort2="Left,Down,Right,Down"
CodeJudgeChange="+Select"
CodeRivalOpen1="@Down-UpLeft"
CodeRivalOpen2="@UpLeft-Down"
CodeRivalOpen3="@MenuDown-UpLeft"
CodeRivalOpen4="@UpLeft-MenuDown"
CodeTargetSet1="+UpLeft"
CodeTargetSet2="+UpRight"
CodeTargetSetOpen1="@Down-UpRight"
CodeTargetSetOpen2="@UpRight-Down"
CodeTargetSetOpen3="@MenuDown-UpRight"
CodeTargetSetOpen4="@UpRight-MenuDown"

DefaultSort="Group"

HeaderTitle="MusicS"
Class="ScreenNetSelectMusic"
Fallback="ScreenNetSelectBase"
PrevScreen=IsNetConnected() and "ScreenNetRoom" or Branch.TitleMenu()
NextScreen="ScreenStageInformation"
NoSongsScreen=Branch.TitleMenu()
RoomSelectScreen="ScreenNetRoom"
PlayerOptionsScreen="ScreenPlayerOptions"
Codes="CodeDetectorOnline"
ModeMenuAvailable=false

HelpText=Screen.String("HelpTextNetSelectMusic")

ShowStyleIcon=true
ShowIHelpunder=true
TimerStealth=true
TimerSeconds=-1
ShowStatusbar=true

ShowHeaderRight=true
ShowHeaderTimeR=false
ScreenType=2

SampleMusicPreviewMode='SampleMusicPreviewMode_Normal'
SampleMusicDelay=0.25
SampleMusicDelayInit=0
SampleMusicLoops=true
SampleMusicFallbackFadeInSeconds=0

MusicWheelType="OnlineMusicWheel"
MusicWheelX=SCREEN_CENTER_X
MusicWheelY=(round(GetScreenAspectRatio(),5) >= 1.77778) and SCREEN_CENTER_Y-55 or WideScale(SCREEN_CENTER_Y-42,SCREEN_CENTER_Y-55)
MusicWheelOnCommand=SetDrawByZPosition,true;vanishpoint,SCREEN_CENTER_X,SCREEN_CENTER_Y*0.75;zoomy,0;linear,0.3;zoom,1
MusicWheelOffCommand=
#MusicWheelOffCommand=MESSAGEMAN:Broadcast("PDiffSet"); end;

# todo: move these to Lua bganim
ModIconsP1X=SCREEN_CENTER_X+144
ModIconsP1Y=SCREEN_CENTER_Y-165+12
ModIconsP1OnCommand=visible,false
ModIconsP1OffCommand=

ModIconsP2X=SCREEN_CENTER_X+144
ModIconsP2Y=SCREEN_CENTER_Y-165+12
ModIconsP2OnCommand=visible,false
ModIconsP2OffCommand=

# are these used?
optionsX=SCREEN_CENTER_X-240
optionsY=SCREEN_CENTER_Y-170
optionsOnCommand=zoomx,0.0;zoomy,0.0;linear,0.5;zoomy,0.7;zoomx,0.7
optionsOffCommand=linear,0.5;zoomx,0.0;zoomy,0.0

ShowBannerFrame=true
BannerFrameX=0
BannerFrameY=0
BannerFrameOnCommand=draworder,96
BannerFrameOffCommand=

ShowSortDisplay=not GAMESTATE:IsCourseMode()
SortDisplayX=SCREEN_CENTER_X+124
SortDisplayY=SCREEN_CENTER_Y-138
SortDisplayOnCommand=draworder,97
SortDisplayOffCommand=

ShowBalloon=not GAMESTATE:IsCourseMode()
BalloonX=BalloonX()
BalloonY=SCREEN_CENTER_Y+77
BalloonOnCommand=draworder,80
BalloonOffCommand=
BalloonShowCommand=
BalloonHideCommand=stoptweening

ShowDiffnum=false
DiffnumX=0
DiffnumY=12
DiffnumOnCommand=draworder,99
DiffnumOffCommand=

# uses StepsDisplayNet
StepsDisplayP1X=(SCREEN_CENTER_X*0.575)-79
StepsDisplayP1Y=SCREEN_BOTTOM-77
StepsDisplayP1OnCommand=draworder,96;zoomy,0;linear,0.5;zoomy,1
StepsDisplayP2OffCommand=
#StepsDisplayP1OffCommand=%function(self) MESSAGEMAN:Broadcast("JudgeSetting",{GSet = getenv("judgesetp1"),Player = PLAYER_1,Open = 1}); end;

StepsDisplayP2X=(SCREEN_CENTER_X*1.425)+20
StepsDisplayP2Y=SCREEN_BOTTOM-77
StepsDisplayP2OnCommand=draworder,96;zoomy,0;linear,0.5;zoomy,1
StepsDisplayP2OffCommand=
#StepsDisplayP2OffCommand=%function(self) MESSAGEMAN:Broadcast("JudgeSetting",{GSet = getenv("judgesetp2"),Player = PLAYER_2,Open = 1}); end;

ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=(SCREEN_CENTER_X*0.575)-167+30
PaneDisplayTextP1Y=SCREEN_BOTTOM-64
PaneDisplayTextP1OnCommand=player,PLAYER_1;draworder,96;zoomy,0;sleep,0.5;decelerate,0.4;zoomy,1
PaneDisplayTextP1OffCommand=

ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=(SCREEN_CENTER_X*1.425)-113+30
PaneDisplayTextP2Y=SCREEN_BOTTOM-64
PaneDisplayTextP2OnCommand=player,PLAYER_2;draworder,96;zoomy,0;sleep,0.5;decelerate,0.4;zoomy,1
PaneDisplayTextP2OffCommand=

ShowPaneDisplayFrameP1=false
ShowPaneDisplayFrameP2=false

ShowSegmentDisplay=not GAMESTATE:IsCourseMode()
SegmentDisplayX=SCREEN_CENTER_X-276
SegmentDisplayY=SCREEN_CENTER_Y-58-69

ShowBPMDisplay=not GAMESTATE:IsCourseMode()
BPMDisplayX=SCREEN_CENTER_X-82-80
BPMDisplayY=SCREEN_CENTER_Y-56-95
BPMDisplayOnCommand=finishtweening;draworder,97;horizalign,center;maxwidth,180;strokecolor,Color("Black");addx,15;zoomx,0.5;zoomy,0;sleep,0.55;decelerate,0.4;addx,-15;zoomy,0.5;

SongLengthX=SCREEN_CENTER_X-34-80
SongLengthY=SCREEN_CENTER_Y-41-95
SongLengthOnCommand=draworder,97;addx,-15;zoom,1;zoomy,0;sleep,0.8;decelerate,0.4;addx,15;zoomy,1
SongLengthOffCommand=

DifficultyIconP1X=
DifficultyIconP1Y=
DifficultyIconP1OnCommand=
DifficultyIconP1OffCommand=

DifficultyIconP2X=
DifficultyIconP2Y=
DifficultyIconP2OnCommand=
DifficultyIconP2OffCommand=

ShowDifficultyList=not GAMESTATE:IsCourseMode()
DifficultyListX=DifficultyListX()
DifficultyListY=SCREEN_CENTER_Y+104
DifficultyListOnCommand=draworder,97;rotationz,-90;zoom,0.8;addx,-20;decelerate,0.5;addx,20
DifficultyListOffCommand=

UsersX=UsersX()
UsersY=SCREEN_CENTER_Y+125

ShowNoteScoreDataP1=true
NoteScoreDataP1X=SCREEN_LEFT+16
NoteScoreDataP1Y=SCREEN_CENTER_Y-60
NoteScoreDataP1OnCommand=player,PLAYER_1;draworder,99
NoteScoreDataP1OffCommand=

ShowNoteScoreDataP2=true
NoteScoreDataP2X=SCREEN_RIGHT-16
NoteScoreDataP2Y=SCREEN_CENTER_Y-60
NoteScoreDataP2OnCommand=player,PLAYER_2;draworder,99
NoteScoreDataP2OffCommand=

ShowNoteScoreDataFrameP1=false
ShowNoteScoreDataFrameP2=false

ShowWheelScrollBar=true
WheelScrollBarX=SCREEN_CENTER_X*0.6
WheelScrollBarY=SCREEN_TOP+70
WheelScrollBarOnCommand=draworder,100;zoomx,0;sleep,0.3;decelerate,0.3;zoomx,1
WheelScrollBarOffCommand=

ShowTLDifficulty=true
TLDifficultyX=SCREEN_LEFT+90
TLDifficultyY=SCREEN_TOP+6
TLDifficultyOnCommand=%function(self) (cmd(draworder,98;zoom,0.5;horizalign,left;diffuse,color("1,0.5,0,1")))(self) if THEME:GetMetric( Var "LoadingScreen","ScreenType") ~= 2 then (cmd(zoomy,0;sleep,0.6;linear,0.2;zoomy,0.5))(self) end; end;
TLDifficultyOffCommand=

ShowClock=true
ClockX=SCREEN_RIGHT-12
ClockY=SCREEN_TOP+58
ClockOnCommand=draworder,97;
ClockOffCommand=


[ScreenNetEvaluation]
HeaderTitle="Evaluation"
Class="ScreenNetEvaluation"
Fallback="ScreenEvaluationStage"
NextScreen="ScreenProfileSave"
ShowStyleIcon=true
ShowIHelpunder=true
TimerStealth=true
TimerSeconds=-1
HelpText=Screen.String("HelpTextNetEvaluation")

ShowHeaderRight=true
ShowHeaderTimeR=false
PlayerOptionsHideFailType=true

User1X=SCREEN_CENTER_X * 0.55+180
UsersBG1X=SCREEN_CENTER_X * 0.55+180
User2X=SCREEN_CENTER_X * 1.55-200
UsersBG2X=SCREEN_CENTER_X * 1.55-200

UsersBGWidth=SCREEN_CENTER_X*0.6
UsersBGHeight=SCREEN_HEIGHT*0.6
UsersBGCommand=zoom,0;diffuse,color("0,0,0,0")

UsersBGOnCommand=finishtweening;zoom,1.25
UsersBGOffCommand=finishtweening;zoom,1

ShowJudgmentLineW1=true
ShowJudgmentLineW2=true
ShowJudgmentLineW3=true
ShowJudgmentLineW4=true
ShowJudgmentLineW5=true
ShowJudgmentLineMiss=true
ShowJudgmentLineHeld=true
ShowJudgmentLineMaxCombo=true
ShowGraphDisplay=true

W1NumberP1X=(SCREEN_CENTER_X*0.55)-206+72-26
W1NumberP1Y=SCREEN_CENTER_Y+104+8
W1NumberP1OnCommand=diffusealpha,0;
W2NumberP1X=(SCREEN_CENTER_X*0.55)-206+(72*2)-26
W2NumberP1Y=SCREEN_CENTER_Y+104+8
W2NumberP1OnCommand=diffusealpha,0;
W3NumberP1X=(SCREEN_CENTER_X*0.55)-206+(72*3)-26
W3NumberP1Y=SCREEN_CENTER_Y+104+8
W3NumberP1OnCommand=diffusealpha,0;
HeldNumberP1X=(SCREEN_CENTER_X*0.55)+90-26
HeldNumberP1Y=SCREEN_CENTER_Y+104+8
HeldNumberP1OnCommand=diffusealpha,0;

W4NumberP1X=(SCREEN_CENTER_X*0.55)-206+72-26
W4NumberP1Y=SCREEN_CENTER_Y+104+8+38
W4NumberP1OnCommand=diffusealpha,0;
W5NumberP1X=(SCREEN_CENTER_X*0.55)-206+(72*2)-26
W5NumberP1Y=SCREEN_CENTER_Y+104+8+38
W5NumberP1OnCommand=diffusealpha,0;
MissNumberP1X=(SCREEN_CENTER_X*0.55)-206+(72*3)-26
MissNumberP1Y=SCREEN_CENTER_Y+104+8+38
MissNumberP1OnCommand=diffusealpha,0;
MaxComboNumberP1X=(SCREEN_CENTER_X*0.55)+90-26
MaxComboNumberP1Y=SCREEN_CENTER_Y+104+8+38
MaxComboNumberP1OnCommand=diffusealpha,0;

W1NumberP2X=(SCREEN_CENTER_X*1.55)-206+72-26
W1NumberP2Y=SCREEN_CENTER_Y+104+8
W1NumberP2OnCommand=diffusealpha,0;
W2NumberP2X=(SCREEN_CENTER_X*1.55)-206+(72*2)-26
W2NumberP2Y=SCREEN_CENTER_Y+104+8
W2NumberP2OnCommand=diffusealpha,0;
W3NumberP2X=(SCREEN_CENTER_X*1.55)-206+(72*3)-26
W3NumberP2Y=SCREEN_CENTER_Y+104+8
W3NumberP2OnCommand=diffusealpha,0;
HeldNumberP2X=(SCREEN_CENTER_X*1.55)+90-26
HeldNumberP2Y=SCREEN_CENTER_Y+104+8
HeldNumberP2OnCommand=diffusealpha,0;

W4NumberP2X=(SCREEN_CENTER_X*1.55)-206+72-26
W4NumberP2Y=SCREEN_CENTER_Y+104+8+38
W4NumberP2OnCommand=diffusealpha,0;
W5NumberP2X=(SCREEN_CENTER_X*1.55)-206+(72*2)-26
W5NumberP2Y=SCREEN_CENTER_Y+104+8+38
W5NumberP2OnCommand=diffusealpha,0;
MissNumberP2X=(SCREEN_CENTER_X*1.55)-206+(72*3)-26
MissNumberP2Y=SCREEN_CENTER_Y+104+8+38
MissNumberP2OnCommand=diffusealpha,0;
MaxComboNumberP2X=(SCREEN_CENTER_X*1.55)+90-26
MaxComboNumberP2Y=SCREEN_CENTER_Y+104+8+38
MaxComboNumberP2OnCommand=diffusealpha,0;
